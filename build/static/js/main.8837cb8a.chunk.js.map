{"version":3,"sources":["GlobalStyle.js","utils/api.js","utils/auth.js","pages/HomePage/HomePage.js","components/ui/StatusMessage.js","config.js","components/BasicLayout.js","pages/LoginPage/LoginPage.js","components/Nav.js","components/ui/Button.js","pages/bank/BankSignUpPage.js","pages/bank/BankInvitePage.js","pages/bank/BankManageAccountPage.js","pages/bank/feeds/LCFeed.js","pages/bank/feeds/BankLCAppFeedPage.js","pages/bank/feeds/BankLiveLCFeedPage.js","pages/bank/feeds/ClientFeed.js","pages/bank/feeds/BankClientFeedPage.js","pages/bank/feeds/BankLCFeedPage.js","pages/bank/feeds/BankLCFeedPageByClient.js","components/lc/LCView.js","pages/LCViewPage/Pdf.js","pages/LCViewPage/Panel.js","pages/LCViewPage/DocumentaryRequirements.js","components/ui/Modal.js","pages/LCViewPage/ComplianceChecks.js","pages/LCViewPage/LCViewPage.js","pages/bank/BankEmployeeSignUpPage.js","components/ui/Dropdown.js","components/ui/ResizableScreenDiv.js","components/ui/RouteBlockingModal.js","pages/bank/BankLCAppPage.js","pages/business/BusinessSignUpPage.js","pages/business/BusinessInvitePage.js","pages/business/BusinessManageAccountPage.js","pages/business/BusinessEmployeeSignUpPage.js","pages/business/beneficiary/ClaimBeneficiaryStatusPage.js","pages/business/feeds/BusinessLCFeed.js","pages/business/feeds/ClientLCFeedPage.js","pages/business/feeds/BeneficiaryLCFeedPage.js","pages/business/feeds/BankDirectoryPage.js","pages/bank/feeds/ManageClientFeed.js","App.js","index.js","images/logo.png"],"names":["CSSReset","createGlobalStyle","GlobalStyle","objectToSnakeCase","object","newObject","Array","isArray","map","Object","keys","forEach","key","snakeCase","console","error","objectToCamelCase","camelCase","makeAPIRequest","url","requestType","params","returnFullResponse","a","requestURL","fetchParams","method","body","JSON","stringify","fetch","response","status","Promise","reject","json","postFile","file","form","FormData","append","headers","Headers","logIn","email","password","Error","setSessionExpiry","Date","sessionExpiry","getTime","userEmployee","employer","business","usersEmployer","bank","logOut","setUser","UserContext","createContext","expiry","localStorage","setItem","useAuthentication","nextRoute","history","useHistory","useContext","user","useEffect","now","expirySeconds","getItem","getSessionExpiry","then","catch","err","push","HomePage","to","StatusMessage","styled","div","props","config","logo","accentColor","Margin","Title","h1","Subtitle","h2","RightAlignedLink","NavLink","Content","Status","BasicLayout","title","subtitle","link","linktext","isLoading","children","marginStyle","statusComponent","style","size","color","loading","css","LoginForm","LoginErrorMessage","showError","HelpEmail","FormInputWrapper","FormInputTitle","h3","StyledFormInput","input","FormFooter","LogInButton","button","FormInput","value","type","onChange","href","LoginPage","location","useState","setEmail","setPassword","setError","get","onSubmit","e","preventDefault","target","onKey","icon","faArrowRight","marginLeft","StyledNav","nav","StyledNavLink","LoginMenu","StyledLoginLink","StyledProfileLink","ProfileWrapper","ProfileLinkWrapper","show","DropDownWrapper","DropDownHeader","DropDownLink","DropDownNavLink","ProfileDropDown","name","onClick","log","LoginSection","showingDropdown","setShowingDropdown","wrapperEl","useRef","current","focus","ref","onBlur","faUserCircle","fontSize","NavLogo","img","attrs","src","alt","Nav","StyledButton","unselected","disabled","Button","showArrow","arrowStyle","SignUpForm","Form","Field","StyledErrorMessage","ErrorMessage","requiredMsg","signUpFormValidationSchema","shape","newBankName","string","required","matches","passwordConfirm","oneOf","component","BankSignUpPage","fontStyle","initialValues","values","setSubmitting","validationSchema","isSubmitting","StyledForm","FormWrapper","StyledField","ErrorMessageWrapper","ButtonHolder","BankInvitePage","message","setStatus","id","BankManageAccountPage","StyledLink","Link","ListEntryField","li","ListEntryWrapper","ul","header","Search","SearchWrapper","Filter","lcs","setShownLcs","filter","setFilter","callback","parameters","delay","currentTimeout","clearTimeout","setTimeout","useDebouncedEffect","lc","client","toLowerCase","includes","display","alignItems","faSearch","padding","fontWeight","LCListEntry","applicationDate","draftPresentationDate","creditAmt","LCFeed","hideSearch","setLcs","shownLcs","bankid","length","marginTop","BankLCAppFeedPage","ClientFeed","setClients","shownClients","setShownClients","BankClientFeedPage","match","clientid","setClient","paramsclientid","TitleWrapper","LCTitle","LCView","faArrowLeft","paddingRight","pdfjs","GlobalWorkerOptions","workerSrc","pdfjsWorker","PdfComponent","canvasRef","setIsLoading","loadingTask","getDocument","promise","pdf","getPage","page","viewport","getViewport","scale","canvas","context","getContext","height","width","renderContext","canvasContext","renderTask","render","fetchPdf","window","innerHeight","border","BasicView","PanelTitle","highlight","PanelBody","PanelTitleAlt","Panel","expand","setExpand","editing","setEditing","canEdit","expandEnabled","clickable","faPencilAlt","faChevronDown","faChevronRight","cursor","ModalBackground","ModalWrapper","ModalFlex","ModalLeftColumn","ModalRightColumn","ModalButtonsWrapper","MODAL_TYPES","Modal","docReq","hideModal","refreshLc","setType","justifyContent","ViewModal","lcid","digitalDocReq","setDigitalDocReq","data","undefined","sellerName","fields","sellerAddress","indicatedDateOfShipment","countryOfExport","reasonForExport","consigneeName","buyerName","consigneeAddress","buyerAddress","goodsDescription","unitOfMeasure","unitsPurchased","unitPrice","currency","hsCode","countryOfOrigin","linkToSubmittedDoc","DocReqTitle","docName","field","SmallHeader","marginBottom","margin","textDecoration","Pdf","InputWrapper","QuestionText","Asterisk","span","ButtonWrapper","selected","BasicInput","question","useField","meta","touched","questionText","NumberInput","AllRadiosWrapper","AllCheckboxesWrapper","TYPE_TO_COMPONENT","text","decimal","number","boolean","helpers","setValue","handleClick","val","radio","options","parse","opt","date","checkbox","i","indexOf","slice","concat","faCheckSquare","marginRight","TYPE_TO_DEFAULT","toISOString","TYPE_TO_VALIDATION_SCHEMA","nullable","array","of","CreateModal","setFields","suggestedFields","setSuggestedFields","d","s","schemaObj","q","initialValue","Set","has","enableReinitialize","app","entries","kv","Component","UploadModal","setIsSubmitting","flexDirection","maxWidth","FileUpload","uploadFile","files","DocumentaryEntryFlex","DocumentaryEntryWrapper","DocReqDate","DocReqStatus","ExpandedDocumentaryEntry","label","DocumentaryEntryEvaluation","DocumentaryRequirement","documentaryRequirement","userType","live","showModal","dueDate","requiredValues","rejected","expanded","setExpanded","comments","setComments","minWidth","approve","complaints","DocumentaryRequirements","isModalShowing","setIsModalShowing","modalDocReq","setModalDocReq","modalType","useModal","docReqs","documentaryrequirementSet","satisfied","Background","Container","ActionButton","CancelButton","onCancel","onSelect","containerStyle","onShow","selectDisabled","selectButton","cancelButton","scrollTop","document","documentElement","parseInt","top","position","overflowY","isNaN","resetScroll","event","stopPropagation","textarea","RequestClarificationModal","initialReason","modal","setModal","setLc","beneficiary","comment","setComment","textAreaRef","action","holdStatus","updatedLc","paddingTop","RejectionModal","rejectionReason","setRejectionReason","titleCase","exceptions","allCaps","split","substr","ind","wordIndex","word","toUpperCase","charAt","substring","join","SanctionInfo","sanction","paddingBottom","paddingLeft","onContextMenu","open","aliases","alias","addresses","address","addressGroup","country","addressToString","ComplianceCheck","initialRequestComment","initialRejectionReason","errorMessage","taskedClientEmployees","issuer","reload","duration","CompanyOFACCheck","sanctions","CountrySanctionCheck","beneficiaryCountry","clientCountry","countrySanctionMessage","rel","ImportLicenseCheck","licenseSanctionMessage","BoycottLanguageCheck","boycotts","boycottSourceIndex","boycottSource","source","boycottSourceToReadable","indices","boycott","startIndex","otherInstructions","phrase","sort","b","cmps","indexes","index","cmp","boycottToReadable","DueAuthorization","employee","authList","authItem","searchStatus","authorizedBanks","BelievablePriceOfGoods","goodsInfo","parseFloat","range","Math","max","mean","standardDeviation","credit","htsCode","purchasedItem","ComplianceChecks","TwoColumnHolder","LeftColumn","RightColumn","OrderStatusWrapper","PartyDisplayMessage","APPROVALS_TO_STATE","issuerRejected","canApprove","clientIssuer","bene","issuerBene","OrderStatusMessage","stateName","OrderStatus","totalCredit","approvals","handleClickApprove","approvedCreditAmt","approvedCredit","model","cashSecure","allApproved","every","paidOut","drawn","requested","OrderNotes","latestVersionNotes","ClientInformationWrapper","HistoryOrder","ClientInformation","clientOrders","setClientOrders","order","BigStatsWrapper","BigNumberTitle","BigNumber","AnalysisWrapper","AnalysisBody","AnalysisDetail","pop","Financials","creditOverflow","lcCredit","issuerApproved","annualCashflow","balanceAvailable","ODColumn","ODValue","StyledInput","StyledPopupInput","nested","YesNoInput","SubmitWrapper","SubmitSection","OrderDetail","units","errorClicked","Input","opacity","OrderDetails","showExtra","setShowExtra","details","lateChargeDate","currencyDenomination","expirationDate","creditAmtVerbal","extraDetails","creditDeliveryMeans","draftsInvoiceValue","creditAvailability","partialShipmentAllowed","transshipmentAllowed","merchChargeLocation","chargeTransportationLocation","namedPlaceOfDestination","arrangingOwnInsurance","merchDescription","transferableToClient","transferableToBeneficiary","lcValues","newLc","pair","k","v","scrollToAndHighlight","questionKey","scrollTimeout","selector","parentElement","querySelector","originalBackgroundColor","getComputedStyle","backgroundColor","addEventListener","scrollHandler","removeEventListener","animate","scrollIntoView","behavior","block","CreditOverflowPopup","0","1","selectedButtonIndices","setSelectedButtonIndex","prevSelectedButtonIndices","usePrevious","minimumIncrease","toString","increaseApprovedCreditValue","setIncreaseApprovedCreditValue","requestMoreCashValue","setRequestMoreCashValue","submissionAttempts","setSubmissionAttempts","increaseApprovedCreditRef","requestMoreCashRef","useFormikContext","setFieldValue","overflow","handleError","_","isEqual","visibility","Comments","setResponse","moment","format","authorType","commentIndex","respondable","textAlign","LCViewPage","setTotalCredit","BankEmployeeSignUpPage","Option","highlighted","Dropdown","items","selectedIndex","menu","setMenu","flex","onOutsideClick","borderRight","wordBreak","alignSelf","maxHeight","zIndex","item","faCheck","SearchableSelect","handleChange","highlightedItemIndex","setHighlightedItemIndex","autoComplete","onKeyDown","keyCode","itemIndex","onMouseDown","SearchableSelectHTS","hts","htsno","description","OutsideAlerter","wrapperRef","handleClickOutside","contains","ResizableScreenDiv","minTop","containerRef","setTop","getBoundingClientRect","RouteBlockingModal","when","modalVisible","setModalVisible","lastLocation","setLastLocation","confirmedNavigation","setConfirmedNavigation","pathname","nextLocation","ClickableText","SectionSubtitle","StyledDiv","NestedButtonWrapper","ButtonVerticalWrapper","fitWidth","StyledSection","disabledTooltip","changeQuestionBackgroundTemp","scrollY","offsetTop","clientHeight","offsetHeight","parentKey","DocReqFieldWrapper","StyledDocReqField","StyledDocReqDiv","CommonNestedTypeComponent","keyName","StyledIcon","FontAwesomeIcon","option","answer","some","piece","markDisabled","questions","setLCApp","validateForm","changed","questionsCopy","dependency","parentQuestion","find","potential","findAndSetSectionsError","errors","setSectionsError","erroredAndTouchedSections","section","scrollToFirstErrorOnSection","selectedSection","erroredQuestionsOnSelectedSection","scrollTo","ErrorFocus","setTouched","prevErrors","prevTouched","prevValues","prevSelectedSection","prevIsSubmitting","keyToEffect","scroll","sectionsErrors","effects","add","effect","lcApp","setAppliedTemplate","appliedTemplate","setValues","autofillTemplateTimeout","beneficiaryAutocompleteTimeout","suggested","setSuggested","timeoutId","beneficiary_name","purchased_item","paramString","result","faTimes","template","loadTemplateAnswers","selectedTemplate","templateName","inputComponent","useSuggest","setUseSuggest","searchHTSCodes","results","Checkbox","checked","child","ObjectNestedTypeComponent","array_of_objs","getOptions","childQuestion","includeLast","valueOptionsSet","valObj","curInd","settings","obj","faTrash","indexToRemove","valueIndex","curVal","ArrayNestedTypeComponent","addition","dropdown","createChildrenShape","questionType","LoadTemplate","setSelectedTemplate","lcTemplates","setLCTemplates","fetchTemplates","gridAutoRows","gridTemplateColumns","SaveTemplate","newTemplateValue","setNewTemplateValue","selectedSaveButton","setSelectedSaveButton","saveTemplateError","setSaveTemplateError","submitCount","setSubmitCount","templateNameSet","setTemplateNameSet","integrityError","setIntegrityError","trim","overwrite","template_name","res","createdTemplate","unsavedChanges","templateField","templateValue","emptyAndChanged","currentValue","Refresh","onbeforeunload","BankLCAppPage","persistedLcApp","selectedSectionIndex","setSelectedSectionIndex","sections","setSections","setInitialValues","sectionSet","initial","createDefault","schema","createValidationSchema","removeItem","handleSubmit","erroredSectionSet","whiteSpace","flexGrow","newBusinessName","newBusinessAddress","BusinessSignUpPage","BusinessInvitePage","BusinessManageAccountPage","BusinessEmployeeSignUpPage","businessid","ClaimMessage","ClaimBeneficiaryStatusPage","init","setSuccess","msg","clearStatus","useStatus","BusinessLCFeed","currentlyOnClient","ClientLCFeedPage","businessname","BeneficiaryLCFeedPage","banks","setShownBanks","BankListEntry","BankDirectory","setBanks","shownBanks","BankDirectoryPage","setChange","toChange","bank_id","setEmployees","edit","setIndex","changeItem","authField","newList","AuthorizedEmployees","employees","setEdit","handleSave","faEdit","ManageClientFeed","App","Provider","path","BankLCFeedPageByClient","BankLiveLCFeedPage","BankLCFeedPage","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.8837cb8a.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nexport const CSSReset = createGlobalStyle`\n/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n`;\n\nconst GlobalStyle = createGlobalStyle`\n  html {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n  body {\n    background-color: #f6faff;\n  }\n`;\n\nexport default GlobalStyle;","import { setSessionExpiry } from \"./auth\";\nimport { snakeCase, camelCase } from \"lodash\";\n// import history from \"../history\";\n\nconst API_BASEURL = \"/api\";\n\nexport const objectToSnakeCase = object => {\n  let newObject = {};\n  if (typeof object !== \"object\" || object === null) {\n    return object;\n  } else if (Array.isArray(object)) {\n    return object.map(objectToSnakeCase);\n  } else if (typeof object === \"object\" && object !== null) {\n    Object.keys(object).forEach(key => {\n      newObject[snakeCase(key)] = objectToSnakeCase(object[key]);\n    });\n  } else {\n    console.error(\"objectToSnakeCase failed - unrecognized type.\");\n  }\n  return newObject;\n};\n\nexport const objectToCamelCase = object => {\n  let newObject = {};\n  if (typeof object !== \"object\" || object === null) {\n    return object;\n  } else if (Array.isArray(object)) {\n    return object.map(objectToCamelCase);\n  } else if (typeof object === \"object\" && object !== null) {\n    Object.keys(object).forEach(key => {\n      newObject[camelCase(key)] = objectToCamelCase(object[key]);\n    });\n  } else {\n    console.error(\"objectToCamelCase failed - unrecognized type.\");\n  }\n  return newObject;\n};\n\nexport const makeAPIRequest = async (\n  url,\n  requestType,\n  params,\n  returnFullResponse\n) => {\n  const requestURL = API_BASEURL + url;\n  const fetchParams = {\n    method: requestType,\n  };\n  if (requestType && requestType !== \"GET\") {\n    fetchParams.body = JSON.stringify(objectToSnakeCase(params));\n  }\n  const response = await fetch(requestURL, fetchParams);\n  if (response.status === 401 || response.status === 403) {\n    // history.push(\"/login\");\n    // // TODO show this error to the user\n    // return Promise.reject(\n    //   \"Error: Attempted to make unauthenticated API request. Redirecting to login.\"\n    // );\n  } else if (response.status < 200 || response.status >= 400) {\n    // TODO show this error to the user\n    if (returnFullResponse) {\n      return response;\n    } else {\n      return Promise.reject(response);\n    }\n  }\n\n  if (returnFullResponse) return response;\n  return objectToCamelCase(await response.json());\n};\n\nexport const postFile = async (url, file, returnFullResponse) => {\n  const requestURL = API_BASEURL + url;\n  const form = new FormData();\n  form.append(\"file\", file);\n  const headers = new Headers();\n  headers.append(\"Content-Type\", \"application/pdf\");\n  const response = await fetch(requestURL, {\n    method: \"PUT\",\n    body: form,\n    headers\n  });\n  if (response.status === 401 || response.status === 403) {\n    // history.push(\"/login\");\n    // // TODO show this error to the user\n    // return Promise.reject(\n    //   \"Error: Attempted to make unauthenticated API request. Redirecting to login.\"\n    // );\n  } else if (response.status < 200 || response.status >= 400) {\n    // TODO show this error to the user\n    if (returnFullResponse) {\n      return response;\n    } else {\n      return Promise.reject(response);\n    }\n  }\n\n  if (returnFullResponse) return response;\n  return objectToCamelCase(await response.json());\n};\n\nexport const logIn = async (email, password) => {\n  const requestURL = \"/api/user/login/\";\n  const response = await fetch(requestURL, {\n    method: \"POST\",\n    body: JSON.stringify({ email, password })\n  });\n  if (response.status !== 200) {\n    throw new Error(\n      \"Error logging in: recieved status code \" + response.status\n    );\n  }\n  const json = objectToCamelCase(await response.json());\n  setSessionExpiry(new Date(json.sessionExpiry).getTime());\n  if (json.userEmployee.employer)\n    return { ...json.userEmployee, business: json.usersEmployer };\n  else return { ...json.userEmployee, bank: json.usersEmployer };\n};\n\nexport const logOut = async setUser => {\n  const requestURL = \"/api/user/logout/\";\n  const response = await fetch(requestURL, {\n    method: \"POST\"\n  });\n  if (response.status !== 200) {\n    console.error(\"Error logging out: recieved status code \" + response.status);\n  }\n  setSessionExpiry(null);\n  setUser(null);\n  // TODO figure out why this doesn't work\n  // history.push(\"/login\");\n};\n","import { useEffect, createContext, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeAPIRequest } from \"./api\";\n\nexport const UserContext = createContext([null, () => null]);\nconst SESSION_EXPIRY = \"session_expiry\";\n\nexport const getSessionExpiry = () => {\n  const now = new Date();\n  const expirySeconds = localStorage.getItem(\"session_expiry\");\n  if (expirySeconds && now.getTime() > expirySeconds) {\n    return null;\n  }\n  return localStorage.getItem(SESSION_EXPIRY);\n};\n\nexport const setSessionExpiry = expiry => {\n  // TODO change this expiry date to be consistent with the backend\n  localStorage.setItem(SESSION_EXPIRY, expiry);\n};\n\nexport const useAuthentication = nextRoute => {\n  const history = useHistory();\n  let [user, setUser] = useContext(UserContext);\n\n  useEffect(() => {\n    if (user) return;\n    const sessionExists = getSessionExpiry();\n    if (!sessionExists) {\n      history.push(\"/login\", { nextRoute });\n    } else {\n      makeAPIRequest(\"/user/this_users_info/\")\n        .then(json => {\n          if (json.userEmployee.employer)\n            setUser({ ...json.userEmployee, business: json.usersEmployer });\n          else setUser({ ...json.userEmployee, bank: json.usersEmployer });\n        })\n        .catch(err => {\n          console.error(err);\n          history.push(\"/login\", { nextRoute });\n        });\n    }\n  }, [user, setUser, history, nextRoute]);\n};\n","import React, { useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useAuthentication, UserContext } from \"../../utils/auth\";\n\nconst HomePage = () => {\n  useAuthentication('/');\n  const [user] = useContext(UserContext);\n\n  return (\n    user ? <Redirect to={`/${user.business ? \"business\" : \"bank\"}/lcs`}/> : <div></div>\n  );\n};\n\nexport default HomePage;\n","import styled from \"styled-components\";\n\nconst StatusMessage = styled.div`\n  ${props => props.status && `\n    padding: 10px;\n  `}\n  ${props => !props.status && `\n    visibility: hidden;\n  `}\n  border-radius: 5px;\n  max-width: 400px;\n  overflow: scroll;\n  margin: 40px auto auto;\n  background-color: ${props => props.status === `error` ? `#dc3545` : props.status === `info` ? `#7dd8ff` : `#4bb759`};\n  color: #fff;\n  line-height: 1.25;\n`;\n\nexport default StatusMessage;\n","import logo from \"./images/logo.png\"\n\nconst config = {\n  logo,\n  accentColor: 'rgb(27, 108, 255)',\n};\n\nexport default config;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MoonLoader from \"react-spinners/MoonLoader\";\nimport StatusMessage from \"./ui/StatusMessage\";\nimport { css } from \"@emotion/core\";\n\nimport config from '../config';\n\nconst Margin = styled.div`\n  margin: 80px auto 40px;\n  max-width: 1000px;\n`;\n\nconst Title = styled.h1`\n  border-bottom: 1px solid #cdcdcd;\n  padding: 10px 0;\n  font-size: 24px;\n`;\n\nconst Subtitle = styled.h2`\n  margin-top: 40px;\n  text-align: center;\n  color: #555;\n`;\n\nconst RightAlignedLink = styled(NavLink)`\n  float : right;\n  padding: 10px 0;\n  color: #00d;\n  line-height: 1.25;\n`;\n\nconst Content = styled.div`\n  margin: 40px 0 0;\n`;\n\nconst Status = styled.div`\n  position: sticky;\n  bottom: 0;\n`;\n\nconst BasicLayout = ({ title, subtitle, link, linktext, isLoading, children,\n  marginStyle, statusComponent }) => {\n  return (\n    <Margin style={marginStyle}>\n      <Title>{title}</Title>\n      {subtitle && <Subtitle>{subtitle}</Subtitle>}\n      {link && <RightAlignedLink to={link}>{linktext}</RightAlignedLink>}\n      <Content>\n        {isLoading ? (\n          <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          />\n        ) : (\n          children\n        )}\n      </Content>\n      <Status>\n        {statusComponent}\n      </Status>\n    </Margin>\n  );\n};\n\nexport default BasicLayout;\n","import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { get } from \"lodash\";\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { logIn } from \"../../utils/api\";\nimport { UserContext } from \"../../utils/auth\";\nimport config from '../../config';\n\nconst LoginForm = styled.form`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst LoginErrorMessage = styled.div`\n  ${props => props.showError && `\n    padding: 10px 10px;\n  `}\n  border-radius: 5px;\n  background-color: #dc3545;\n  color: #fff;\n`\n\nconst HelpEmail = styled.a`\n  font-size: 14px;\n  font-style: italic;\n  margin: 0 10px 10px;\n`\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled.input`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\n// TODO revisit styles? not super happy with how this looks\n// also it says \"Log In\" 3 times on this page... we get it\nconst LogInButton = styled.button`\n  cursor: pointer;\n  transition: color 0.3s;\n  margin: 10px 5px;\n  border: none;\n  font-size: 16px;\n  background-color: #fff;\n\n  &:hover {\n    color: ${config.accentColor};\n  }\n`;\n\nconst FormInput = ({ title, value, type, onChange }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>\n        {title}\n        {type === \"password\" && (<HelpEmail href=\"mailto:support@bountium.com\"> Need help?</HelpEmail>)}\n      </FormInputTitle>\n      <StyledFormInput type={type} value={value} onChange={onChange} />\n    </FormInputWrapper>\n  );\n};\n\nconst LoginPage = ({ history, location }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const setUser = useContext(UserContext)[1];\n  const nextRoute = get(location, \"state.nextRoute\");\n  const clickLogIn = (e) => {\n    e.preventDefault();\n    logIn(email, password)\n      .then((json) => setUser(json))\n      .then(() => history.push(nextRoute || \"/\"))\n      .catch(() => {\n        setError(\" We can't seem to log you in right now.\");\n      });\n  };\n  return (\n    <BasicLayout title=\"Log In\">\n      <LoginForm onSubmit={clickLogIn}>\n        <FormInput\n          title=\"Email\"\n          type=\"text\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n        />\n        <FormInput\n          title=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          onKey\n        />\n        <HelpEmail>\n          New Here? <Link to=\"/bank/register\">Create Account</Link>\n        </HelpEmail>\n        <FormFooter>\n        <LoginErrorMessage showError={error}>\n          {error}\n        </LoginErrorMessage>\n          <LogInButton type=\"submit\">\n            Log In\n            <FontAwesomeIcon\n              icon={faArrowRight}\n              size=\"lg\"\n              color={config.accentColor}\n              style={{ marginLeft: \"10px\" }}\n            />\n          </LogInButton>\n        </FormFooter>\n      </LoginForm>\n    </BasicLayout>\n  );\n};\n\nexport default LoginPage;\n","import React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { get } from \"lodash\";\n\n// TODO import different sized logos for performance\nimport config from \"../config\";\nimport { logOut } from \"../utils/api\";\n\nconst StyledNav = styled.nav`\n  display: flex;\n  align-items: center;\n  padding: 0 140px;\n  background-color: #fff;\n  min-height: 80px;\n  font-size: 14px;\n`;\n\nconst StyledNavLink = styled(NavLink)`\n  color: rgb(138, 138, 138);\n  margin-right: 40px;\n  text-decoration: none;\n  &.active {\n    color: #000;\n  }\n`;\n\nconst LoginMenu = styled.div`\n  margin-left: auto;\n  display: flex;\n`;\n\nconst StyledLoginLink = styled(NavLink)`\n  text-decoration: none;\n  color: #000;\n  transition: color 0.3s;\n\n  &:hover {\n    color: ${config.accentColor};\n  }\n`;\n\nconst StyledProfileLink = styled.a`\n  text-decoration: none;\n  color: #000;\n  transition: color 0.3s;\n  cursor: pointer;\n\n  &:hover {\n    color: ${config.accentColor};\n  }\n`;\n\nconst ProfileWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ProfileLinkWrapper = styled.button`\n  padding: 5px 10px;\n  border: 1px solid #fff;\n  border-radius: 5px;\n  background-color: #fff;\n  font-size: 14px;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }\n  transition: border 0.3s;\n  ${props => props.show && `border: 1px solid ${config.accentColor};`}\n`;\n\nconst DropDownWrapper = styled.div`\n  background-color: #fff;\n  min-width: 200px;\n  border-radius: 5px;\n  border: 1px solid #cdcdcd;\n  font-size: 14px;\n  padding: 10px;\n  opacity: 0;\n  transition: opacity 0.3s;\n  position: absolute;\n  top: 60px;\n  right: 50px;\n  ${props => props.show && `opacity: 1;`}\n`;\n\nconst DropDownHeader = styled.div`\n  color: ${config.accentColor};\n  font-size: 16px;\n  margin-bottom: 10px;\n  :not(:first-child) {\n    margin-top: 10px;\n  }\n`;\n\nconst DropDownLink = styled.div`\n  margin: 5px;\n  color: #000;\n  text-decoration: none;\n  border: none;\n\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst DropDownNavLink = styled(NavLink)`\n  margin: 5px;\n  color: #000;\n  text-decoration: none;\n  border: none;\n\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst ProfileDropDown = ({ user, setUser, show }) => {\n  const history = useHistory();\n  return (\n    <DropDownWrapper show={show}>\n      <DropDownHeader>\n        {user.bank\n          ? get(user, [\"bank\", \"name\"])\n          : get(user, [\"business\", \"name\"])}\n      </DropDownHeader>\n      {user.bank && <DropDownLink>View LC Application</DropDownLink>}\n      <DropDownLink>\n        View {user.bank ? \"Bank\" : \"Business\"} Profile (Coming soon)\n      </DropDownLink>\n      <DropDownHeader>{user.name}</DropDownHeader>\n      <DropDownNavLink to={`${user.bank ? \"/bank\" : \"/business\"}/account`}>\n        View Profile\n      </DropDownNavLink>\n      <DropDownLink\n        onClick={() => {\n          logOut(setUser)\n            .then(() => history.push(\"/login\"))\n            .catch(err => console.log(err));\n        }}\n      >\n        Log Out\n      </DropDownLink>\n    </DropDownWrapper>\n  );\n};\n\nconst LoginSection = ({ user, setUser }) => {\n  const [showingDropdown, setShowingDropdown] = useState(false);\n  const wrapperEl = useRef(null);\n  return (\n    <LoginMenu>\n      {user ? (\n        <ProfileWrapper>\n          <ProfileLinkWrapper\n            onClick={e => {\n              e.preventDefault();\n              setShowingDropdown(true);\n              wrapperEl.current.focus();\n            }}\n            ref={wrapperEl}\n            show={showingDropdown}\n            onBlur={() => setShowingDropdown(false)}\n          >\n            <StyledProfileLink>\n              {user.name}\n              <FontAwesomeIcon\n                icon={faUserCircle}\n                style={{ marginLeft: \"10px\", fontSize: \"16px\" }}\n              />\n            </StyledProfileLink>\n          </ProfileLinkWrapper>\n          <ProfileDropDown\n            user={user}\n            setUser={setUser}\n            show={showingDropdown}\n          />\n        </ProfileWrapper>\n      ) : (\n        <StyledLoginLink to=\"/login\">Log In</StyledLoginLink>\n      )}\n    </LoginMenu>\n  );\n};\n\nconst NavLogo = styled.img.attrs({ src: config.logo, alt: \"Bountium Logo\" })`\n  max-height: 50px;\n`;\n\nconst Nav = ({ user, setUser }) => {\n  return (\n    <StyledNav>\n      <StyledNavLink to=\"/\">\n        <NavLogo />\n      </StyledNavLink>\n      {user && (\n        <>\n          {user.business &&\n            <StyledNavLink to={`/banks/`}>\n              Apply for an LC\n            </StyledNavLink>\n          }\n          {user.business &&<StyledNavLink to={`/business/lcs/`}>\n            Manage your LCs and Applications\n          </StyledNavLink>}\n          {user.bank && <StyledNavLink to=\"/bank/lcs/apps\">\n            Review LC Applications\n          </StyledNavLink>}\n          {user.bank && <StyledNavLink to=\"/bank/lcs/live\">Manage Live LCs</StyledNavLink>}\n            {user.bank && <StyledNavLink to=\"/bank/lcs/clients\">Manage Clients </StyledNavLink>}\n        </>\n      )}\n      <LoginSection user={user} setUser={setUser} />\n    </StyledNav>\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\n\nimport config from '../../config';\n\nconst disabledBackgroundColor = `#888588`;\nconst disabledColor = `#f1ecec`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.unselected ? `#fff` : props.disabled ? disabledBackgroundColor : config.accentColor};\n  color: ${(props) => props.unselected ? config.accentColor : props.disabled ? disabledColor : `#fff`};\n  border-radius: 5px;\n  padding: 10px;\n  ${props => !props.disabled && `border: 1px solid ${config.accentColor};`}\n  font-size: 16px;\n  ${props => !props.disabled && `cursor: pointer;`}\n`;\n\nconst Button = ({ children, showArrow, arrowStyle, ...props }) => {\n  return (\n    <StyledButton {...props}>\n      {children}\n      {showArrow && (\n        <FontAwesomeIcon\n          icon={faArrowRight}\n          size=\"lg\"\n          color=\"#fff\"\n          style={{ marginLeft: \"10px\", ...arrowStyle }}\n        />\n      )}\n    </StyledButton>\n  );\n}\n\nexport default Button;\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { UserContext } from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\nimport { Link } from \"react-router-dom\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n  newBankName: string().required(requiredMsg),\n  name: string().required(requiredMsg),\n  title: string().required(requiredMsg),\n  email: string().email('Please enter a valid email address.').required(requiredMsg),\n  password: string().required(requiredMsg).matches(\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string().required(requiredMsg)\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BankSignUpPage = ({ history }) => {\n  const setUser = useContext(UserContext)[1];\n  return (\n    <BasicLayout\n      title=\"Welcome! \"\n      subtitle={\n      <>\n      Get your team up & running with lightning-fast LC processing.\n      <br/><br/>\n      <span style={{fontStyle: 'italic'}}>Not a bank? </span>\n      <Link to=\"/business/register\">Register as a business</Link>\n      </>\n      }\n    >\n    <Formik\n      initialValues={{\n        newBankName: '', name: '', title: '', email: '', password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(\"/bank/\", \"POST\", values)\n          .then((json) => {\n            setUser({ ...json.userEmployee, bank: json.usersEmployer });\n            history.push(\"/bank/invite\");\n          })\n          .then(() => setSubmitting(false));\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n      <FormInput\n          title=\"Bank Name\"\n          name=\"newBankName\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Email\"\n          name=\"email\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n<Button showArrow disabled={isSubmitting}>\n  Sign Up\n</Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n};\n\nexport default BankSignUpPage;\n","import React, { useContext } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { object, string } from 'yup';\n\nimport Button from '../../components/ui/Button';\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { useAuthentication, UserContext } from '../../utils/auth';\nimport { makeAPIRequest } from '../../utils/api';\nimport styled from 'styled-components';\nimport { useState } from 'react';\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  max-width: 800px;\n  min-width: 400px;\n  margin: auto;\n  justify-content: center;\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst FormWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst validationSchema = object().shape({\n  email: string().email('Please enter a valid email address.').required('Please enter an email address.'),\n});\n\nconst StatusMessage = styled.div`\n  ${props => props.status && `\n    padding: 10px;\n  `}\n  border-radius: 5px;\n  max-width: 400px;\n  overflow: scroll;\n  margin: 40px auto auto;\n  background-color: ${props => props.status === `error` ? `#dc3545` : `#4bb759`};\n  color: #fff;\n`\n\nconst StyledField = styled(Field)`\n  border-radius: 5px;\n  border: 1px solid #cdcdcd;\n  font-size: 18px;\n  padding-left: 10px;\n`\n\nconst ErrorMessageWrapper = styled.div`\n  margin: auto;\n  max-width: 400px;\n  color: #dc3545;\n  margin-top: 10px;\n`\n\nconst ButtonHolder = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst BankInvitePage = ({ history }) => {\n  useAuthentication('/bank/invite');\n  const [user] = useContext(UserContext);\n  const [status, setStatus] = useState({ status: null, message: \"\"});\n  return (\n    <BasicLayout \n      title={`Welcome${(user ? ', ' + user.name : '')} `}\n      subtitle=\"Enter your teammates' emails to invite them to the platform.\"\n    >\n      <Formik\n        initialValues={{ email: '' }}\n        onSubmit={(values, { setSubmitting }) => {\n          setSubmitting(true);\n          makeAPIRequest(`/bank/${user.bank.id}/invite_teammate/`, \"POST\", { \"inviteeEmail\": values.email }, true)\n            .then((response) => {\n              if (response.status === 200) setStatus({ \n                status: \"success\",\n                message: `Invite sent to ${values.email}!`\n              });\n              else setStatus({\n                status: \"error\",\n                message: `Error inviting ${values.email}.`\n              })\n            });\n          setSubmitting(false);\n        }}\n        validationSchema={validationSchema}\n      >\n      {({ isSubmitting }) => (\n        <FormWrapper>\n        <StyledForm>\n          <StyledField type=\"email\" name=\"email\"/>\n          <Button type=\"submit\">{isSubmitting ? 'Sending...' : 'Send'}</Button>\n        </StyledForm>\n        <ErrorMessageWrapper>\n          <ErrorMessage name=\"email\"/>\n        </ErrorMessageWrapper>\n        </FormWrapper>\n      )}\n      </Formik>\n        {status.status && (<StatusMessage status={status.status}>{status.message}</StatusMessage>)}\n\n    <ButtonHolder>\n      <Button showArrow onClick={() => history.push(\"/bank/createApp\")}>\n        Next\n      </Button>\n    </ButtonHolder>\n    </BasicLayout>\n  );\n}\n\nexport default BankInvitePage;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\nimport { get } from \"lodash\";\n\nimport Button from \"../../components/ui/Button\";\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { useAuthentication, UserContext } from \"../../utils/auth\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst signUpFormValidationSchema = object().shape({\n  newBankName: string(),\n  name: string(),\n  title: string(),\n  password: string().matches(\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string()\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BankManageAccountPage = () => {\n  useAuthentication(\"/bank/account\");\n  const [user, setUser] = useContext(UserContext);\n\n  return (\n    <BasicLayout title=\"My Account \" subtitle=\"View and edit your user settings.\" isLoading={!user}>\n    <Formik\n      initialValues={{\n        name: get(user, ['name']), title: get(user, ['title']), password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(`/bank/${get(user, ['bank', 'id'])}/${get(user, ['id'])}/`, \"PUT\", { name: values.name, title: values.title })\n          .then((json) => {\n            setUser({ ...json.userEmployee, bank: json.usersEmployer });\n          })\n          .then(() => setSubmitting(false))\n          .catch((err) => console.error(err));\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"New Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm New Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n          <Button disabled={isSubmitting}>\n            Save Update\n          </Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n}\n\nexport default BankManageAccountPage;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from '../../../config';\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\nconst useDebouncedEffect = (callback, parameters, delay) => {\n  const currentTimeout = useRef(null);\n\n  useEffect(() => {\n    if (currentTimeout.current !== null) {\n      clearTimeout(currentTimeout.current);\n    }\n    currentTimeout.current = setTimeout(callback, delay);\n    /* eslint-disable-next-line */\n  }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\nconst Filter = ({ lcs, setShownLcs }) => {\n  const [filter, setFilter] = useState(null);\n  useDebouncedEffect(() => {\n    if (filter === null) return;\n    setShownLcs(lcs.filter(lc => lc.client.name.toLowerCase().includes(filter.toLowerCase())));\n  }, [filter, lcs], 200)\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n    <SearchWrapper>\n    <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n      <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n    </SearchWrapper>\n      <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by client</span>\n    </div>\n  )\n}\n\nconst LCListEntry = ({ lc }) => {\n  // NOTE: due_date and credit_amt will only be available for DigitalLCs\n  return (\n      <StyledLink to={`/lc/${lc.id}`}>\n      <ListEntryWrapper>\n        <ListEntryField>{get(lc, 'client.name') || \"Unknown\"}</ListEntryField>\n        <ListEntryField>{get(lc, 'beneficiary.name') || \"Unknown\"}</ListEntryField>\n        <ListEntryField>{lc.applicationDate}</ListEntryField>\n        <ListEntryField>{lc.draftPresentationDate || \"N/A\"}</ListEntryField>\n        <ListEntryField>{lc.creditAmt || \"N/A\"}</ListEntryField>\n      </ListEntryWrapper>\n      </StyledLink>\n  )\n}\n\nconst LCFeed = ({ title, user, url, hideSearch }) => {\n  const [lcs, setLcs] = useState(null);\n  const [shownLcs, setShownLcs] = useState(null);\n  const bankid = get(user, ['bank', 'id']);\n\n  useEffect(() => {\n    if (!bankid) return;\n    makeAPIRequest(url)\n      .then(json => {\n        setLcs(json);\n        setShownLcs(json);\n      });\n  }, [bankid, url]);\n\n  return (\n    <BasicLayout\n      title={title}\n      isLoading={!shownLcs}\n    >\n\n    {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n    <div>\n      {!hideSearch && <Filter lcs={lcs} setShownLcs={setShownLcs} />}\n      <ListEntryWrapper header>\n        <ListEntryField>Client</ListEntryField>\n        <ListEntryField>Beneficiary</ListEntryField>\n        <ListEntryField>Applied</ListEntryField>\n        <ListEntryField>Drafts Due</ListEntryField>\n        <ListEntryField>Transaction Size</ListEntryField>\n      </ListEntryWrapper>\n    </div>\n    {(shownLcs && (shownLcs.length > 0 ? (\n      <div>\n    {shownLcs.map(lc => <LCListEntry lc={lc} key={lc.id}/>)}\n    </div>\n    ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>You don't have any LCs yet.</center>)))}\n    </BasicLayout>\n  )\n\n}\n\nexport default LCFeed;\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\nconst BankLCAppFeedPage = () => {\n  useAuthentication('/bank/lcs/apps');\n  const [user] = useContext(UserContext);\n  const bankid = get(user, ['bank', 'id']);\n  return <LCFeed \n    title=\"All LC Applications \" \n    url={`/lc/by_bank/${bankid}/awaiting_issuer_approval/`}\n    user={user}\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\nconst BankLCAppFeedPage = () => {\n  useAuthentication('/bank/lcs/live');\n  const [user] = useContext(UserContext);\n  const bankid = get(user, ['bank', 'id']);\n  return <LCFeed \n    title=\"All Live LCs \" \n    url={`/lc/by_bank/${bankid}/live/`}\n    user={user}\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from '../../../config';\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\nconst useDebouncedEffect = (callback, parameters, delay) => {\n    const currentTimeout = useRef(null);\n\n    useEffect(() => {\n        if (currentTimeout.current !== null) {\n            clearTimeout(currentTimeout.current);\n        }\n        currentTimeout.current = setTimeout(callback, delay);\n        /* eslint-disable-next-line */\n    }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\n// const Filter = ({ lcs, setShownLcs }) => {\n//     const [filter, setFilter] = useState(null);\n//     useDebouncedEffect(() => {\n//         if (filter === null) return;\n//         setShownLcs(lcs.filter(lc => lc.client.name.toLowerCase().includes(filter.toLowerCase())));\n//     }, [filter, lcs], 200)\n//     return (\n//         <div style={{ display: 'flex', alignItems: 'center' }}>\n//             <SearchWrapper>\n//                 <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n//                 <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n//             </SearchWrapper>\n//             <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by client</span>\n//         </div>\n//     )\n// }\n\nexport const LCListEntry = ({ client }) => {\n    // NOTE: due_date and credit_amt will only be available for DigitalLCs\n    return (\n        <StyledLink to={`/bank/client/${client.id}`}>\n            <ListEntryWrapper>\n                <ListEntryField>{client.name}</ListEntryField>\n                <ListEntryField>{get(client, 'country') || \"Unknown\"}</ListEntryField>\n            </ListEntryWrapper>\n        </StyledLink>\n    )\n}\n\nconst ClientFeed = ({ title, user, url, hideSearch }) => {\n    const [clients, setClients] = useState(null);\n    const [shownClients, setShownClients] = useState(null);\n    const bankid = get(user, ['bank', 'id']);\n\n    useEffect(() => {\n        console.log(url);\n        if (!bankid) return;\n        makeAPIRequest(url)\n            .then(json => {\n                console.log(json);\n                setClients(json);\n                setShownClients(json);\n            });\n    }, [bankid, url]);\n\n    return (\n        <BasicLayout\n            title={title}\n            isLoading={!shownClients}\n        >\n            {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n            <div>\n                {/*{!hideSearch && <Filter lcs={clients} setShownLcs={setShownClients} />}*/}\n                <ListEntryWrapper header>\n                    <ListEntryField>Client</ListEntryField>\n                    <ListEntryField>Country</ListEntryField>\n                </ListEntryWrapper>\n            </div>\n            {(shownClients && (shownClients.length > 0 ? (\n                <div>\n                    {shownClients.map(client => <LCListEntry client={client} key={client.id}/>)}\n                </div>\n            ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>You don't have any Clients yet.</center>)))}\n        </BasicLayout>\n    )\n\n}\n\nexport default ClientFeed;","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport ClientFeed from \"./ClientFeed\";\n\nconst BankClientFeedPage = () => {\n    useAuthentication('/bank/lcs/live');\n    const [user] = useContext(UserContext);\n    const bankid = get(user, ['bank', 'id']);\n    return <ClientFeed\n        title=\"All Clients \"\n        url={`/lc/clients_by_bank/${bankid}/`}\n        user={user}\n    />\n}\n\nexport default BankClientFeedPage\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\nconst BankLCAppFeedPage = ({ match }) => {\n  useAuthentication('/bank/lcs');\n  const [user] = useContext(UserContext);\n  const bankid = get(user, ['bank', 'id']);\n  return <LCFeed \n    title=\"All LC Applications and Live LCs \" \n    url={`/lc/by_bank/${bankid}/`}\n    user={user}\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React, { useState, useContext, useEffect } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { makeAPIRequest } from \"../../../utils/api\";\n\nconst BankLCAppFeedPage = ({ match }) => {\n  useAuthentication(`/bank/lcs/client/${match.params.clientid}`);\n  const [user] = useContext(UserContext);\n  const [client, setClient] = useState(null);\n  console.log(client)\n  useEffect(() => {\n    makeAPIRequest(`/business/${match.params.clientid}/`)\n      .then(json => setClient(json))\n  }, [match.params.clientid])\n  const title = client ? `All LCs for ${client.name}` : `All LCs for Client #${match.params.clientid}`;\n  return <LCFeed \n    title={title} \n    url={`/lc/by_client/${match.paramsclientid}/`}\n    user={user}\n    hideSearch\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport MoonLoader from \"react-spinners/MoonLoader\";\nimport { css } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nimport config from '../../config'\n\nconst Margin = styled.div`\n  margin: 40px auto;\n  max-width: 1000px;\n`;\n\nconst TitleWrapper = styled.div`\n  display: flex;\n  border-bottom: 1px solid #cdcdcd;\n  padding: 10px 0;\n  font-size: 24px;\n`\n\nconst LCTitle = styled(Link)`\n  margin-right: 15px;\n  font-weight: 500;\n  text-decoration: none;\n  color: #000;\n`\n\nconst Subtitle = styled.h2`\n  font-weight: 200;\n`;\n\nconst Content = styled.div`\n  margin: 40px 0 0;\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #454545;\n  margin: 20px 0;\n  display: block;\n`\n\nconst LCView = ({ lc, children }) => {\n  return (\n    <Margin>\n      <StyledLink to=\"/\">\n        <FontAwesomeIcon icon={faArrowLeft} color={config.accentColor} style={{ paddingRight: \"10px\"}} /> \n        Back to LCs\n      </StyledLink>\n        {!lc ? (\n          <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          />\n        ) : (\n          <>\n      <TitleWrapper>\n      {lc.client &&\n          <LCTitle to={`/bank/lcs/client/${lc.client.id}`}>{lc.client.name}</LCTitle>\n      }\n        <Subtitle>{`LC #${lc.id}`}</Subtitle>\n      </TitleWrapper>\n      <Content>\n          {children}\n      </Content>\n      </>\n        )}\n    </Margin>\n  );\n};\n\nexport default LCView;\n","import React, { useRef, useEffect, useState } from 'react';\nimport MoonLoader from \"react-spinners/MoonLoader\";\nimport { css } from '@emotion/core';\nimport pdfjs from 'pdfjs-dist';\n\nimport pdfjsWorker from 'pdfjs-dist/build/pdf.worker.entry';\nimport config from '../../config';\n\npdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n\nconst PdfComponent = ({ src }) => {\n  const canvasRef = useRef(null)\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchPdf = async () => {\n      setIsLoading(true);\n      const loadingTask = pdfjs.getDocument(src);\n\n      const pdf = await loadingTask.promise;\n\n      const firstPageNumber = 1;\n\n      const page = await pdf.getPage(firstPageNumber);\n\n      const scale = 1;\n      const viewport = page.getViewport({scale: scale});\n\n      // Prepare canvas using PDF page dimensions\n      const canvas = canvasRef.current;\n\n      const context = canvas.getContext('2d');\n      canvas.height = viewport.height;\n      canvas.width = viewport.width;\n\n      // Render PDF page into canvas context\n      const renderContext = {\n        canvasContext: context,\n        viewport: viewport\n      };\n\n      const renderTask = page.render(renderContext);\n\n      await renderTask.promise;\n    };\n\n    fetchPdf()\n      .then(() => setIsLoading(false));\n  }, [src]);\n\n  return (\n    <>\n    {isLoading && \n          <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          />\n    }\n    <canvas\n      ref={canvasRef}\n      width={700}\n      height={window.innerHeight}\n      style={{border: '1px solid #cdcdcd', display: isLoading ? 'none' : 'block'}}\n    />\n    </>\n  );\n}\n\nexport default PdfComponent;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faChevronRight, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nimport config from '../../config';\nimport AnimateHeight from \"react-animate-height\";\n\nconst BasicView = styled.div`\n  border: 1px solid #dfdfdf;\n  background-color: #fff;\n  border-radius: 0 0 20px 20px;\n  margin-bottom: 30px;\n`\n\nconst PanelTitle = styled.h2`\n  background-color: ${(props) => props.highlight ? config.accentColor : `rgb(199, 222, 255)`};\n  border-bottom: 1px solid #dfdfdf;\n  padding: 15px 20px;\n  display: flex;\n  justify-content: space-between;\n  ${(props) => props.highlight && `\n    font-weight: 500;\n    color: #fff;\n  `}\n`\n\nconst PanelBody = styled.div`\n  padding: 15px 20px;\n  line-height: 1.25;\n`\n\nconst PanelTitleAlt = styled.div`\n  color: ${config.accentColor};\n  margin-right: 5px;\n`\n\nconst Panel = ({ title, children, highlight, expand, setExpand, editing, setEditing, canEdit, ...props }) => {\n  const expandEnabled = [true, false].includes(expand);\n  return (\n    <BasicView {...props}>\n      <PanelTitle highlight={highlight} clickable={expandEnabled}>\n        {title}\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n        {canEdit && (editing\n          ? (\n            <>\n            <PanelTitleAlt>Editing</PanelTitleAlt>\n            <span\n              style={{fontStyle: 'italic', fontSize: '14px', color: '#555'}}\n              onClick={() => setEditing(false)}\n              >Cancel</span>\n            </>\n          )\n          : <FontAwesomeIcon\n            icon={faPencilAlt}\n            onClick={() => setEditing(true)}\n            style={{\n              color: config.accentColor,\n            }}\n            />\n        )}\n        {expandEnabled &&\n          <FontAwesomeIcon\n            icon={expand ? faChevronDown : faChevronRight}\n            onClick={() => setExpand(e => !e)}\n            style={{\n              color: config.accentColor,\n              padding: '0 10px',\n              cursor: 'pointer',\n            }}\n            />\n        }\n        </div>\n      </PanelTitle>\n      <PanelBody>{children}</PanelBody>\n    </BasicView>\n  )\n}\n\nexport default Panel;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Field, Form, useField } from 'formik';\nimport { object, string, number, boolean, array, date } from 'yup';\nimport Pdf from './Pdf';\nimport MoonLoader from 'react-spinners/MoonLoader'\nimport { css } from \"@emotion/core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faChevronRight, faCheckSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { get, camelCase } from \"lodash\";\n\nimport { makeAPIRequest, postFile, objectToCamelCase } from '../../utils/api';\nimport Panel from './Panel';\nimport Button from '../../components/ui/Button';\nimport config from \"../../config\";\n\nconst ModalBackground = styled.div`\n  ${props => !props.show && `display: none;`}\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.4);\n  overflow: scroll;\n`;\n\nconst ModalWrapper = styled.div`\n  max-width: 70%;\n  background-color: #fff;\n  border-radius: 10px;\n  margin: 10% auto;\n  padding: 20px 30px;\n`;\n\nconst ModalFlex = styled.div`\n  display: flex;\n  justify-content: space-around;\n`;\n\nconst ModalLeftColumn = styled.div`\n  flex-grow: 1;\n  min-width: 30%;\n  flex-basis: 40%;\n`;\n\nconst ModalRightColumn = styled.div`\n  flex-grow: 1;\n  flex-basis: 50%;\n`;\n\nconst ModalButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n  margin: 20px auto 30px;\n`;\n\nconst MODAL_TYPES = { CREATE: 'create', UPLOAD: 'upload'};\n\nconst Modal = ({ show, docReq, hideModal, refreshLc, lc }) => {\n  const [type, setType] = useState(MODAL_TYPES.CREATE);\n  if (docReq && docReq.type === 'generic') return (\n    <ModalBackground show={show}>\n    <ModalWrapper>\n      <UploadModal docReq={docReq} refreshLc={refreshLc} hideModal={hideModal}/>\n      <div style={{marginTop: '20px', display: 'flex', justifyContent: 'flex-end'}}>\n        <Button onClick={hideModal}>Close</Button>\n      </div>\n    </ModalWrapper>\n    </ModalBackground>\n  );\n  return (\n    <ModalBackground show={show}>\n      {show === \"view\" ? (\n      <ModalWrapper>\n        <ViewModal docReq={docReq}/>\n        <div style={{marginTop: '20px', display: 'flex', justifyContent: 'flex-end'}}>\n          <Button onClick={hideModal}>Close</Button>\n        </div>\n      </ModalWrapper>\n      ) : docReq && (\n      <ModalWrapper>\n        <ModalButtonsWrapper>\n          <Button onClick={() => setType(MODAL_TYPES.CREATE)} unselected={type !== MODAL_TYPES.CREATE}>Create Digital DocReq</Button>\n          <Button onClick={() => setType(MODAL_TYPES.UPLOAD)} unselected={type !== MODAL_TYPES.UPLOAD}>Upload PDF DocReq</Button>\n        </ModalButtonsWrapper>\n        {type === MODAL_TYPES.CREATE\n          ? <CreateModal docReq={docReq} refreshLc={refreshLc} hideModal={hideModal} lc={lc}/>\n          : <UploadModal docReq={docReq} refreshLc={refreshLc} hideModal={hideModal}/>\n        }\n        <div style={{marginTop: '20px', display: 'flex', justifyContent: 'flex-end'}}>\n          <Button onClick={hideModal}>Cancel</Button>\n        </div>\n      </ModalWrapper>\n      )}\n    </ModalBackground>\n  )\n};\n\nconst ViewModal = ({ docReq }) => {\n  const lcid = docReq && docReq.lcid;\n  // NULL if the docreq is not digital\n  const [digitalDocReq, setDigitalDocReq] = useState(null);\n  useEffect(() => {\n    if (!docReq) return;\n    makeAPIRequest(`/lc/${lcid}/doc_req/${docReq.id}/`)\n      .then(data => {\n        // HACK we can \"guess\" if there is a digital doc req if the seller name is defined\n        if (data.sellerName === undefined) {\n          setDigitalDocReq(null);\n        } else {\n          setDigitalDocReq(data);\n        }\n      });\n  }, [docReq, lcid]);\n  if (!docReq) return null;\n  const fields = !digitalDocReq ? [] : [\n    {title: \"Seller Name\", value: digitalDocReq.sellerName},\n    {title: \"Seller Address\", value: digitalDocReq.sellerAddress},\n    {title: \"Shipping Date\", value: digitalDocReq.indicatedDateOfShipment},\n    {title: \"Country of Export\", value: digitalDocReq.countryOfExport},\n    // {title: \"Incoterms Of Sale\", value: digitalDocReq.incotermsOfSale},\n    {title: \"Reason for Export\", value: digitalDocReq.reasonForExport},\n    {title: \"Consignee Name\", value: digitalDocReq.consigneeName || digitalDocReq.buyerName},\n    {title: \"Consignee Address\", value: digitalDocReq.consigneeAddress || digitalDocReq.buyerAddress},\n    {title: \"Buyer Name\", value: digitalDocReq.buyerName},\n    {title: \"Buyer Address\", value: digitalDocReq.buyerAddress},\n    {title: \"Description of Goods\", value: digitalDocReq.goodsDescription},\n    {title: \"Units of Measure\", value: digitalDocReq.unitOfMeasure},\n    {title: \"Units Purchased\", value: digitalDocReq.unitsPurchased},\n    {title: \"Price per Unit\", value: digitalDocReq.unitPrice},\n    {title: \"Currency of Settlement\", value: digitalDocReq.currency},\n    {title: \"Harmonized Schedule Code\", value: digitalDocReq.hsCode},\n    {title: \"Country of Origin\", value: digitalDocReq.countryOfOrigin},\n  ];\n  const link = docReq.linkToSubmittedDoc;\n  return (\n    <ModalFlex>\n    {digitalDocReq && (\n        <ModalLeftColumn>\n          <DocReqTitle style={{marginTop: '0'}}>{docReq.docName}</DocReqTitle>\n          {fields.map(field => field && (\n            <div key={field.title}>\n              <SmallHeader>{field.title}</SmallHeader>\n              <DocReqTitle>{field.value}</DocReqTitle>\n            </div>\n          ))}\n        </ModalLeftColumn>\n    )}\n        <ModalRightColumn >\n          <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px'}}>\n          <DocReqTitle style={{margin: '0'}}>PDF Preview</DocReqTitle>\n          <Button style={{padding: '5px 10px'}}>\n            <a href={link} style={{color: \"#fff\", fontSize: '14px', textDecoration: 'none'}}>Download PDF</a>\n          </Button>\n          </div>\n          {link && <Pdf src={`/api/lc/${lcid}/doc_req/${docReq.id}/file/`} />}\n        </ModalRightColumn>\n        </ModalFlex>\n  )\n};\n\nconst InputWrapper = styled.div`\n  max-width: 700px;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border-radius: 10px;\n  border: 1px solid #cdcdcd;\n\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }\n  transition: border 0.3s;\n  background-color: #fff;\n`;\n\nconst QuestionText = styled.h3`\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 15px;\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Asterisk = styled.span`\n  color: #dc3545;\n  font-size: 16px;\n`;\nconst StyledFormInput = styled(Field)`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  font-size: 16px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin-top: 15px;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  border: 1px solid ${config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  margin: 10px 0;\n  max-width: 45%;\n  display: flex;\n  align-items: center;\n`;\n\n\nconst BasicInput = ({ question, children, subtitle }) => {\n  const [, meta] = useField(question.key);\n  const { error, touched } = meta;\n  return (\n    <InputWrapper>\n      <QuestionText>{question.questionText}{question.required ? (<Asterisk> *</Asterisk>) : null}</QuestionText>\n      {subtitle && <Subtitle>{subtitle}</Subtitle>}\n      {error && touched && <Subtitle style={{color: '#dc3545'}}>{typeof error !== 'object' ? error : null}</Subtitle>}\n      {children}\n    </InputWrapper>\n  )\n};\n\nconst TextInput = ({ question }) => {\n  return (\n    <BasicInput question={question}>\n      <StyledFormInput type=\"text\" name={question.key}/>\n    </BasicInput>\n  );\n};\n\nconst NumberInput = ({ question }) => {\n  return (\n    <BasicInput question={question}>\n      <StyledFormInput type=\"number\" name={question.key}/>\n    </BasicInput>\n  )\n};\n\nconst YesNoInput = ({ question }) => {\n  const [, meta, helpers] = useField(question.key);\n  const { value } = meta;\n  const { setValue } = helpers;\n\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n\n  return (\n    <BasicInput question={question}>\n      <ButtonWrapper style={{ justifyContent: 'center' }}>\n        <StyledButton onClick={handleClick(true)} selected={value === true}>Yes</StyledButton>\n        <StyledButton onClick={handleClick(false)} selected={value === false}>No</StyledButton>\n      </ButtonWrapper>\n    </BasicInput>\n  )\n};\n\nconst AllRadiosWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst RadioInput = ({ question }) => {\n  const options = JSON.parse(question.options);\n  const [, meta, helpers] = useField(question.key);\n  const { value } = meta;\n  const { setValue } = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n  return (\n    <BasicInput question={question}>\n    <AllRadiosWrapper>\n      <ButtonWrapper>\n    {options && options.map((opt) => (\n        <StyledButton onClick={handleClick(opt)} selected={value === opt} key={opt}>{opt}</StyledButton>\n    ))}\n      </ButtonWrapper>\n    </AllRadiosWrapper>\n    </BasicInput>\n  )\n};\n\nconst DateInput = ({ question }) => {\n  return (\n    <BasicInput question={question}>\n      <StyledFormInput type=\"date\" name={question.key}/>\n    </BasicInput>\n  )\n};\n\nconst AllCheckboxesWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst CheckboxInput = ({ question }) => {\n  const options = JSON.parse(question.options);\n  const [, meta, helpers] = useField(question.key);\n  const { value } = meta;\n  const { setValue } = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    const i = value.indexOf(val);\n    if (i !== -1) {\n      setValue(value.slice(0, i).concat(value.slice(i + 1)));\n    } else {\n      setValue(value.concat([val]));\n    }\n  };\n\n  return (\n    <BasicInput question={question} subtitle=\"Check all that apply.\">\n    <AllCheckboxesWrapper>\n      <ButtonWrapper>\n    {options && options.map((opt) => (\n        <StyledButton onClick={handleClick(opt)} selected={value.indexOf(opt) !== -1} key={opt}>\n        {value.indexOf(opt) !== -1 && <FontAwesomeIcon icon={faCheckSquare} style={{ marginRight: '10px' }}/>}\n        {opt}\n        </StyledButton>\n    ))}\n      </ButtonWrapper>\n    </AllCheckboxesWrapper>\n    </BasicInput>\n  )\n};\n\nconst TYPE_TO_COMPONENT = {\n  text: TextInput,\n  decimal: NumberInput,\n  number: NumberInput,\n  boolean: YesNoInput,\n  radio: RadioInput,\n  date: DateInput,\n  checkbox: CheckboxInput,\n};\n\nconst TYPE_TO_DEFAULT = {\n  text: \"\",\n  decimal: 0,\n  number: 0,\n  boolean: null,\n  radio: null,\n  date: (new Date()).toISOString().slice(0, 10),\n  checkbox: [],\n};\n\nconst REQUIRED_MSG = \"This field is required.\";\n\nconst TYPE_TO_VALIDATION_SCHEMA = {\n  text: string(),\n  decimal: number(),\n  number: number(),\n  boolean: boolean().nullable(),\n  radio: string().nullable(),\n  date: date(),\n  checkbox: array().of(string()),\n};\n\nconst CreateModal = ({ docReq, hideModal, refreshLc, lc}) => {\n  const [fields, setFields] = useState([]);\n  const [suggestedFields, setSuggestedFields] = useState([]);\n  useEffect(() => {\n    if (!docReq) return undefined;\n    makeAPIRequest(`/lc/supported_creatable_docs/${docReq.type}/`)\n      .then(d => setFields(d));\n    makeAPIRequest(`/lc/${lc.id}/doc_req/${docReq.id}/autopopulate/`)\n      .then(s => setSuggestedFields(s));\n  }, [docReq]);\n  if (!docReq) return null;\n  const schemaObj = {};\n  let initialValues = {};\n  let validationSchema = null;\n  fields.forEach(q => {\n    Object.keys(suggestedFields).forEach(key => {\n      if (camelCase(q.key) == key) {\n        let initialValue = get(lc, suggestedFields[key]);\n        if (initialValue && new Set([\"object\", \"array_of_objs\", \"checkbox\"]).has(q.type)) {\n          initialValue = JSON.parse(initialValue);\n        }\n        initialValues[q.key] = initialValue;\n      }\n    });\n    if (!initialValues[q.key]) initialValues[q.key] = TYPE_TO_DEFAULT[q.type];\n  });\n  fields.forEach(q => {\n    schemaObj[q.key] = TYPE_TO_VALIDATION_SCHEMA[q.type];\n    if (q.required) {\n      schemaObj[q.key] = schemaObj[q.key].required(REQUIRED_MSG);\n    }\n  });\n  validationSchema = object().shape(schemaObj);\n  return fields.length > 0 && (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      enableReinitialize\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        const app = {};\n        Object.entries(values).forEach((kv) => {\n          const [key, value] = kv;\n          if (value === null) {\n          } else {\n            app[key] = value;\n          }\n        });\n        const { lcid, id } = docReq;\n        makeAPIRequest(`/lc/${lcid}/doc_req/${id}/`, 'POST', app, true)\n          .then(() => hideModal())\n          .then(() => refreshLc())\n          .then(() => setSubmitting(false));\n          // .then(async res => {\n          //   let text = await res.text();\n          //   if (res.status === 200) {\n          //     localStorage.removeItem(`lc/${match.params.bankid}`);\n          //     setStatus({status: \"success\", message: \"Your LC app has been sent in! The bank will get back to you ASAP.\"});\n          //   } else {\n          //     if (text.length > 250) text = \"Unknown server error. Please contact steve@bountium.org.\"\n          //     localStorage.setItem(`lc/${match.params.bankid}`, JSON.stringify(values))\n          //     setStatus({status: \"error\", message: `Error submitting form: ${text}`});\n          //   }\n          //   })\n      }}\n    >\n    {({ isSubmitting }) => (\n      isSubmitting ? <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          /> : (\n      <Form>\n      <DocReqTitle>Create {docReq.docName}</DocReqTitle>\n      {fields && fields.map(question => {\n        const Component = TYPE_TO_COMPONENT[question.type];\n        return <Component key={question.key} question={question} />;\n      })}\n      <div style={{display: \"flex\", justifyContent: \"center\", marginTop: \"20px\"}}>\n      <Button disabled={isSubmitting} type=\"submit\">Create</Button>\n      </div>\n      </Form>\n\n          )\n    )}\n      </Formik>\n  )\n};\n\nconst UploadModal = ({ docReq, refreshLc, hideModal }) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const uploadFile = (file) => {\n    if (!file) {\n      console.error('No file found.');\n      return;\n    }\n    setIsSubmitting(true);\n    const { lcid, id } = docReq;\n    postFile(`/lc/${lcid}/doc_req/${id}/`, file)\n      .then(() => hideModal())\n      .then(() => refreshLc())\n      .then(() => setIsSubmitting(false));\n  };\n\n  return (\n    <>\n      <DocReqTitle>Upload {docReq.docName}</DocReqTitle>\n      <div style={{ display: \"flex\", flexDirection: \"column\", maxWidth: '700px' , margin: 'auto'}}>\n        {isSubmitting ? <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          /> : (\n        <FileUpload>\n          Upload File\n          <input\n            type=\"file\"\n            onChange={(e) => uploadFile(e.target.files[0])}\n            style={{ display: \"none\" }}\n          />\n        </FileUpload>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst DocumentaryEntryFlex = styled.div`\n  display: flex;\n  align-items: center;\n  > :nth-child(1) {\n    min-width: 60%;\n  }\n  > :nth-child(2) {\n    min-width: 20%;\n  }\n  > :nth-child(3) {\n    min-width: 20%;\n  }\n  ${props => props.clickable && `cursor: pointer;`}\n`;\n\nconst DocumentaryEntryWrapper = styled.div`\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst DocReqTitle = styled.div`\n  font-weight: 500;\n  font-size: 24px;\n  max-width: 700px;\n  margin: 5px auto 20px;\n  display: flex;\n  align-items: center;\n`;\n\nconst DocReqDate = styled.div`\n  font-size: 14px;\n`;\n\nconst DocReqStatus = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n`;\n\nconst ExpandedDocumentaryEntry = styled.div`\n  padding-bottom: 10px;\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.5;\n`;\n\nconst FileUpload = styled.label`\n  padding: 5px 10px;\n  border: 1px solid #dcdcdc;\n  margin-right: auto;\n  cursor: pointer;\n`;\n\nconst DocumentaryEntryEvaluation = styled.div`\n  display: flex;\n  margin-top: 10px;\n\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst SmallHeader = styled.div`\n  font-size: 12px;\n  min-width: 150px;\n  margin-right: 50px;\n`;\n\nconst DocumentaryRequirement = ({ documentaryRequirement: docReq, lcid, userType, status, live, refreshLc, showModal, ...props }) => {\n  const { docName: title, dueDate, linkToSubmittedDoc, id, requiredValues, rejected } = docReq;\n  const [expanded, setExpanded] = useState(false);\n  const [comments, setComments] = useState('');\n\n  const approve = () => {\n    makeAPIRequest(`/lc/${lcid}/doc_req/${id}/evaluate/`, 'POST', {\n      approve: true, complaints: comments,\n    }).then(() => refreshLc());\n  };\n\n  const reject = () => {\n    makeAPIRequest(`/lc/${lcid}/doc_req/${id}/evaluate/`, 'POST', {\n      approve: false, complaints: comments,\n    }).then(() => refreshLc());\n  };\n\n  return (\n    <DocumentaryEntryWrapper>\n      <DocumentaryEntryFlex\n        clickable\n        onClick={() => setExpanded((e) => !e)}\n        {...props}\n      >\n        <DocReqTitle style={{ margin: \"15px 0\" }}>\n          {title}\n          <FontAwesomeIcon\n            icon={expanded ? faChevronDown : faChevronRight}\n            style={{ color: config.accentColor, marginLeft: \"10px\" }}\n          />\n        </DocReqTitle>\n        <DocReqDate>{dueDate}</DocReqDate>\n        <DocReqStatus>{status}</DocReqStatus>\n      </DocumentaryEntryFlex>\n      {expanded && (\n        <ExpandedDocumentaryEntry>\n          <DocumentaryEntryFlex>\n            <div>\n              <div style={{ marginRight: \"30px\" }}>\n                Required Values: {requiredValues}\n              </div>\n            </div>\n            <div>\n              {live && linkToSubmittedDoc && <Button style={{ marginRight: \"10px\", minWidth: '80px' }}\n                onClick={() => showModal(docReq, lcid, \"view\")}>View</Button>}\n            </div>\n            <div>\n              {linkToSubmittedDoc && (\n                <div>\n                  File: <a href={linkToSubmittedDoc}>order.pdf</a>\n                </div>\n              )}\n              {live &&\n                status !== \"Approved\" &&\n                (!linkToSubmittedDoc || rejected) && (\n                  <Button style={{ marginRight: \"10px\", minWidth: '80px' }}\n                onClick={() => showModal(docReq, lcid, \"create\")}>Create</Button>\n                )}\n            </div>\n          </DocumentaryEntryFlex>\n          {live &&\n            userType === \"issuer\" &&\n            status !== \"Approved\" &&\n            !rejected &&\n            linkToSubmittedDoc && (\n              <DocumentaryEntryEvaluation>\n                <Button onClick={approve}>Approve</Button>\n                <Button onClick={reject}>Reject</Button>\n                <div>\n                  <SmallHeader>Comments</SmallHeader>\n                  <input\n                    type=\"text\"\n                    value={comments}\n                    onChange={(e) => setComments(e.target.value)}\n                  />\n                </div>\n              </DocumentaryEntryEvaluation>\n            )}\n        </ExpandedDocumentaryEntry>\n      )}\n    </DocumentaryEntryWrapper>\n  );\n};\n\nconst useModal = () => {\n  const [isModalShowing, setIsModalShowing] = useState(false);\n  const [modalDocReq, setModalDocReq] = useState(null);\n\n  return {\n    showModal: (docReq, lcid, modalType) => {\n      setIsModalShowing(modalType);\n      setModalDocReq({...docReq, lcid});\n    },\n    hideModal: () => setIsModalShowing(false),\n    isModalShowing,\n    modalDocReq\n  }\n};\n\nconst DocumentaryRequirements = ({ lc, userType, live, refreshLc }) => {\n  const { showModal, hideModal, isModalShowing, modalDocReq } = useModal();\n  const docReqs = lc.documentaryrequirementSet;\n  return (\n    <Panel title=\"Documentary Requirements\">\n      <DocumentaryEntryFlex>\n        <SmallHeader style={{margin: \"0\"}}>Document Title</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Recieve By</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Status</SmallHeader>\n      </DocumentaryEntryFlex>\n      {docReqs ? docReqs.map(d =>\n        <DocumentaryRequirement\n          documentaryRequirement={d}\n          status={d.satisfied ? \"Approved\" : d.rejected ? \"Rejected\" : d.linkToSubmittedDoc ? \"Pending\" : \"Incomplete\"}\n          lcid={lc.id}\n          live={live}\n          userType={userType}\n          refreshLc={refreshLc}\n          key={d.docName}\n          showModal={showModal}\n          />\n        ) : (\n          <div style={{ marginTop: \"10px\", fontStyle: \"italic\", fontWeight: \"300\"}}>\n            There are no documentary requirements for this LC.\n          </div>\n        )\n      }\n      <Modal show={isModalShowing} docReq={modalDocReq} hideModal={hideModal} refreshLc={refreshLc} lc={lc}/>\n    </Panel>\n  );\n};\n\nexport default DocumentaryRequirements;\n","import React, {useEffect} from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\nimport config from \"../../config\";\n\nconst Background = styled.div`\n  position: fixed;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  left: 0%;\n  top: 0%;\n  z-index: 2;\n  background-color: rgba(211, 211, 211, 0.5);\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Container = styled.div`\n  background-color: white;\n  opacity: 100%;\n  padding: 20px;\n  max-width: 80%;\n  max-height: 80%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.div`\n  font-size: 26px;\n  padding-bottom: 15px;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\nconst ActionButton = styled(Button)`\n  margin: 5px;\n  min-width: 72px;\n`;\n\nconst CancelButton = styled(ActionButton)`\n  color: ${config.accentColor};\n  background-color: transparent;\n  min-width: 72px;\n`;\n\nconst Error = styled.span`\n  display: inline-flex;\n  align-items: center;\n  color: red;\n  font-style: italic;\n  padding-right: 20px;\n`;\n\nexport const Modal = ({show, title, children, onCancel, onSelect, containerStyle,\n  onShow, error, selectDisabled, selectButton = \"Select\", cancelButton = \"Cancel\"}) => {\n\n  useEffect(() => {\n    const scrollTop = show ? `-${document.documentElement.scrollTop}px` : -parseInt(document.body.style.top);\n    document.body.style.position = show ? \"fixed\" : \"\";\n    document.body.style.width = show ? \"100%\" : \"\";\n    document.body.style.overflowY = show ? \"scroll\" : \"\";\n    if (show) document.body.style.top = scrollTop;\n    else {\n      document.body.style.top = \"\";\n      if (!isNaN(scrollTop)) document.documentElement.scrollTop = scrollTop;\n    }\n    show && onShow && onShow();\n    return () => {\n      document.body.style.position = \"\";\n      document.body.style.width = \"\";\n      document.body.style.overflowY = \"\";\n      const resetScroll = -parseInt(document.body.style.top);\n      if (!isNaN(resetScroll)) document.documentElement.scrollTop = resetScroll;\n      document.body.style.top = \"\";\n    }\n  }, [show]);\n\n  return (\n      show &&\n      <Background onClick={() => onCancel()}>\n        <Container style={containerStyle} onClick={event => event.stopPropagation()}>\n          <Title>{title}</Title>\n          {children}\n          <ButtonWrapper>\n            <Error>{error}</Error>\n            <CancelButton type={\"button\"} onClick={onCancel}>{cancelButton}</CancelButton>\n            <ActionButton type={\"button\"} disabled={selectDisabled} onClick={onSelect}>{selectButton}</ActionButton>\n          </ButtonWrapper>\n        </Container>\n      </Background>\n  )\n};\n","import React, {Fragment, useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faChevronDown, faChevronRight} from \"@fortawesome/free-solid-svg-icons\";\nimport {get} from \"lodash\";\n\nimport {makeAPIRequest} from '../../utils/api';\nimport Panel from './Panel';\nimport config from \"../../config\";\nimport AnimateHeight from \"react-animate-height\";\nimport {Modal} from \"../../components/ui/Modal\";\n\nconst InputWrapper = styled.div`\n  max-width: 700px;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border-radius: 10px;\n  border: 1px solid #cdcdcd;\n\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }\n  transition: border 0.3s;\n  background-color: #fff;\n`;\n\nconst QuestionText = styled.h3`\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 5px;\n  margin-bottom: 10px;\n  color: ${props => props.error ? \"red\" : \"#555353\"};\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Asterisk = styled.span`\n  color: #dc3545;\n  font-size: 16px;\n`;\n\nconst StyledFormInput = styled.textarea`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-height: 100px;\n  font-size: 16px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  border: 1px solid ${config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  margin: 10px 0;\n  display: flex;\n  align-items: center;\n`;\n\nconst DocumentaryEntryFlex = styled.div`\n  display: flex;\n  align-items: baseline;\n  > :nth-child(1) {\n    min-width: 55%;\n  }\n  > :nth-child(2) {\n    min-width: 30%;\n  }\n  > :nth-child(3) {\n    min-width: 15%;\n  }\n  ${props => props.clickable && `cursor: pointer;`}\n`;\n\nconst DocumentaryEntryWrapper = styled.div`\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst DocReqTitle = styled.div`\n  font-weight: 500;\n  font-size: 24px;\n  max-width: 700px;\n  margin: 5px auto 20px;\n  margin: 5px auto 20px;\n  display: flex;\n  align-items: center;\n  ${props => props.clickable && `cursor: pointer;`}\n`;\n\nconst DocReqStatus = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n`;\n\nconst ExpandedDocumentaryEntry = styled.div`\n  padding-bottom: 10px;\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.5;\n  width: 75%;\n`;\n\nconst DocumentaryEntryEvaluation = styled.div`\n  display: flex;\n  margin-top: 10px;\n\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst SmallHeader = styled.div`\n  font-size: 12px;\n  min-width: 150px;\n  margin-right: 50px;\n`;\n\nconst RequestClarificationModal = ({lc, initialReason, modal, setModal, field, setLc, client, beneficiary}) => {\n  const [comment, setComment] = useState(initialReason);\n  const textAreaRef = useRef(null);\n\n  useEffect(() => {\n    if (modal === \"requestClarification\") {\n      textAreaRef.current.focus();\n    }\n  }, [modal]);\n\n  const onRequest = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {[field]: \"requested\"},\n      comment: {action: \"requested clarification on the beneficiary\", message: comment},\n      holdStatus: true\n    }).then(data => setLc(data.updatedLc));\n    setModal(\"\");\n  };\n\n  return (\n    <Modal selectButton={\"Confirm\"} show={modal === \"requestClarification\"} onCancel={() => setModal(\"\")}\n           title={\"Request Clarification\"} onSelect={onRequest}>\n      <div>Request {client?.name} to provide more information about {beneficiary?.name}?</div>\n      <div style={{paddingTop: 40}}>Comment:</div>\n      <StyledFormInput ref={textAreaRef} value={comment} onChange={({target}) => setComment(target.value)}/>\n    </Modal>\n  )\n};\n\nconst RejectionModal = ({lc, initialReason, modal, setModal, field, setLc}) => {\n  const [rejectionReason, setRejectionReason] = useState(initialReason);\n  const textAreaRef = useRef(null);\n\n  useEffect(() => {\n    if (modal === \"reject\") {\n      textAreaRef.current.focus();\n    }\n  }, [modal]);\n\n  const onReject = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {[field]: \"rejected\"},\n      comment: {action: \"rejected the LC\", message: rejectionReason},\n      holdStatus: true\n    }).then(data => setLc(data.updatedLc));\n    setModal(\"\");\n  };\n\n  return (\n    <Modal selectButton={\"Reject\"} show={modal === \"reject\"} onCancel={() => setModal(\"\")} title={\"Confirm Rejection\"}\n           onSelect={onReject}>\n      <div>Are you sure you want to reject this LC? Doing so will cause all changes to be permanently halted.</div>\n      <div style={{paddingTop: 40}}>Notes:</div>\n      <StyledFormInput ref={textAreaRef} value={rejectionReason}\n                       onChange={({target}) => setRejectionReason(target.value)}/>\n    </Modal>\n  )\n};\n\nconst titleCase = string => {\n  const exceptions = new Set(\n    [\"and\", \"as\", \"but\", \"for\", \"if\", \"nor\", \"or\", \"so\", \"yet\", \"a\", \"an\",\n      \"the\", \"as\", \"at\", \"by\", \"for\", \"in\", \"of\", \"off\", \"on\", \"per\", \"to\",\n      \"up\", \"via\"]);\n\n  const allCaps = new Set([\"s.a.\", \"sa\"]);\n\n  const capitalizeFirstLetter = (word, wordIndex) => {\n    word = word.toLowerCase();\n    if (allCaps.has(word)) {\n      return word.toUpperCase();\n    } else if (!wordIndex || !exceptions.has(word)) {\n      return word.charAt(0).toUpperCase() + word.substring(1);\n    } else {\n      return word;\n    }\n  };\n\n  return string.split(\" \").map((substr, ind) => capitalizeFirstLetter(substr, ind)).join(\" \");\n};\n\nconst SanctionInfo = ({sanction}) => {\n\n  const handleRightClick = event => {\n    event.preventDefault();\n    window.open(`https://www.google.com/search?q=${sanction.name}`);\n  };\n\n  const addressToString = address => {\n    const fields = [];\n    address.address && fields.push(address.address);\n    address.addressGroup && fields.push(address.addressGroup);\n    address.country && fields.push(address.country);\n    return fields.join(\", \");\n  };\n\n  return (\n    <div style={{paddingBottom: 20, paddingLeft: 20}}>\n      <div style={{fontSize: 19, width: \"70%\"}} title={\"Right click to search\"}\n           onContextMenu={handleRightClick}>{titleCase(sanction.name)}</div>\n      {sanction.aliases.length > 0 && <div style={{paddingLeft: 40, paddingTop: 5}}>\n        Aliases:\n        <div style={{paddingLeft: 40}}>\n          {sanction.aliases.map(alias => <div style={{paddingTop: 3}} key={alias.id}>{titleCase(alias.name)}</div>)}\n        </div>\n      </div>}\n      {sanction.addresses.length > 0 && <div style={{paddingLeft: 40, paddingTop: 5}}>\n        Addresses:\n        <div style={{paddingLeft: 40}}>\n          {sanction.addresses.map(\n            address => <div style={{paddingTop: 3}} key={address.id}>{addressToString(address)}</div>)}\n        </div>\n      </div>}\n    </div>\n  )\n};\n\nconst ComplianceCheck = ({\n  lc, setLc, title, initialRequestComment, initialRejectionReason, error, errorMessage, children, status, type\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const [modal, setModal] = useState(\"\");\n\n  let field;\n  if (type === \"company\") {\n    field = \"ofacBankApproval\"\n  } else if (type === \"country\") {\n    field = \"sanctionBankApproval\";\n  } else if (type === \"license\") {\n    field = \"importLicenseApproval\";\n  } else if (type === \"boycott\") {\n    field = \"boycottLanguageStatus\";\n  } else if (type === \"believablePrice\") {\n    field = \"believablePriceOfGoodsStatus\";\n  }\n  else if (type === \"dueAuthorization\") {\n    field = \"dueAuthorization\";\n  }\n\n  // Unauthorize the employee submitting the LC\n  const Reject = () => {\n      makeAPIRequest(`/business/${lc.taskedClientEmployees[0].id}/${lc.issuer.id}/${\"Unauthorized\"}/`, 'PUT')\n          .then(json => {\n            console.log(json);\n            window.location.reload(true);\n          }).catch((error) => {console.log(error)})\n  }\n\n  //  Authorize the employee submitting the LC\n  const Authorize = () => {\n    makeAPIRequest(`/business/${lc.taskedClientEmployees[0].id}/${lc.issuer.id}/${\"Authorized\"}/`, 'PUT')\n        .then(json => {\n          console.log(json);\n          window.location.reload(true);\n        }).catch((error) => {console.log(error)})\n  }\n\n\n  const onWaiveClick = () => {\n    // certain fields wont be able to be handled by the same update (just in case it gets here from the request modal somehow)\n    if (field === \"dueAuthorization\") {\n      return;\n    }\n\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {[field]: \"accepted\"},\n      holdStatus: true\n    }).then(data => setLc(data.updatedLc));\n  };\n\n  return (\n    <DocumentaryEntryWrapper>\n      <RejectionModal modal={modal} setModal={setModal} initialReason={initialRejectionReason}\n                      field={field} setLc={setLc} lc={lc}/>\n      <RequestClarificationModal lc={lc} modal={modal} setModal={setModal} initialReason={initialRequestComment}\n                                 setLc={setLc} client={lc?.client} field={field}\n                                 beneficiary={lc?.beneficiary}/>\n      <DocumentaryEntryFlex>\n        <div>\n          <DocReqTitle style={{margin: \"15px 0 0 0\"}} clickable\n                       onClick={() => setExpanded((e) => !e)}>\n            {title}\n            <FontAwesomeIcon\n              icon={expanded ? faChevronDown : faChevronRight}\n              style={{color: config.accentColor, marginLeft: \"10px\"}}\n            />\n          </DocReqTitle>\n          <Subtitle error={error} style={{paddingLeft: 10}}>\n            {error && errorMessage}\n          </Subtitle>\n        </div>\n        <ButtonWrapper style={{position: \"relative\"}}>\n          {field === \"dueAuthorization\" ? <Fragment><StyledButton selected={status === \"Authorized\"} onClick={Authorize}>Authorize</StyledButton>\n                <StyledButton selected={status === \"Unauthorized\"} onClick={Reject}>Reject</StyledButton> </Fragment>\n              : <Fragment><StyledButton selected={status === \"Accepted\"} onClick={onWaiveClick}>{field === 'dueAuthorization' ? 'Authorize' : 'Waive'}</StyledButton>\n            <StyledButton selected={status === \"Rejected\"} onClick={() => setModal(\"reject\")}>Reject</StyledButton></Fragment> }\n          {expanded && field !==\"dueAuthorization\" && <StyledButton style={{position: \"absolute\", top: 40}} selected={status === \"Requested\"}\n                                     onClick={() => setModal(\"requestClarification\")}>\n            Request More Info</StyledButton>}\n        </ButtonWrapper>\n        <DocReqStatus>{status}</DocReqStatus>\n      </DocumentaryEntryFlex>\n      <AnimateHeight duration={300} height={expanded ? \"auto\" : 0}>\n        <ExpandedDocumentaryEntry>\n          {children}\n        </ExpandedDocumentaryEntry>\n      </AnimateHeight>\n    </DocumentaryEntryWrapper>\n  );\n};\n\nconst CompanyOFACCheck = ({lc, setLc}) => {\n  const beneficiary = get(lc, 'beneficiary.name');\n  const sanctions = get(lc, 'ofacSanctions');\n  const status = get(lc, \"ofacBankApproval\");\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"company\"}\n      setLc={setLc}\n      title={\"OFAC Company Sanctions\"}\n      status={titleCase(status)}\n      initialRejectionReason={`The beneficiary ${beneficiary} is on the OFAC SDN sanction list.`}\n      initialRequestComment={`Our records indicate that the beneficiary ${beneficiary} is on the OFAC SDN sanction list. If this is a mistake, please provide reasoning to confirm so.`}\n      error={sanctions.length > 0}\n      errorMessage={`${sanctions.length > 0 ? sanctions.length : \"No\"} ${sanctions.length > 0 ? \"potential\"\n        : \"\"} error${sanctions.length !== 1 ? \"s\" : \"\"}${sanctions.length === 0 ? \" found\" : \"\"}`}\n    >\n      {sanctions.length > 0 ? sanctions.map(sanction => <SanctionInfo key={sanction.id} sanction={sanction}/>) :\n        <div style={{paddingLeft: 20, width: \"70%\"}}>Did not find any immediate sanction violations for\n          company {beneficiary}.</div>}\n    </ComplianceCheck>\n  )\n};\n\nconst CountrySanctionCheck = ({lc, setLc}) => {\n  const beneficiary = get(lc, 'beneficiary.name');\n  const beneficiaryCountry = get(lc, 'beneficiary.country');\n  const clientCountry = get(lc, \"client.country\");\n  const countrySanctionMessage = get(lc, \"sanctionAutoMessage\");\n  const status = get(lc, \"sanctionBankApproval\");\n  let message;\n  if (countrySanctionMessage === null) {\n    message = `Not able to check sanction violations for the country ${beneficiaryCountry}.\n    Please contact steve@bountium.org if you would like for this functioniality to be extended.`;\n  } else if (countrySanctionMessage === \"\") {\n    message = `Did not find any immediate sanction errors for country ${beneficiaryCountry}.`;\n  } else {\n    message = <div>Paying out an LC to {beneficiaryCountry} may violate sanctions. Please click&nbsp;\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={countrySanctionMessage}>here</a> for more information.</div>;\n  }\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"country\"}\n      setLc={setLc}\n      title={\"Country Sanctions\"}\n      status={titleCase(status)}\n      initialRejectionReason={`The beneficiary ${beneficiary}'s country (${beneficiaryCountry}) has sanction violations with your country (${clientCountry}).`}\n      initialRequestComment={`Our records indicate that the beneficiary ${beneficiary}'s country (${beneficiaryCountry}) has sanctions against your country (${clientCountry}). If this is a mistake, please provide reasoning to confirm so.`}\n      error={countrySanctionMessage === null || countrySanctionMessage}\n      errorMessage={countrySanctionMessage === \"\" ? \"No errors found\" : \"1 potential error\"}\n    >\n      <div style={{paddingLeft: 20, fontSize: 19, width: \"70%\"}}>{beneficiaryCountry}</div>\n      <div style={{paddingLeft: 60, width: \"70%\"}}>{message}</div>\n    </ComplianceCheck>\n  )\n};\n\nconst ImportLicenseCheck = ({lc, setLc}) => {\n  const licenseSanctionMessage = get(lc, \"importLicenseMessage\");\n  const status = get(lc, \"importLicenseApproval\");\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"license\"}\n      setLc={setLc}\n      title={\"Import License/Permits\"}\n      status={titleCase(status)}\n      initialRejectionReason={`There may an additional permit/license required for the goods marked.`}\n      initialRequestComment={`Our records indicate that there are additional permits required to ship this good. If this is a mistake, please provide reasoning to confirm so.`}\n      error={licenseSanctionMessage === null || licenseSanctionMessage}\n      errorMessage={licenseSanctionMessage === \" \" ? null : \"1 potential error\"}\n    >\n      {licenseSanctionMessage?.length > 1 ? <div\n          style={{paddingTop: 20, paddingLeft: 20}}>{licenseSanctionMessage}</div> :\n        <div style={{paddingLeft: 20, width: \"70%\"}}>Did not find any immediate license/permits required for this\n          transaction.</div>}\n    </ComplianceCheck>\n  )\n};\n\nconst BoycottLanguageCheck = ({lc, setLc}) => {\n  const boycotts = get(lc, 'boycottLanguage');\n  const status = get(lc, 'boycottLanguageStatus');\n\n  const boycottSourceToReadable = (source) => {\n    if (source === \"otherInstructions\") {\n      return \"'Other instructions' in the LC application\";\n    }\n  };\n\n  const boycottToReadable = (source, boycotts) => {\n    if (source === \"otherInstructions\") {\n      const indices = [];\n      boycotts.map(boycott => {\n        const startIndex = lc.otherInstructions.indexOf(boycott.phrase);\n        indices.push([startIndex, startIndex + boycott.phrase.length])\n      });\n      indices.sort((a, b) => a[0] - b[0]);\n      const cmps = [<span>{lc.otherInstructions.substring(0, indices[0][0])}</span>];\n      indices.forEach((indexes, index) => {\n        if (index > 0) {\n          cmps.push(<span>{lc.otherInstructions.substring(indices[index - 1][1], indexes[0])}</span>);\n        }\n        cmps.push(<span style={{fontWeight: 600}}>{lc.otherInstructions.substring(indexes[0], indexes[1])}</span>);\n      });\n      cmps.push(<span>{lc.otherInstructions.substring(indices[indices.length - 1][1])}</span>)\n      return (\n        <div style={{fontSize: 14, paddingLeft: 20, fontStyle: \"italic\"}}>\n          \"{cmps.map(cmp => cmp)}\"\n        </div>\n      )\n    }\n  };\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"boycott\"}\n      setLc={setLc}\n      title={\"Boycott Language\"}\n      status={titleCase(status)}\n      initialRejectionReason={`There is boycott language in this LC.`}\n      initialRequestComment={`Our records indicate that there is boycott language in this LC. If this is a mistake, please provide reasoning to confirm so.`}\n      error={boycotts === null || Object.keys(boycotts).length > 0}\n      errorMessage={`${Object.keys(boycotts).length > 0 ? Object.keys(boycotts).length : \"No\"} ${Object.keys(\n        boycotts).length > 0 ? \"potential\" : \"\"} error${Object.keys(boycotts).length !== 1 ? \"s\" : \"\"}${Object.keys(\n        boycotts).length === 0 ? \" found\" : \"\"}`}\n    >\n      {Object.keys(boycotts).length > 0 ?\n        <div>\n          <div style={{paddingLeft: 20, width: \"70%\", paddingBottom: 10}}>\n            This LC potentially violates United States Anti-Boycott laws. Please click&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\"\n               href={\"https://www.bis.doc.gov/index.php/enforcement/oac\"}>here</a>\n            &nbsp;for more information.\n          </div>\n          {Object.entries(boycotts).map(([boycottSource, boycotts], boycottSourceIndex) => (\n            <div style={{paddingLeft: 40}} key={boycottSourceIndex}>\n              <div style={{fontSize: 19, width: \"70%\"}}>\n                From {boycottSourceToReadable(boycottSource)}:\n              </div>\n              {boycottToReadable(boycottSource, boycotts)}\n            </div>))}\n        </div> : <div style={{paddingBottom: 20}}>No immediate boycott language found in the LC.</div>}\n    </ComplianceCheck>\n  )\n};\n\nconst DueAuthorization = ({lc, setLc}) => {\n  const employee = get(lc, 'taskedClientEmployees[0]');\n  const issuer = get(lc, \"issuer\");\n  const initialRejectReason = \"This employee is not Authorized\";\n  const initialRequestComment = \"Please provide proof of Authorization that this employee can represent an LC for this company\";\n\n  const searchStatus = (authList) => {\n    for (let authItem of authList) {\n      if (authItem.bank.id === issuer.id) {\n        return titleCase(authItem.status);\n      }\n    }\n    return \"error\";\n  };\n\n  let status = searchStatus(employee.authorizedBanks || []);\n\n\n  return (\n      <ComplianceCheck\n          lc={lc}\n          type={\"dueAuthorization\"}\n          setLc={setLc}\n          title={\"Due Authorization\"}\n          status={status}\n          initialRejectionReason={initialRejectReason}\n          initialRequestComment={initialRequestComment}\n          error={status !== \"Authorized\"}\n          errorMessage={status !== \"Authorized\" && \"1 potential error\"}\n      >\n        {status === \"Authorized\" ? <div> {employee.name} is authorized to apply for an LC </div> : <div> {employee.name} is not authorized to apply for an LC</div>  }\n      </ComplianceCheck>\n  )\n};\n\nconst BelievablePriceOfGoods = ({lc, setLc}) => {\n  const goodsInfo = get(lc, 'goodsInfo');\n  const status = get(lc, 'believablePriceOfGoodsStatus');\n  const unitsPurchased = parseFloat(get(lc, 'unitsPurchased'));\n  const range = goodsInfo && [Math.max(0,\n    unitsPurchased * (parseFloat(goodsInfo.mean) - 2 * parseFloat(goodsInfo.standardDeviation))),\n    unitsPurchased * (parseFloat(goodsInfo.mean) + 2 * parseFloat(goodsInfo.standardDeviation))];\n  const credit = parseFloat(get(lc, 'creditAmt'));\n  const error = range && (credit < range[0] || credit > range[1]);\n  let initialRejectionReason = \"\";\n  let initialRequestComment = \"\";\n  let cmp = \"Did not find any immediate irregularities with the price of the goods.\";\n  if (error && credit < range[0]) {\n    initialRejectionReason = \"The price of the goods is too low.\";\n    initialRequestComment = \"Our records indicate that the price of the goods is too low. If this is a mistake, please provide reasoning to confirm so.\";\n    cmp = <div>The price of the goods for HTS code {goodsInfo.htsCode} (${credit}) may be too low. <a target=\"_blank\" rel=\"noopener noreferrer\" href={\"https://comtrade.un.org/Data/\"}>These records</a> indicate the range should fall somewhere between [${range[0]} - ${range[1]}].</div>\n  } else if (error && credit > range[1]) {\n    initialRejectionReason = \"The price of the goods is too high.\";\n    initialRequestComment = \"Our records indicate that the price of the goods is too high. If this is a mistake, please provide reasoning to confirm so.\";\n    cmp = <div>The price of the goods for HTS code {goodsInfo.htsCode} (${credit}) may be too high. <a target=\"_blank\" rel=\"noopener noreferrer\" href={\"https://comtrade.un.org/Data/\"}>These records</a> indicate the range should fall somewhere between [${range[0]} - ${range[1]}].</div>\n  }\n\n  const purchasedItem = get(lc, 'purchasedItem');\n  const unitOfMeasure = get(lc, 'unitOfMeasure');\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"believablePrice\"}\n      setLc={setLc}\n      title={\"Believable Price of Goods\"}\n      status={titleCase(status)}\n      initialRejectionReason={initialRejectionReason}\n      initialRequestComment={initialRequestComment}\n      error={error}\n      errorMessage={error && \"1 potential error\"}\n    >\n      <div style={{fontSize: 19, paddingLeft: 20, width: \"70%\"}}>\n        {purchasedItem}: ({unitsPurchased} {unitOfMeasure}):\n      </div>\n      <div style={{paddingLeft: 40}}>\n        {cmp}\n      </div>\n    </ComplianceCheck>\n  )\n};\n\nconst ComplianceChecks = ({lc, setLc}) => {\n  return (\n    <Panel title=\"Compliance Checks\">\n      <DocumentaryEntryFlex>\n        <SmallHeader style={{margin: \"0\"}}>Type</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Action</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Status</SmallHeader>\n      </DocumentaryEntryFlex>\n      <CompanyOFACCheck lc={lc} setLc={setLc}/>\n      <CountrySanctionCheck lc={lc} setLc={setLc}/>\n      <ImportLicenseCheck lc={lc} setLc={setLc}/>\n      <BoycottLanguageCheck lc={lc} setLc={setLc}/>\n      <BelievablePriceOfGoods lc={lc} setLc={setLc}/>\n      <DueAuthorization lc={lc} setLc={setLc}/>\n    </Panel>\n  );\n};\n\nexport default ComplianceChecks;\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport styled from \"styled-components\";\nimport {Field, Form, Formik, useField, useFormikContext} from \"formik\";\nimport _, {get} from \"lodash\";\nimport moment from \"moment\";\n\nimport {makeAPIRequest} from '../../utils/api';\nimport {useAuthentication, UserContext} from \"../../utils/auth\";\nimport LCView from \"../../components/lc/LCView\";\nimport Button from \"../../components/ui/Button\";\nimport DocumentaryRequirements from './DocumentaryRequirements';\nimport Panel from './Panel';\nimport config from '../../config';\nimport {Modal} from \"../../components/ui/Modal\";\nimport ComplianceChecks from \"./ComplianceChecks\";\n\n// TODO break this file up into multiple files\n\nconst disabledBackgroundColor = `#c3c1c3`;\nconst disabledColor = `black`;\n\nconst TwoColumnHolder = styled.div`\n  display: flex;\n`;\n\nconst LeftColumn = styled.div`\n  flex-grow: 1;\n  margin-right: 20px;\n  min-width: 250px;\n  max-width: 250px;\n`;\n\nconst RightColumn = styled.div`\n  flex-grow: 6;\n`;\n\nconst OrderStatusWrapper = styled.div`\n  font-weight: 300;\n`;\n\nconst PartyDisplayMessage = styled.div`\n  font-weight: 300;\n  margin: 15px 0;\n  text-align: center;\n`;\n\nconst APPROVALS_TO_STATE = {\n  issuerRejected: {\n    message: \"LC Application has been rejected by the issuer.\",\n    canEdit: [],\n    canApprove: []\n  },\n  client: {\n    message: \"LC Application has been submitted and is waiting on issuer review.\",\n    canEdit: ['issuer'],\n    canApprove: ['issuer'],\n  },\n  clientIssuer: {\n    message: \"LC has been sent to beneficiary and is awaiting approval or proposed changes.\",\n    canEdit: ['beneficiary'],\n    canApprove: ['beneficiary'],\n  },\n  // clientBene is not possible\n  bene: {\n    message: \"LC has been resubmitted to issuer with beneficiary redlining and is awaiting their approval.\",\n    canEdit: ['issuer'],\n    canApprove: ['issuer'],\n  },\n  issuer: {\n    message: \"LC has been resent to client with issuer edits and is awaiting client approval.\",\n    canEdit: ['client'],\n    canApprove: ['client'],\n  },\n  issuerBene: {\n    message: \"LC has been resent to client with issuer and beneficiary edits and is awaiting client approval.\",\n    canEdit: ['client'],\n    canApprove: ['client'],\n  },\n};\n\nconst OrderStatusMessage = ({stateName}) => {\n  const message = APPROVALS_TO_STATE[stateName].message;\n  return <div>{message}</div>\n};\n\nconst OrderStatus = ({lc, setLc, userType, stateName, setModal, totalCredit}) => {\n  const approvals = [\n    {name: 'Issuer:', value: get(lc, 'issuerApproved')},\n    {name: 'Client:', value: get(lc, 'clientApproved')},\n    {name: 'Beneficiary:', value: get(lc, 'beneficiaryApproved')}\n  ];\n  const handleClickApprove = async () => {\n    const approvedCreditAmt = lc.client.approvedCredit.filter(\n      model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt;\n    if (userType === \"issuer\" && (!approvedCreditAmt || parseFloat(totalCredit) +\n      parseFloat(lc.creditAmt) - parseFloat(lc.cashSecure) > parseFloat(approvedCreditAmt))) {\n      setModal(\"creditOverflowApprove\");\n    } else {\n      makeAPIRequest(`/lc/${get(lc, 'id')}/evaluate/`, 'POST', {approve: true})\n      .then(json => setLc({...lc, [`${userType}Approved`]: true}));\n    } // TODO fix\n  };\n  const handleClickPayout = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/payout/`, 'POST', {approve: true})\n    .then(json => setLc({...lc, paidOut: true})); // TODO fix\n  };\n  const handleClickRequest = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/request/`, 'POST', {approve: true})\n    .then(json => setLc({...lc, requested: true})); // TODO fix\n  };\n  const handleClickDraw = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/draw/`, 'POST', {approve: true})\n    .then(json => setLc({...lc, drawn: true})); // TODO fix\n  };\n  const allApproved = approvals.every(a => a.value);\n  const {paidOut, drawn, requested} = lc;\n  return (\n    <Panel title=\"Order Status\" highlight>\n      <OrderStatusWrapper>\n        {!allApproved && APPROVALS_TO_STATE[stateName].canApprove.includes(userType) &&\n        <center><Button onClick={handleClickApprove}>Approve</Button></center>}\n        {allApproved && !paidOut && userType === \"issuer\" &&\n        <center><Button onClick={handleClickPayout}\n                        style={{marginBottom: '15px'}}>Pay Out</Button></center>}\n        {allApproved && !requested && userType === \"beneficiary\" &&\n        <center><Button onClick={handleClickRequest} style={{marginBottom: '15px'}}>Request</Button></center>}\n        {allApproved && !drawn && userType === \"beneficiary\" &&\n        <center><Button onClick={handleClickDraw} style={{marginBottom: '15px'}}>Draw</Button></center>}\n        {allApproved && <PartyDisplayMessage style={{marginTop: '0'}}>This LC is live.</PartyDisplayMessage>}\n        {allApproved && paidOut ? <PartyDisplayMessage style={{marginTop: '0'}}>This LC has been paid\n            out.</PartyDisplayMessage>\n          : drawn ? <PartyDisplayMessage style={{marginTop: '0'}}>Payment for this LC has been\n              drawn.</PartyDisplayMessage>\n            : requested ? <PartyDisplayMessage style={{marginTop: '0'}}>Payment for this LC has been\n              requested.</PartyDisplayMessage> : null}\n        <PartyDisplayMessage style={{fontWeight: '500'}}>You are the {userType}.</PartyDisplayMessage>\n        {!allApproved && (\n          <OrderStatusMessage stateName={stateName}/>\n        )}\n      </OrderStatusWrapper>\n    </Panel>\n  );\n};\n\nconst OrderNotes = ({lc}) => {\n  return (\n    <Panel title=\"Revision Notes\">\n      <OrderStatusWrapper>\n        {lc.latestVersionNotes}\n      </OrderStatusWrapper>\n    </Panel>\n  )\n};\n\nconst ClientInformationWrapper = styled.div`\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 1.5;\n`;\n\nconst HistoryOrder = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ClientInformation = ({lc}) => {\n  const employee = get(lc, 'taskedClientEmployees[0]');\n  const client = get(lc, 'client');\n  const [clientOrders, setClientOrders] = useState(null);\n  useEffect(() => {\n    makeAPIRequest(`/lc/by_client/${client.id}/`)\n    .then(json => setClientOrders(json));\n  }, [client.id]);\n\n  return (\n    <Panel title=\"Client Information\">\n      <ClientInformationWrapper>\n        POC: {employee.name}\n        <br/>\n        Email: <a href={`mailto:${employee.email}`}>{employee.email}</a>\n        <h1 style={{fontWeight: \"500\", margin: \"15px 0\"}}>Order History</h1>\n        {clientOrders && clientOrders.map(order => (\n          <HistoryOrder key={order.id}>\n            <a href={`/lc/${order.id}`}>{order.purchasedItem || `LC #${order.id}`}</a>\n            {lc.paidOut ? <span>{order.dueDate}</span> : <span>{order.applicationDate}</span>}\n          </HistoryOrder>\n        ))}\n      </ClientInformationWrapper>\n    </Panel>\n  );\n};\n\nconst BigStatsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  > {\n    flex-grow: 1;\n  }\n\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst BigNumberTitle = styled.div`\n  font-size: 14px;\n  margin: 10px 0 15px;\n`;\n\nconst BigNumber = styled.div`\n  font-weight: 600;\n  font-size: 30px;\n  margin-bottom: 25px;\n`;\n\nconst AnalysisWrapper = styled.div`\n  display: flex;\n  align-items: baseline;\n  margin: 10px;\n`;\n\nconst SmallHeader = styled.div`\n  font-size: 12px;\n  min-width: 150px;\n  margin-right: 50px;\n`;\n\nconst AnalysisBody = styled.div`\n  font-weight: ${props => props.error === undefined ? 300 : 400};\n  ${props => props.error && \"color: red;\"}\n  ${props => props.error === false && \"color: #00a031;\"}\n`;\n\nconst AnalysisDetail = styled.span`\n  font-style: italic;\n  font-weight: 300;\n  font-size: 14px;\n  color: red;\n  text-decoration: underline;\n  opacity: .6;\n  cursor: pointer;\n  &:hover {\n    opacity: 1;\n    ${props => props.pop && \"font-size: 15px;\"}\n  }\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 15px;\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Financials = ({lc, setModal, totalCredit}) => {\n  let creditOverflow = false;\n  const approvedCreditAmt = lc.client.approvedCredit.filter(\n    model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt;\n  const lcCredit = lc.issuerApproved ? 0 : parseFloat(lc.creditAmt) - parseFloat(lc.cashSecure);\n  if (!approvedCreditAmt || parseFloat(totalCredit) +\n    lcCredit > parseFloat(approvedCreditAmt)) {\n    creditOverflow = true;\n  }\n  const client = get(lc, 'client');\n  return (\n    <Panel title=\"Financials\">\n      <BigStatsWrapper>\n        <div style={{paddingRight: 30, width: \"max-content\"}}>\n          <BigNumberTitle>Annual Cashflow</BigNumberTitle>\n          <BigNumber>\n            {client.annualCashflow || \"N/A\"}\n            <span style={{fontWeight: \"200\", fontSize: \"16px\"}}> yearly</span>\n          </BigNumber>\n        </div>\n        <div style={{paddingRight: 30}}>\n          <BigNumberTitle>Savings Available</BigNumberTitle>\n          <BigNumber>{client.balanceAvailable || \"N/A\"}</BigNumber>\n        </div>\n        <div>\n          <BigNumberTitle>Approved Credit</BigNumberTitle>\n          <BigNumber>{client.approvedCredit.filter(model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt\n          || \"N/A\"}</BigNumber>\n        </div>\n      </BigStatsWrapper>\n      <div>\n        <AnalysisWrapper>\n          <SmallHeader>Credit Analysis</SmallHeader>\n          <AnalysisBody error={creditOverflow}>\n            {creditOverflow ? \"There is a credit overflow.\"\n              : \"Approving this LC will not exceed the current approved credit limit.\"}\n            {creditOverflow && <span>&nbsp;</span>}\n            {creditOverflow && <AnalysisDetail onClick={() => setModal(\"creditOverflow\")}>\n              Click here for details\n            </AnalysisDetail>}\n          </AnalysisBody>\n        </AnalysisWrapper>\n        <AnalysisWrapper>\n          <SmallHeader>Tolerance Analysis</SmallHeader>\n          <AnalysisBody>\n            Bountium will provide tools to help understand tolerance values within a letter of credit.\n            <span style={{fontStyle: \"italic\", fontWeight: \"300\", fontSize: \"14px\"}}>\n              &nbsp;Coming soon\n            </span>\n          </AnalysisBody>\n        </AnalysisWrapper>\n      </div>\n    </Panel>\n  );\n};\n\nconst ODColumn = styled.div`\n  flex-basis: 50%;\n`;\n\nconst ODValue = styled.div`\n  font-weight: 500;\n  font-size: 24px;\n  margin-bottom: 20px;\n  margin-top: 5px;\n`;\n\nconst StyledInput = styled(Field)`\n\tborder: none;\n\tbackground-color: #eee;\n\tpadding: 10px;\n\tborder-radius: 10px;\n\tfont-size: 18px;\n`;\n\nconst StyledPopupInput = styled.input`\n  padding: 10px 0 5px;\n  flex: 1;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  border: 1px solid ${config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  margin: ${props => props.nested ? `0px` : `10px 0;`}\n  max-width: 45%;\n  display: flex;\n  align-items: center;\n`;\n\nconst YesNoInput = ({name}) => {\n  const [, meta, helpers] = useField(name);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n\n  return (\n    <ButtonWrapper>\n      <StyledButton onClick={handleClick(true)} selected={value === true}>Yes</StyledButton>\n      <StyledButton onClick={handleClick(false)} selected={value === false}>No</StyledButton>\n    </ButtonWrapper>\n  )\n};\n\nconst TYPE_TO_COMPONENT = {\n  text: (props) => (<StyledInput type=\"text\" {...props}/>),\n  number: (props) => (<StyledInput type=\"number\" {...props}/>),\n  date: (props) => (<StyledInput type=\"date\" {...props}/>),\n  boolean: (props) => (<YesNoInput type=\"text\" {...props}/>),\n};\n\nconst SubmitWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid #cdcdcd;\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n  align-items: center;\n`;\n\nconst SubmitSection = () => {\n  return (\n    <SubmitWrapper>\n      <ODColumn>\n        <Button type=\"submit\">Submit Revisions</Button>\n      </ODColumn>\n      <ODColumn>\n        <SmallHeader style={{marginBottom: '5px'}}>Revision Comments</SmallHeader>\n        <Field name=\"latestVersionNotes\" type=\"text\"/>\n      </ODColumn>\n    </SubmitWrapper>\n  )\n};\n\nconst OrderDetail = ({title, value, units, type, name, editing, error, errorClicked}) => {\n  const Input = TYPE_TO_COMPONENT[type];\n  return (\n    <>\n      <SmallHeader>{title}</SmallHeader>\n      <ODValue>\n        {editing && type ? <Input name={name} id={name}/> : (value || \"N/A\")}\n        {units && <span style={{fontWeight: \"200\", fontSize: \"16px\"}}> {units}</span>}\n        {error && <span>&nbsp;</span>}\n        {error && <AnalysisDetail pop onClick={errorClicked} style={{opacity: 1}}>{error}</AnalysisDetail>}\n      </ODValue>\n    </>\n  )\n};\n\nconst OrderDetails = ({lc, refreshLc, stateName, userType, live, modal, setModal, totalCredit}) => {\n  const [showExtra, setShowExtra] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const canEdit = !live && APPROVALS_TO_STATE[stateName].canEdit.includes(userType);\n  const details = [\n    {title: \"Counterparty\", value: get(lc, 'beneficiary.name')}, // must edit bene separately\n    {title: \"Counterparty's Country\", value: get(lc, 'beneficiary.country')}, // must edit bene separately\n    {title: \"Latest Permissible Charge Date\", value: lc.lateChargeDate, name: 'lateChargeDate', type: 'date'},\n    {title: \"Draft Presentation Date\", value: lc.draftPresentationDate, name: 'draftPresentationDate', type: 'date'},\n    {title: \"Unit of Measure\", value: lc.unitOfMeasure, type: 'text', name: 'unitOfMeasure'},\n    {title: \"Units Purchased\", value: lc.unitsPurchased, name: 'unitsPurchased', type: 'number'},\n    {\n      title: \"Price of Purchase\",\n      value: lc.creditAmt,\n      units: lc.currencyDenomination,\n      name: 'creditAmt',\n      type: 'number'\n    },\n    {title: \"Credit Expiration Date\", value: lc.expirationDate, name: 'expirationDate', type: 'date'},\n    {title: \"Cash Secure Amount\", value: lc.cashSecure, type: 'number', name: 'cashSecure'},\n    {title: \"Credit Amount (Verbal)\", value: lc.creditAmtVerbal, type: 'text', name: 'creditAmtVerbal'}\n  ];\n  const extraDetails = [\n    {title: \"Credit Delivery Means\", value: lc.creditDeliveryMeans, name: 'creditDeliveryMeans', type: 'text'},\n    // {title: \"Party Paying Other Banks' Fees\", value: lc.payingOtherBanksFees, href: }, TODO make this work\n    {\n      title: \"Draft's Invoice Value\",\n      value: lc.draftsInvoiceValue,\n      name: 'draftsInvoiceValue',\n      units: '%',\n      type: 'number'\n    },\n    {title: \"Credit Availability\", value: lc.creditAvailability, name: 'creditAvailability', type: 'text'},\n    {\n      title: \"Partial Shipment Allowed\",\n      value: lc.partialShipmentAllowed === true ? \"Yes\" : \"No\",\n      name: 'partialShipmentAllowed',\n      type: 'boolean'\n    },\n    {\n      title: \"Transshipment Allowed\",\n      value: lc.transshipmentAllowed === true ? \"Yes\" : \"No\",\n      name: 'transshipmentAllowed',\n      type: 'boolean'\n    },\n    {title: \"Merch Charge Location\", value: lc.merchChargeLocation, type: 'text', name: 'merchChargeLocation'},\n    {\n      title: \"Charge Transportation Location\",\n      value: lc.chargeTransportationLocation,\n      type: 'text',\n      name: 'chargeTransportationLocation'\n    },\n    {\n      title: \"Named Place of Destination\",\n      value: lc.namedPlaceOfDestination,\n      type: 'text',\n      name: 'namedPlaceOfDestination'\n    },\n    // {title: \"Doc Reception Notifees\", value: lc.docReceptionNotifees},\n    {\n      title: \"Client Arranging Insurance\",\n      value: lc.arrangingOwnInsurance === true ? \"Yes\" : \"No\",\n      name: 'arrangingOwnInsurance',\n      type: 'boolean'\n    },\n    {title: \"Other Instructions\", value: lc.otherInstructions, type: 'text', name: 'otherInstructions'},\n    {title: \"Merch Description\", value: lc.merchDescription, type: 'text', name: 'merchDescription'},\n    {\n      title: \"Transferable\", value: (lc.transferableToClient\n        ? `Yes, to ${lc.client.name}`\n        : (lc.transferableToBeneficiary\n          ? `Yes${lc.beneficiary && `, to ${lc.beneficiary.name}`}`\n          : \"No\")) // not editable for now\n    }\n  ];\n\n  // setup initial values\n  const initialValues = {latestVersionNotes: ''};\n  const allDetails = ([...details, ...extraDetails]);\n  allDetails.forEach(d => {\n    if (!d.name) {\n      return;\n    }\n    switch (d.type) {\n      case 'boolean':\n        if (d.value.toLowerCase() === 'yes') {\n          initialValues[d.name] = true;\n        } else if (d.value.toLowerCase() === 'no') {\n          initialValues[d.name] = false;\n        }\n        break;\n      default:\n        d.type && (initialValues[d.name] = d.value);\n    }\n  });\n\n  return (\n    <Panel title=\"Order Details\" expand={showExtra} setExpand={setShowExtra} editing={editing} setEditing={setEditing}\n           canEdit={canEdit}>\n      <Formik\n        initialValues={initialValues}\n        onSubmit={(values, {setSubmitting}) => {\n          setSubmitting(true);\n          const {latestVersionNotes, ...lcValues} = values;\n          const newLc = {};\n          Object.entries(lcValues).forEach(pair => {\n            const [k, v] = pair;\n            if (v !== initialValues[k]) {\n              newLc[k] = v;\n            }\n          });\n          makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n            lc: newLc, latestVersionNotes,\n          }).then(() => {\n            setSubmitting(false);\n            refreshLc();\n            setEditing(false);\n          })\n        }}\n      >\n        {() => (<div>\n            <CreditOverflowPopup\n              setModal={setModal} modal={modal} setEditing={setEditing}\n              lc={lc} refreshLc={refreshLc} totalCredit={totalCredit}/>\n            <Form>\n              {editing && <SubmitSection/>}\n              <div style={{display: 'flex'}}>\n                <ODColumn>\n                  {details.slice(0, details.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                  {showExtra && extraDetails.slice(0, extraDetails.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                </ODColumn>\n                <ODColumn>\n                  {details.slice(details.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                  {showExtra && extraDetails.slice(extraDetails.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                </ODColumn>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n    </Panel>\n  );\n};\n\nconst scrollToAndHighlight = (questionKey) => {\n  const selector = `[id=\"${questionKey}\"]`;\n  let parentElement = document.querySelector(selector);\n  const originalBackgroundColor = window.getComputedStyle(parentElement).backgroundColor;\n  const changeQuestionBackgroundTemp = () => {\n    parentElement.animate({backgroundColor: [\"lightblue\", originalBackgroundColor]}, 1000);\n  };\n  let scrollTimeout;\n  const scrollHandler = () => {\n    clearTimeout(scrollTimeout);\n    scrollTimeout = setTimeout(() => {\n      window.removeEventListener(\"scroll\", scrollHandler);\n      changeQuestionBackgroundTemp();\n      parentElement.focus();\n    }, 20);\n  };\n  window.addEventListener(\"scroll\", scrollHandler);\n  parentElement.scrollIntoView({behavior: \"smooth\", block: \"center\"});\n};\n\nconst usePrevious = value => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nconst CreditOverflowPopup = ({lc, modal, setModal, refreshLc, setEditing, totalCredit}) => {\n  const [selectedButtonIndices, setSelectedButtonIndex] = useState({0: true, 1: false});\n  const prevSelectedButtonIndices = usePrevious(selectedButtonIndices);\n  const approvedCredit = lc.client.approvedCredit.filter(model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt\n    || 0;\n  const minimumIncrease = (parseFloat(totalCredit) + parseFloat(lc.creditAmt) - parseFloat(lc.cashSecure) - parseFloat(\n    approvedCredit)).toString();\n  const [increaseApprovedCreditValue, setIncreaseApprovedCreditValue] = useState(minimumIncrease);\n  const [requestMoreCashValue, setRequestMoreCashValue] = useState(minimumIncrease);\n  const [error, setError] = useState(\"\");\n  const [submissionAttempts, setSubmissionAttempts] = useState(0);\n  const increaseApprovedCreditRef = useRef(null);\n  const requestMoreCashRef = useRef(null);\n  const {setFieldValue, values} = useFormikContext();\n  const overflow = -(parseFloat(approvedCredit) - parseFloat(totalCredit) -\n    parseFloat(lc.creditAmt) + parseFloat(lc.cashSecure));\n\n  useEffect(() => {\n    handleError();\n  }, [increaseApprovedCreditValue, requestMoreCashValue]);\n\n  useEffect(() => {\n    if (!_.isEqual(selectedButtonIndices, prevSelectedButtonIndices)) {\n      handleError();\n      if (selectedButtonIndices[0] && selectedButtonIndices[1]) {\n        if (prevSelectedButtonIndices[0]) {\n          requestMoreCashRef.current && requestMoreCashRef.current.focus();\n        } else if (prevSelectedButtonIndices[1]) {\n          increaseApprovedCreditRef.current && increaseApprovedCreditRef.current.focus();\n        }\n      } else if (selectedButtonIndices[0]) {\n        increaseApprovedCreditRef.current && increaseApprovedCreditRef.current.focus();\n      } else if (selectedButtonIndices[1]) {\n        requestMoreCashRef.current && requestMoreCashRef.current.focus();\n      }\n    }\n  });\n\n  const handleError = () => {\n    if (selectedButtonIndices[0] && selectedButtonIndices[1] && parseFloat(increaseApprovedCreditValue) + parseFloat(\n      requestMoreCashValue) < parseFloat(minimumIncrease)) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    } else if (selectedButtonIndices[0] && !selectedButtonIndices[1] && parseFloat(increaseApprovedCreditValue)\n      < parseFloat(minimumIncrease)) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    } else if (selectedButtonIndices[1] && !selectedButtonIndices[0] && parseFloat(requestMoreCashValue) < parseFloat(\n      minimumIncrease)) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    } else if (!selectedButtonIndices[0] && !selectedButtonIndices[1]) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    }\n    setError(\"\");\n    return false;\n  };\n\n  const onSelect = async () => {\n    setSubmissionAttempts(submissionAttempts + 1);\n    const error = handleError();\n    if (!error && selectedButtonIndices[0]) {\n      await makeAPIRequest(`/bank/${lc.issuer.id}/business/${lc.client.id}/approved_credit/`, \"PUT\",\n        {approvedCreditAmt: parseFloat(increaseApprovedCreditValue) + parseFloat(approvedCredit)});\n      if (modal === \"creditOverflowApprove\" && !selectedButtonIndices[1]) {\n        await makeAPIRequest(`/lc/${get(lc, 'id')}/evaluate/`, 'POST', {approve: true});\n      }\n      refreshLc();\n      setModal(false);\n    }\n    if (!error && selectedButtonIndices[1]) {\n      await setEditing(true);\n      await setModal(false);\n      setFieldValue(\"cashSecure\", parseFloat(requestMoreCashValue) + parseFloat(lc.cashSecure));\n      setFieldValue(\"latestVersionNotes\",\n        `Please increase cash secured amount.${values.latestVersionNotes && \" \" + values.latestVersionNotes}`);\n      scrollToAndHighlight(\"cashSecure\");\n    }\n  };\n\n  return (\n    <Modal containerStyle={{width: \"55%\"}} show={modal === \"creditOverflow\" || modal === \"creditOverflowApprove\"}\n           title={\"Credit Overflow\"} error={submissionAttempts > 0 && error} onCancel={() => setModal(false)}\n           selectDisabled={submissionAttempts > 0 && error} onSelect={onSelect}\n           selectButton={modal === \"creditOverflowApprove\" && selectedButtonIndices[0] && !selectedButtonIndices[1]\n           ? \"Select and Approve\" : \"Select\"}>\n      <div>\n        Approving this LC will exceed the current approved credit ({approvedCredit}) for {get(lc,\n        \"client.name\")} by {overflow}.\n        <Subtitle>Check all that apply.</Subtitle>\n        <div style={{flexDirection: \"row\", display: \"flex\", paddingTop: 20, paddingBottom: 20}}>\n          <StyledButton\n            nested style={{width: 230, justifyContent: \"center\"}}\n            onClick={() => setSelectedButtonIndex({...selectedButtonIndices, 0: !selectedButtonIndices[0]})}\n            selected={selectedButtonIndices[0]}>\n            Increase Approved Credit By</StyledButton>\n          <StyledPopupInput\n            ref={increaseApprovedCreditRef} value={increaseApprovedCreditValue} type={\"number\"}\n            onChange={({target}) => setIncreaseApprovedCreditValue(target.value)}\n            style={{marginLeft: 10, visibility: selectedButtonIndices[0] ? \"visible\" : \"hidden\"}}/>\n        </div>\n        <div style={{flexDirection: \"row\", display: \"flex\", paddingBottom: 20}}>\n          <StyledButton\n            nested style={{width: 230, justifyContent: \"center\"}}\n            onClick={() => setSelectedButtonIndex({...selectedButtonIndices, 1: !selectedButtonIndices[1]})}\n            selected={selectedButtonIndices[1]}>\n            Request More Secured Cash</StyledButton>\n          <StyledPopupInput\n            ref={requestMoreCashRef} value={requestMoreCashValue} type={\"number\"}\n            onChange={({target}) => setRequestMoreCashValue(target.value)}\n            style={{marginLeft: 10, visibility: selectedButtonIndices[1] ? \"visible\" : \"hidden\"}}/>\n        </div>\n      </div>\n    </Modal>\n  )\n};\n\nconst StyledFormInput = styled.textarea`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-height: 100px;\n  font-size: 16px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst Comments = ({lc, setLc, comments, userType}) => {\n  const [modal, setModal] = useState(false);\n  const [response, setResponse] = useState(\"\");\n\n  const onRespond = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {},\n      comment: {action: \"responded to the issuer\", message: response}\n    }).then(data => setLc(data.updatedLc));\n    setModal(false);\n  };\n\n  // TODO this should be a backend thing\n  comments = comments.filter(comment => comment[userType + \"Viewable\"]);\n  return (\n    <Panel title={\"Comments\"}>\n      <Modal selectButton={\"Respond\"} show={modal} onCancel={() => setModal(false)}\n             title={\"Respond to Comment\"} onSelect={onRespond}>\n        <div>\n          On {moment(modal.date).format(\"dddd, MMMM Do YYYY [at] h:mm a\")}, {userType === modal.authorType ? \"you\"\n          : `the ${modal.authorType}`} {modal.action}:\n          <div style={{paddingTop: 5, fontStyle: \"italic\", color: \"#808080\"}}>\n            \"{modal.message}\"\n          </div>\n        </div>\n        <div style={{paddingTop: 40}}>Response:</div>\n        <StyledFormInput value={response} onChange={({target}) => setResponse(target.value)}/>\n      </Modal>\n      {comments?.length ?\n        comments.map((comment, commentIndex) =>\n          <div style={commentIndex > 0 ? {paddingTop: 40} : null} key={comment.id}>\n            On {moment(comment.date).format(\"dddd, MMMM Do YYYY [at] h:mm a\")}, {userType === comment.authorType ? \"you\"\n            : `the ${comment.authorType}`} {comment.action}:\n            <div style={{paddingTop: 5, fontStyle: \"italic\", color: \"#808080\"}}>\n              \"{comment.message}\"\n            </div>\n            {comment.respondable === userType &&\n            <div style={{textAlign: \"end\"}}>\n              <Button onClick={() => setModal(comment)}>Respond</Button>\n            </div>}\n          </div>\n        )\n        : \"No comments to show.\"}\n    </Panel>\n  )\n};\n\nconst LCViewPage = ({match}) => {\n  useAuthentication(`/bank/lcs/${match.params.lcid}`);\n  const [user] = useContext(UserContext);\n  const [modal, setModal] = useState(\"\");\n  const [lc, setLc] = useState(null);\n  const [totalCredit, setTotalCredit] = useState();\n  let userType = 'unknown';\n  if (get(user, 'bank')) {\n    userType = 'issuer';\n  } else if (get(user, 'business')) {\n    if (get(user, 'business.id') === get(lc, 'client.id')) {\n      userType = 'client';\n    } else if (get(user, 'business.id') === get(lc, 'beneficiary.id')) {\n      userType = 'beneficiary';\n    }\n  }\n  const live = get(lc, 'beneficiaryApproved') && get(lc, 'clientApproved') && get(lc, 'issuerApproved');\n  // get state of order\n  const a = {\n    issuer: get(lc, 'issuerApproved'),\n    client: get(lc, 'clientApproved'),\n    beneficiary: get(lc, 'beneficiaryApproved'),\n    issuerRejected: get(lc, 'ofacBankApproval') === 'rejected' || get(lc, 'sanctionBankApproval') === 'rejected'\n  };\n  let stateName = 'all';\n  if (a.issuerRejected) {\n    stateName = 'issuerRejected';\n  } else if (a.issuer === true) {\n    if (a.client === true) {\n      stateName = 'clientIssuer';\n    } else if (a.beneficiary === true) {\n      stateName = 'issuerBene';\n    } else {\n      stateName = 'issuer';\n    }\n  } else if (a.client === true) {\n    if (!a.beneficiary && !a.issuer) {\n      stateName = 'client';\n    }\n  } else if (a.beneficiary === true) {\n    if (!a.client && !a.issuer) {\n      stateName = 'bene';\n    }\n  }\n\n  // TODO change API to just return the new LC after we update it\n  const refreshLc = () => {\n    makeAPIRequest(`/lc/${match.params.lcid}/`)\n    .then(json => userType === \"issuer\" ? makeAPIRequest(`/lc/total_credit/${json.client.id}/`).then(totalCredit => {\n      setTotalCredit(totalCredit);\n      setLc(json)\n    }) : setLc(json));\n  };\n\n  useEffect(() => {\n    if (user) {\n      refreshLc();\n    }\n  }, [match.params.lcid, user?.id]);\n\n  return (\n    <LCView lc={lc}>\n      <TwoColumnHolder>\n        <LeftColumn>\n          <OrderStatus lc={lc} totalCredit={totalCredit} userType={userType} setLc={setLc} live={live}\n                       stateName={stateName} setModal={setModal}/>\n          {get(lc, 'latestVersionNotes') && <OrderNotes lc={lc}/>}\n          <ClientInformation lc={lc}/>\n          <Comments lc={lc} setLc={setLc} comments={lc?.comments} userType={userType}/>\n        </LeftColumn>\n        <RightColumn>\n          {userType === 'issuer' && <Financials lc={lc} totalCredit={totalCredit} setModal={setModal}/>}\n          <OrderDetails lc={lc} setLc={setLc} refreshLc={refreshLc} stateName={stateName}\n                        userType={userType} live={live} modal={modal} setModal={setModal} totalCredit={totalCredit}/>\n          {userType === 'issuer' && <ComplianceChecks lc={lc} userType={userType} live={live} setLc={setLc}/>}\n          <DocumentaryRequirements lc={lc} userType={userType} live={live} refreshLc={refreshLc}/>\n        </RightColumn>\n      </TwoColumnHolder>\n    </LCView>\n  )\n\n};\n\nexport default LCViewPage;\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { UserContext } from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n  name: string().required(requiredMsg),\n  title: string().required(requiredMsg),\n  email: string().email('Please enter a valid email address.').required(requiredMsg),\n  password: string().required(requiredMsg).matches(\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string().required(requiredMsg)\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BankEmployeeSignUpPage = ({ history, match }) => {\n  const setUser = useContext(UserContext)[1];\n  return (\n    <BasicLayout\n      title=\"Welcome! \"\n      subtitle=\"Create your account for lightning-fast LC processing.\"\n    >\n    <Formik\n      initialValues={{\n        name: '', title: '', email: '', password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(`/bank/${match.params.bankid}/register/`, \"POST\", values)\n          .then((json) => {\n            setUser({ ...json.userEmployee, bank: json.usersEmployer });\n            history.push(\"/bank/invite\");\n          })\n          .then(() => setSubmitting(false));\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Email\"\n          name=\"email\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n<Button showArrow disabled={isSubmitting}>\n  Sign Up\n</Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n};\n\nexport default BankEmployeeSignUpPage;","import React, {useEffect, useRef, useState} from \"react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faChevronDown, faCheck} from \"@fortawesome/free-solid-svg-icons\";\nimport styled from \"styled-components\";\nimport {Field} from \"formik\";\n\nconst disabledBackgroundColor = `#c3c1c3`;\nconst disabledColor = `black`;\n\nconst Option = styled.div`\n  padding: 10px;\n  overflow-wrap: break-word;\n  color: white;\n  user-select: none;\n  display: flex;\n  ${props => props.highlighted && `background-color: #1772fb;`}\n  &:hover {\n    background-color: #1772fb;\n  }\n`;\n\nconst StyledFormInput = styled(Field)`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nexport const Dropdown = ({ items, onChange, selectedIndex }) => {\n  const [menu, setMenu] = useState(false);\n\n  return (\n      <OutsideAlerter style={{position: \"relative\", flex: 1, flexDirection: \"column\"}} onOutsideClick={() => setMenu(false)}>\n        <div>\n          <div style={{display: \"flex\"}} onClick={() => setMenu(!menu)}>\n            <div style={{borderRight: \"1px solid #cdcdcd\", padding: \"10px\", flex: 1, wordBreak: \"break-word\"}}>{items[selectedIndex]}</div>\n            <div style={{width: \"20px\", alignSelf: \"center\", paddingLeft: \"5px\"}}>\n              <FontAwesomeIcon\n                  style = {{cursor: \"pointer\"}}\n                  icon={faChevronDown}\n                  size=\"lg\"\n                  color=\"#000\"\n              />\n            </div>\n          </div>\n          {menu && <div style={{position: \"absolute\", width: \"100%\", backgroundColor: \"black\", maxHeight: \"300px\", overflowY: \"scroll\", zIndex: 1}}>\n            {items.map(item => <Option key={item} onClick={() => {\n              setMenu(false);\n              onChange && onChange(item);\n            }}><FontAwesomeIcon icon={faCheck} color={\"#fff\"} style={{width: \"20px\", visibility: items[selectedIndex] === item ? \"visible\" : \"hidden\"}}/>\n            <div style={{flex: 1}}>{item}</div></Option>)}\n          </div>}\n        </div>\n      </OutsideAlerter>\n  )\n};\n\nexport const SearchableSelect = ({ items, onSelect, questionKey, handleChange }) => {\n  const [menu, setMenu] = useState(false);\n  const [highlightedItemIndex, setHighlightedItemIndex] = useState(-1);\n\n  useEffect(() => {\n    setHighlightedItemIndex(-1);\n  }, [items]);\n\n  const onKeyDown = event => {\n    if (event.keyCode === 40 && highlightedItemIndex + 1 < items.length) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex + 1);\n    } else if (event.keyCode === 38 && highlightedItemIndex - 1 >= 0) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex - 1);\n    } else if (event.keyCode === 13 && highlightedItemIndex > -1) {\n      event.preventDefault();\n      setMenu(false);\n      onSelect(items[highlightedItemIndex]);\n    }\n  };\n\n  const onChange = event => {\n    setMenu(true);\n    handleChange(event);\n  };\n\n  const onClick = item => {\n    setMenu(false);\n    onSelect && onSelect(item);\n  };\n\n  return (\n      <OutsideAlerter style={{position: \"relative\", flex: 1, flexDirection: \"column\"}} onOutsideClick={() => setMenu(false)}>\n        <div style={{display: \"flex\"}} onClick={() => setMenu(!menu)}>\n          <StyledFormInput autoComplete={\"off\"} onChange={onChange} type={\"text\"} name={questionKey} onKeyDown={onKeyDown}/>\n        </div>\n        {menu && <div style={{\n          position: \"absolute\",\n          width: \"100%\",\n          backgroundColor: \"black\",\n          maxHeight: \"300px\",\n          overflowY: \"scroll\",\n          zIndex: 1}}>\n          {items !== null ? items.map((item, itemIndex) =>\n              <Option highlighted={highlightedItemIndex === itemIndex}\n                      key={item.id} onMouseDown={() => onClick(item)}>\n                <div style={{flex: 1}}>{item.name}</div></Option>) : <div></div>}\n        </div>}\n      </OutsideAlerter>\n  )\n};\n\nexport const SearchableSelectHTS = ({ items, onSelect, questionKey, handleChange }) => {\n  const [menu, setMenu] = useState(false);\n  const [highlightedItemIndex, setHighlightedItemIndex] = useState(-1);\n\n  useEffect(() => {\n    setHighlightedItemIndex(-1);\n  }, [items]);\n\n  const onKeyDown = event => {\n    if (event.keyCode === 40 && highlightedItemIndex + 1 < items.length) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex + 1);\n    } else if (event.keyCode === 38 && highlightedItemIndex - 1 >= 0) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex - 1);\n    } else if (event.keyCode === 13 && highlightedItemIndex > -1) {\n      event.preventDefault();\n      setMenu(false);\n      onSelect(items[highlightedItemIndex]);\n    }\n  };\n\n  const onChange = event => {\n    setMenu(true);\n    handleChange(event);\n  };\n\n  const onClick = (hts, description) => {\n    setMenu(false);\n    onSelect && onSelect(hts, description);\n  };\n\n  return (\n      <OutsideAlerter style={{position: \"relative\", flex: 1, flexDirection: \"column\"}} onOutsideClick={() => setMenu(false)}>\n        <div style={{display: \"flex\"}} onClick={() => setMenu(!menu)}>\n          <StyledFormInput autoComplete={\"off\"} onChange={onChange} type={\"text\"} name={questionKey} onKeyDown={onKeyDown}/>\n        </div>\n        {menu && <div style={{\n          position: \"absolute\",\n          width: \"100%\",\n          backgroundColor: \"white\",\n          maxHeight: \"300px\",\n          overflowY: \"scroll\",\n          zIndex: 1}}>\n          {items !== null ? items.map((item, itemIndex) =>\n              <Option highlighted={highlightedItemIndex === itemIndex}\n                      key={item.id} onMouseDown={() => onClick(item.htsno, item.description)}>\n                <div style={{flex: 1, color: \"black\"}}>{item.description}</div></Option>) : <div></div>}\n        </div>}\n      </OutsideAlerter>\n  )\n};\n\n/**\n * Hook that alerts clicks outside of the passed ref\n */\nconst useOutsideAlerter = (ref, onOutsideClick) => {\n  useEffect(() => {\n    /**\n     * Alert if clicked on outside of element\n     */\n    function handleClickOutside(event) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        onOutsideClick();\n      }\n    }\n    // Bind the event listener\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [ref]);\n};\n\n/**\n * Component that alerts if you click outside of it\n */\nexport const OutsideAlerter = (props) => {\n  const wrapperRef = useRef(null);\n  useOutsideAlerter(wrapperRef, props.onOutsideClick);\n\n  return <div ref={wrapperRef} style={props.style}>{props.children}</div>;\n};\n","import React, {useEffect, useRef, useState} from \"react\";\n\nexport const ResizableScreenDiv = ({style, children, minTop}) => {\n  const containerRef = useRef(null);\n  const [top, setTop] = useState(0);\n\n  useEffect(() => {\n    setTop(containerRef.current.getBoundingClientRect().top);\n    const scrollHandler = () => setTop(containerRef.current.getBoundingClientRect().top);\n    window.addEventListener(\"scroll\", scrollHandler);\n    return () => window.removeEventListener(\"scroll\", scrollHandler);\n  }, []);\n\n  return (\n      <div ref={containerRef} style={{...style, height: `calc(100vh - ${Math.max(top, minTop === undefined ? 40 : minTop)}px)`}}>\n        {children}\n      </div>\n  )\n};\n","import React, { useEffect, useState } from 'react';\nimport { Prompt, useHistory } from 'react-router-dom';\nimport {Modal} from './Modal';\n\nexport const RouteBlockingModal = ({when}) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [lastLocation, setLastLocation] = useState(null);\n  const [confirmedNavigation, setConfirmedNavigation] = useState(false);\n  const history = useHistory();\n\n  const closeModal = () => {\n    setModalVisible(false);\n  };\n  const handleBlockedNavigation = (nextLocation) => {\n    if (!confirmedNavigation) {\n      setModalVisible(true);\n      setLastLocation(nextLocation);\n      return false;\n    }\n    return true;\n  };\n\n  const handleConfirmNavigationClick = () => {\n    setModalVisible(false);\n    setConfirmedNavigation(true);\n  };\n\n  useEffect(() => {\n    if (confirmedNavigation && lastLocation) {\n      // Navigate to the previous blocked location with your navigate function\n      history.push(lastLocation.pathname);\n    }\n  }, [confirmedNavigation, lastLocation]);\n\n  return (\n      <div>\n        <Prompt when={when} message={handleBlockedNavigation}/>\n        <Modal\n            show={modalVisible}\n            title=\"Exit without saving?\"\n            selectButton=\"Confirm\"\n            cancelButton={\"Dismiss\"}\n            onCancel={closeModal}\n            onSelect={handleConfirmNavigationClick}>\n          <div style={{paddingBottom: 15}}>You have unsaved changes. Are you sure you want to leave without saving?</div>\n        </Modal>\n      </div>\n  );\n};\n","import React, {useContext, useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components';\nimport _ from 'lodash'\nimport {Field, Form, Formik, useField, useFormikContext} from 'formik';\nimport {array, boolean, date, number, object, string} from 'yup';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCheckSquare, faTimes, faTrash} from \"@fortawesome/free-solid-svg-icons\";\n\nimport BasicLayout from '../../components/BasicLayout';\nimport {makeAPIRequest, objectToCamelCase, objectToSnakeCase} from '../../utils/api';\nimport Button from \"../../components/ui/Button\";\nimport StatusMessage from \"../../components/ui/StatusMessage\";\nimport {useAuthentication, UserContext} from '../../utils/auth';\n\nimport config from '../../config';\nimport {Dropdown, SearchableSelect, SearchableSelectHTS} from \"../../components/ui/Dropdown\";\nimport {Modal} from \"../../components/ui/Modal\";\nimport {ResizableScreenDiv} from \"../../components/ui/ResizableScreenDiv\";\nimport {RouteBlockingModal} from \"../../components/ui/RouteBlockingModal\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\n\nconst disabledBackgroundColor = `#c3c1c3`;\nconst disabledColor = `black`;\n\nconst InputWrapper = styled.div`\n  max-width: 700px;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border-radius: 10px;\n  border: 1px solid #cdcdcd;\n  transition: border 0.3s;\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  \n  ${props => !props.disabled && `&:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n`;\n\nconst QuestionText = styled.h3`\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.25;\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst ClickableText = styled.span`\n  color: blue;\n  cursor: pointer;\n  &:hover {\n    color: #1772fb;\n  }\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 15px;\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst SectionSubtitle = styled.div`\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Asterisk = styled.span`\n  color: #dc3545;\n  font-size: 16px;\n`;\n\nconst StyledFormInput = styled(Field)`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst StyledInput = styled.input`\n  padding: 10px 0 5px;\n  flex: 1;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst StyledDiv = styled.div`\n  padding: 10px 0 5px;\n  flex: 1;\n  height: 18px;\n  border: none;\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin-top: 15px;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst NestedButtonWrapper = styled.div`\n  padding-left: 10px;\n  flex: 1;\n  display: flex;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst ButtonVerticalWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 15px;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  width: 95%;\n  > :first-child {\n    border-top: thin solid ${config.accentColor};\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : props.disabled ? disabledBackgroundColor\n  : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : props.disabled ? disabledColor : config.accentColor};\n  border: 1px solid ${props => props.disabled ? disabledColor : config.accentColor};\n  font-size: 16px;\n  ${props => !props.disabled && `cursor: pointer;`}\n  margin: ${props => props.nested ? `0px` : `10px 0;`}\n  ${props => !props.fitWidth && `max-width: 45%;`}\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledSection = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 1px;\n  padding: 10px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  text-align: left;\n  width: 100%;\n  border-width: thin;\n  border-style: solid;\n  border-color: ${config.accentColor};\n  border-top: none;\n`;\n\nconst scrollToAndHighlight = (questionKey) => {\n  const selector = `[id=\"${questionKey}\"]`;\n  let parentElement = document.querySelector(selector);\n  const originalBackgroundColor = window.getComputedStyle(parentElement).backgroundColor;\n  const changeQuestionBackgroundTemp = () => {\n    parentElement.animate({backgroundColor: [\"lightblue\", originalBackgroundColor]}, 1000);\n  };\n\n  // if the element is on the screen\n  if (window.scrollY <= parentElement.offsetTop && window.scrollY + document.documentElement.clientHeight >=\n    parentElement.offsetTop + parentElement.offsetHeight) {\n    changeQuestionBackgroundTemp();\n  } else {\n    let scrollTimeout;\n    const scrollHandler = () => {\n      clearTimeout(scrollTimeout);\n      scrollTimeout = setTimeout(() => {\n        window.removeEventListener(\"scroll\", scrollHandler);\n        changeQuestionBackgroundTemp()\n      }, 20);\n    };\n    window.addEventListener(\"scroll\", scrollHandler);\n    parentElement.scrollIntoView({behavior: \"smooth\", block: \"nearest\"});\n  }\n};\n\nconst BasicInput = ({question, children, subtitle}) => {\n  const [, meta] = useField(question.key);\n  const {error, touched} = meta;\n  return (\n    <InputWrapper id={question.key} disabled={question.disabledTooltip}>\n      <QuestionText disabled={question.disabledTooltip}>{question.questionText}{question.required ? (\n        <Asterisk> *</Asterisk>) : null}</QuestionText>\n      {!question.disabledTooltip && subtitle && <Subtitle>{subtitle}</Subtitle>}\n      {question.disabledTooltip && <Subtitle onClick={() => scrollToAndHighlight(\n        question.disabledTooltip.parentKey)}>{question.disabledTooltip.text}</Subtitle>}\n      {error && touched && <Subtitle style={{color: '#dc3545'}}>{typeof error !== 'object' ? error : null}</Subtitle>}\n      {children}\n    </InputWrapper>\n  )\n};\n\nconst TextInput = ({question, status, setStatus, lcApp, setAppliedTemplate, appliedTemplate}) => {\n  const {values, setValues, initialValues, handleChange, setFieldValue} = useFormikContext();\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const autofillTemplateTimeout = useRef();\n  const beneficiaryAutocompleteTimeout = useRef(null);\n\n  const [suggested, setSuggested] = useState([]);\n\n  useEffect(() => {\n    if (status.status !== \"success\" && !appliedTemplate && (question.key === \"beneficiary_name\" || question.key\n      === \"purchased_item\" || question.key === \"applicant_country\")) {\n      clearTimeout(autofillTemplateTimeout.current);\n      const timeoutId = setTimeout(() => {\n        const params = {};\n        if (values.beneficiary_name) {\n          params.beneficiary_name = values.beneficiary_name;\n        }\n        if (values.purchased_item) {\n          params.purchased_item = values.purchased_item;\n        }\n        const paramString = Object.entries(params).map(([key, value]) => `${key}=${value}`).join(\"&\");\n        if (paramString) {\n          makeAPIRequest(`/lc/digital_app_templates/?${paramString}`).then(result => {\n            if (result.length) {\n              const Component = (\n                <div>\n                  <div style={{display: \"flex\"}}>\n                    <span style={{flex: 1}}/>\n                    <StyledIcon onClick={() => setStatus({status: null, message: \"\"})}\n                                icon={faTimes} style={{color: \"black\"}}/>\n                  </div>\n                  <div style={{color: \"black\"}}>Load Template with Similar Answers:</div>\n                  <div style={{paddingTop: 10}}>\n                    {result.map(template => (\n                      <div key={template.id} style={{paddingTop: 5}}>\n                        <ClickableText onClick={async () => {\n                          setStatus({status: null, message: \"\"});\n                          await loadTemplateAnswers({\n                            lcApp,\n                            selectedTemplate: template,\n                            values,\n                            initialValues,\n                            setValues,\n                            setAppliedTemplate,\n                            setStatus\n                          });\n                        }}>\n                          {template.templateName}\n                        </ClickableText></div>\n                    ))}\n                  </div>\n                </div>\n              );\n              setStatus({status: \"info\", message: Component});\n            } else {\n              setStatus({status: null, message: \"\"});\n            }\n          });\n        }\n      }, 500);\n      autofillTemplateTimeout.current = timeoutId;\n    }\n  }, [value]);\n\n  // TODO do i want the purchased item here ?\n  useEffect(() => {\n    if (question.key === \"beneficiary_name\") {\n      clearTimeout(beneficiaryAutocompleteTimeout.current);\n      const timeoutId = setTimeout(() =>\n        makeAPIRequest(`/business/autocomplete/?string=${value}`)\n        .then(suggested => setSuggested(suggested)), 400);\n      beneficiaryAutocompleteTimeout.current = timeoutId;\n    }\n  }, [value]);\n\n\n  const onSelect = async item => {\n    await setFieldValue(\"beneficiary_address\", item.address);\n    await setFieldValue(\"beneficiary_country\", item.country);\n    await setValue(item.name);\n  };\n\n  const inputComponent = question.key === \"beneficiary_name\" ?\n    <SearchableSelect\n      onSelect={onSelect}\n      items={suggested}\n      questionKey={question.key}\n      handleChange={handleChange}\n    /> :\n    <StyledFormInput type=\"text\" name={question.key}/>;\n\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && inputComponent}\n    </BasicInput>\n  );\n};\n\nconst DropdownInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  return (\n    <BasicInput question={question}>\n      <Dropdown items={question.options} onChange={item => setValue(item)}\n                selectedIndex={question.options.indexOf(value)}/>\n    </BasicInput>\n  )\n};\n\nconst NumberInput = ({question}) => {\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <StyledFormInput type=\"number\" name={question.key}/>}\n    </BasicInput>\n  )\n};\n\nconst YesNoInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <ButtonWrapper style={{justifyContent: 'center'}}>\n        <StyledButton onClick={handleClick(true)} selected={value === true}>Yes</StyledButton>\n        <StyledButton onClick={handleClick(false)} selected={value === false}>No</StyledButton>\n      </ButtonWrapper>}\n    </BasicInput>\n  )\n};\n\nconst HTSInput = ({question}) => {\n  const {handleChange, setFieldValue} = useFormikContext();\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const [suggested, setSuggested] = useState([]);\n  const beneficiaryAutocompleteTimeout = useRef(null);\n  const [useSuggest, setUseSuggest] = useState(true);\n\n\n  useEffect(() => {\n    searchHTSCodes();\n  }, [value]);\n\n  async function searchHTSCodes() {\n    if (value && value.length > 1 && useSuggest === true) {\n      clearTimeout(beneficiaryAutocompleteTimeout.current);\n      makeAPIRequest(`/business/autocomplete/?string=${value}`)\n          .then(suggested => setSuggested(suggested));\n      const timeoutId = setTimeout(() =>\n          fetch(`https://peaceful-journey-01245.herokuapp.com/https://hts.usitc.gov/api/search?query=${value}`, {\n\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n            },\n          }).then((response) => {\n            return response.json()\n          }).then((json) => {\n            console.log(json);\n            setSuggested(json.results);\n          }).catch(() => {\n            setSuggested([]);\n          }), 400);\n      beneficiaryAutocompleteTimeout.current = timeoutId;\n    }\n  }\n\n\n  const onSelect = async (hts, description) => {\n    await setFieldValue(\"hts_code\", hts);\n    await setValue(description);\n  };\n\n  const inputComponent =\n    <SearchableSelectHTS\n      onSelect={onSelect}\n      items={suggested}\n      questionKey={question.key}\n      handleChange={handleChange}\n    />;\n\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      <AllCheckboxesWrapper>\n        <Checkbox\n            style = {{color: config.accentColor}}\n            checked={useSuggest}\n            onChange={() => {\n              setUseSuggest(!useSuggest);\n              searchHTSCodes();\n            }}\n            name=\"suggestCheck\"\n        />\n        <QuestionText style = {{paddingTop: 10}}>Suggest an HTS classification</QuestionText>\n      </AllCheckboxesWrapper>\n      {useSuggest === true ? inputComponent :  <StyledFormInput type=\"text\" name={question.key}/>}\n    </BasicInput>\n  );\n};\n\nconst AllRadiosWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst RadioInput = ({question}) => {\n  const options = question.options;\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <AllRadiosWrapper>\n        <ButtonWrapper>\n          {options && options.map((opt) => (\n            <StyledButton onClick={handleClick(opt)} selected={value === opt} key={opt}>{opt}</StyledButton>\n          ))}\n        </ButtonWrapper>\n      </AllRadiosWrapper>}\n    </BasicInput>\n  )\n};\n\nconst DateInput = ({question}) => {\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <StyledFormInput type=\"date\" name={question.key}/>}\n    </BasicInput>\n  )\n};\n\nconst AllCheckboxesWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst CheckboxInput = ({question}) => {\n  const options = question.options;\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    const i = value.indexOf(val);\n    if (i !== -1) {\n      setValue(value.slice(0, i).concat(value.slice(i + 1)));\n    } else {\n      setValue(value.concat([val]));\n    }\n  };\n\n  return (\n    <BasicInput disabled={question.disabledTooltip} question={question} subtitle=\"Check all that apply.\">\n      {!question.disabledTooltip && <AllCheckboxesWrapper>\n        <ButtonWrapper>\n          {options && options.map((opt) => (\n            <StyledButton disabled={question.disabledTooltip} onClick={handleClick(opt)}\n                          selected={value.indexOf(opt) !== -1} key={opt}>\n              {value.indexOf(opt) !== -1 && <FontAwesomeIcon icon={faCheckSquare} style={{marginRight: '10px'}}/>}\n              {opt}\n            </StyledButton>\n          ))}\n        </ButtonWrapper>\n      </AllCheckboxesWrapper>}\n    </BasicInput>\n  )\n};\n\nconst DocReqFieldWrapper = styled.div`\n  margin: 10px 0;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #cdcdcd;\n  > :first-child {\n    width: 130px;\n    font-weight: 300;\n    border-right: 1px solid #cdcdcd;\n    padding: 10px 10px 5px;\n    text-align: right;\n  }\n`;\n\nconst StyledDocReqField = styled(Field)`\n  padding: 10px 10px 5px;\n  font-size: 16px;\n  border: none;\n  flex: 1;\n  width: calc(100% - 130px);\n  line-height: 1em;\n  color: #000;\n  background-color: #fff;\n`;\n\nconst StyledDocReqDiv = styled.div`\n  padding: 10px 10px 5px;\n  font-size: 16px;\n  border: none;\n  flex: 1;\n  width: calc(100% - 130px);\n  line-height: 1em;\n  color: #000;\n  background-color: #fff;\n  word-break: break-word;\n`;\n\nconst DocReqTitle = styled.h3`\n  text-transform: uppercase;\n  font-weight: 300;\n  letter-spacing: .1em;\n  ${props => props.disabled && `color: ${disabledColor};`}\n`;\n\nconst CommonNestedTypeComponent = ({question, keyName}) => {\n  const componentMap = {\n    text: <StyledDocReqField type={\"text\"} disabled={question.disabled === \"True\"} name={keyName}/>,\n    number: <StyledDocReqField type={\"number\"} disabled={question.disabled === \"True\"} name={keyName}/>,\n    decimal: <StyledDocReqField type={\"number\"} disabled={question.disabled === \"True\"} name={keyName}/>,\n    date: <StyledDocReqField type={\"date\"} disabled={question.disabled === \"True\"} name={keyName}/>,\n  };\n  return componentMap[question.type];\n};\n\nconst ObjectNestedTypeComponent = ({question, value, setValue}) => {\n  const componentMap = {\n    boolean: <NestedButtonWrapper>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue({...value, [question.key]: true})}\n                    selected={value[question.key] === true}>Yes</StyledButton>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue({...value, [question.key]: false})}\n                    selected={value[question.key] === false}>No</StyledButton>\n    </NestedButtonWrapper>,\n  };\n  return componentMap[question.type];\n};\n\nconst ObjectInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  return (\n    <BasicInput question={question}>\n      {!question.disabledTooltip && question.children.map(child => {\n        const keyName = `${question.key}.${child.key}`;\n        return (\n          <DocReqFieldWrapper key={keyName}>\n            <span>{child.questionText}{child.required ? <Asterisk> *</Asterisk> : null}</span>\n            {CommonNestedTypeComponent({question: child, keyName}) ||\n            ObjectNestedTypeComponent({question: child, value, setValue})}\n          </DocReqFieldWrapper>\n        )\n      })}\n    </BasicInput>\n  )\n};\n\nconst ArrayNestedTypeComponent = ({question, parentQuestion, value, setValue, valueIndex, options}) => {\n  const keyName = `${parentQuestion.key}[${valueIndex}].${question.key}`;\n  const curVal = value[valueIndex][question.key];\n  const componentMap = {\n    boolean: <NestedButtonWrapper>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue(value.map((valObj, curInd) =>\n                      curInd === valueIndex ? {...valObj, [question.key]: true} : valObj))}\n                    selected={curVal}>Yes</StyledButton>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue(value.map((valObj, curInd) =>\n                      curInd === valueIndex ? {...valObj, [question.key]: false} : valObj))}\n                    selected={curVal}>No</StyledButton>\n    </NestedButtonWrapper>,\n    radio: !question.options && (valueIndex < value.length - 1 || options.length === 1) ?\n      <StyledDocReqDiv>{curVal}</StyledDocReqDiv> :\n      <Dropdown selectedIndex={options.indexOf(curVal)} items={options}\n                onChange={selected => setValue(value.map((valObj, curInd) =>\n                  curInd === valueIndex ? {...valObj, [question.key]: selected} : valObj))}/>\n  };\n  return componentMap[question.type];\n};\n\nconst StyledIcon = styled(FontAwesomeIcon)`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst DocReqInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const addDocument = () => {\n    const addition = {};\n    question.children.forEach(child => {\n      addition[child.key] = TYPE_TO_DEFAULT[child.type];\n      if (child.type === \"radio\") {\n        addition[child.key] = getOptions(child, true)[0];\n      }\n    });\n    setValue([...value, addition]);\n  };\n\n  const removeDocument = indexToRemove => {\n    setValue(value.filter((valObj, curInd) => curInd !== indexToRemove));\n  };\n\n  const getOptions = (childQuestion, includeLast) => {\n    if (childQuestion.options) {\n      return childQuestion.options;\n    } else if (question.options) {\n      const valueOptionsSet = new Set(value.filter((valObj, curInd) => includeLast ||\n        curInd < value.length - 1).map(valObj => valObj[childQuestion.key]));\n      return question.options.filter(option => !valueOptionsSet.has(option));\n    } else {\n      return null;\n    }\n  };\n\n  const name = question.settings?.name;\n\n  return (\n    <BasicInput question={question}>\n      {!question.disabledTooltip && value.map((obj, i) => {\n        return (\n          <div style={{margin: \"20px\"}} key={i}>\n            <DocReqTitle>{name ? name : \"Documentary Requirement\"} #{i + 1} <StyledIcon icon={faTrash}\n                                                                                        onClick={() => removeDocument(\n                                                                                          i)}/></DocReqTitle>\n            {question.children.map(child => {\n              const keyName = `${question.key}[${i}].${child.key}`;\n              return (\n                <DocReqFieldWrapper key={keyName}>\n                  <span>{child.questionText}{child.required ? <Asterisk> *</Asterisk> : null}</span>\n                  {CommonNestedTypeComponent({question: child, keyName}) ||\n                  ArrayNestedTypeComponent({\n                    question: child,\n                    parentQuestion: question,\n                    value,\n                    setValue,\n                    valueIndex: i,\n                    options: getOptions(child)\n                  })}\n                </DocReqFieldWrapper>)\n            })}\n          </div>\n        )\n      })}\n      {!question.disabledTooltip && <center style={{marginTop: '25px'}}>\n        <StyledButton disabled={question.options && question.options.length === value.length} type={\"button\"}\n                      onClick={addDocument}>Add {name ? name : \"Documentary Requirement\"}</StyledButton>\n      </center>}\n    </BasicInput>\n  )\n};\n\nconst contains = (option, answer) => {\n  if (option === \"*\") {\n    return answer.length;\n  } else if (answer && Array.isArray(answer)) {\n    return answer.some(piece => _.isEqual(piece, option));\n  } else {\n    return option === answer;\n  }\n};\n\nconst markDisabled = async ({questions, values, setLCApp, validateForm}) => {\n  let changed = false;\n  const questionsCopy = questions.map(q => ({...q}));\n  questionsCopy.filter(q => q.disabled).forEach(q => {\n    const dependency = JSON.parse(q.disabled);\n    for (let option of dependency.answer) {\n      if (contains(option, values[dependency.key])) {\n        const parentQuestion = questions.find(potential => potential.key === dependency.key);\n        changed = changed || !q.disabledTooltip;\n        const message = (<span style={{color: \"#58595A\"}}>This question is redundant based on your earlier\n        answer to <ClickableText>'{parentQuestion.questionText}'</ClickableText></span>);\n        q.disabledTooltip = {text: message, parentKey: parentQuestion.key};\n        return;\n      }\n    }\n    if (q.disabledTooltip) {\n      q.disabledTooltip = undefined;\n      changed = true;\n    }\n  });\n  if (changed) {\n    await setLCApp([...questionsCopy]);\n    validateForm();\n  }\n};\n\nconst findAndSetSectionsError = ({questions, errors, touched, setSectionsError}) => {\n  const erroredQuestions = questions.filter(q => errors[q.key]);\n  const erroredAndTouchedSections = erroredQuestions.filter(q => touched[q.key]).map(q => q.section);\n  setSectionsError(new Set(erroredAndTouchedSections));\n};\n\nconst scrollToFirstErrorOnSection = ({questions, errors, selectedSection}) => {\n  const erroredQuestions = questions.filter(q => errors[q.key]);\n  const erroredQuestionsOnSelectedSection = erroredQuestions.filter(q => q.section === selectedSection?.text);\n  if (erroredQuestionsOnSelectedSection.length) {\n    const selector = `[id=\"${erroredQuestionsOnSelectedSection[0].key}\"]`;\n    let errorElement = document.querySelector(selector);\n    errorElement.scrollIntoView({behavior: \"smooth\"});\n  } else {\n    window.scrollTo({top: 0, behavior: \"smooth\"});\n  }\n};\n\nconst ErrorFocus = (props) => {\n  let {isSubmitting, errors, touched, questions, selectedSection, setTouched, values} = props;\n\n  const prevErrors = usePrevious(errors);\n  const prevTouched = usePrevious(touched);\n  const prevValues = usePrevious(values);\n  const prevSelectedSection = usePrevious(selectedSection);\n  const prevIsSubmitting = usePrevious(isSubmitting);\n\n  const keyToEffect = {\n    scroll: scrollToFirstErrorOnSection,\n    sectionsErrors: findAndSetSectionsError,\n    markDisabled: markDisabled\n  };\n\n  useEffect(() => {\n    const effects = new Set();\n    if (!_.isEqual(selectedSection, prevSelectedSection)) {\n      touched = {...touched};\n      questions.forEach(q => {\n        if (q.section === prevSelectedSection?.text) {\n          touched[q.key] = true;\n        }\n      });\n      setTouched(touched);\n      effects.add(\"scroll\");\n    }\n    if (!_.isEqual(errors, prevErrors) || !_.isEqual(touched, prevTouched)) {\n      effects.add(\"sectionsErrors\");\n    }\n    if (!_.isEqual(values, prevValues)) {\n      effects.add(\"markDisabled\");\n    }\n    if (isSubmitting && !prevIsSubmitting) {\n      effects.add(\"sectionsErrors\");\n      effects.add(\"scroll\");\n    }\n    effects.forEach(effect => keyToEffect[effect](props));\n  });\n\n  return null;\n};\n\nconst usePrevious = value => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nconst TYPE_TO_COMPONENT = {\n  text: TextInput,\n  decimal: NumberInput,\n  number: NumberInput,\n  boolean: YesNoInput,\n  hts: HTSInput,\n  radio: RadioInput,\n  date: DateInput,\n  checkbox: CheckboxInput,\n  object: ObjectInput,\n  array_of_objs: DocReqInput,\n  dropdown: DropdownInput\n};\n\nconst createDefault = question => {\n  let initial = question.initialValue;\n  if (question.type === \"object\") {\n    initial = initial || {};\n    question.children.forEach(child => {\n      initial[child.key] = child.initialValue || TYPE_TO_DEFAULT[child.type];\n    });\n  } else if (!initial) {\n    initial = TYPE_TO_DEFAULT[question.type];\n  }\n  return initial;\n};\n\nconst TYPE_TO_DEFAULT = {\n  text: \"\",\n  decimal: 0,\n  number: 0,\n  boolean: null,\n  radio: null,\n  date: (new Date()).toISOString().slice(0, 10),\n  checkbox: [],\n  object: {},\n  array_of_objs: [],\n  dropdown: \"\"\n};\n\nconst REQUIRED_FIELD_MSG = \"This field is required.\";\nconst REQUIRED_SECTION_MSG = \"Missing required fields\";\n\nconst TYPE_TO_VALIDATION_SCHEMA = {\n  text: string(),\n  decimal: number(),\n  number: number(),\n  boolean: boolean().nullable(),\n  hts: string(),\n  radio: string().nullable(),\n  date: date(),\n  checkbox: array().of(string()),\n  dropdown: string()\n};\n\nconst createChildrenShape = question => {\n  const shape = {};\n  question.children.forEach(child => {\n    shape[child.key] = child.required ?\n      TYPE_TO_VALIDATION_SCHEMA[child.type].required(REQUIRED_FIELD_MSG) :\n      TYPE_TO_VALIDATION_SCHEMA[child.type];\n  });\n  return shape;\n};\n\nconst createValidationSchema = question => {\n  let schema = TYPE_TO_VALIDATION_SCHEMA[question.type];\n  if (question.type === 'object') {\n    schema = object().shape(createChildrenShape(question));\n  } else if (question.type === 'array_of_objs') {\n    schema = array().of(object().shape(createChildrenShape(question)));\n  }\n  if (question.required && !question.disabledTooltip) {\n    schema = schema.required(REQUIRED_FIELD_MSG);\n  }\n  return schema;\n};\n\nconst loadTemplateAnswers = async ({lcApp, selectedTemplate, values, initialValues, setValues, setAppliedTemplate, setStatus}) => {\n  const questionType = {};\n  lcApp.forEach(q => questionType[q.key] = q.type);\n  const template = await makeAPIRequest(`/lc/digital_app_templates/${selectedTemplate.id}/`, \"GET\");\n  values = {...values};\n  for (let [key, value] of Object.entries(template)) {\n    const questionKey = _.snakeCase(key);\n    if (questionType[questionKey] === \"object\" ||\n      questionType[questionKey] === \"array_of_objs\" ||\n      questionType[questionKey] === \"checkbox\") {\n      value = JSON.parse(value);\n    }\n    if (initialValues[questionKey] !== undefined) {\n      values[questionKey] = value;\n    }\n    template[key] = value;\n  }\n  setStatus({status: \"success\", message: \"Successfully loaded application\"});\n  setTimeout(() => setStatus({status: null, message: \"\"}), 2500);\n  setValues(values);\n  setAppliedTemplate(template);\n};\n\nconst LoadTemplate = ({lcApp, setModal, initialValues, setAppliedTemplate, setStatus, setValues, values}) => {\n  const [selectedTemplate, setSelectedTemplate] = useState();\n  const [lcTemplates, setLCTemplates] = useState();\n\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      setLCTemplates(await makeAPIRequest(\"/lc/digital_app_templates/\", \"GET\"));\n    };\n    fetchTemplates();\n  }, []);\n\n  return (\n    <Modal show={true} title={\"Load Application Template\"} onCancel={() => setModal(null)}\n           onSelect={async () => {\n             setModal(null);\n             if (!selectedTemplate) {\n               return;\n             }\n             await loadTemplateAnswers(\n               {lcApp, selectedTemplate, values, initialValues, setValues, setAppliedTemplate, setStatus});\n           }}\n    >\n      {lcTemplates && !lcTemplates.length && <div style={{paddingBottom: 20, color: \"gray\", fontStyle: \"italic\"}}>No\n        Saved Templates</div>}\n      {lcTemplates && <div style={{\n        flex: 1,\n        display: \"grid\",\n        gridAutoRows: \"1fr\",\n        overflowY: \"auto\",\n        gridTemplateColumns: \"repeat(3, 1fr)\"\n      }}>\n        {lcTemplates.map(template => <StyledButton type={\"button\"} fitWidth={true}\n                                                   selected={template.id === selectedTemplate?.id}\n                                                   onClick={() => setSelectedTemplate(template)}\n                                                   key={template.id}\n                                                   style={{margin: \"10px\"}}>{template.templateName}</StyledButton>)}\n      </div>}\n    </Modal>\n  )\n};\n\nconst SaveTemplate = ({setModal, values, lcApp, appliedTemplate, setStatus, setAppliedTemplate}) => {\n  const [newTemplateValue, setNewTemplateValue] = useState(\"\");\n  const [selectedSaveButton, setSelectedSaveButton] = useState(0);\n  const [saveTemplateError, setSaveTemplateError] = useState(\"\");\n  const [submitCount, setSubmitCount] = useState(0);\n  const [templateNameSet, setTemplateNameSet] = useState();\n  const [integrityError, setIntegrityError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      setTemplateNameSet(\n        new Set((await makeAPIRequest(\"/lc/digital_app_templates/\", \"GET\")).map(template => template.templateName)));\n    };\n    fetchTemplates();\n  }, []);\n\n  useEffect(() => {\n    appliedTemplate && setSelectedSaveButton(1);\n  }, [appliedTemplate?.id]);\n\n  return (\n    <Modal show={true} title={\"Save Application Template\"} containerStyle={{width: \"60%\"}} selectButton={\"Save\"}\n           onCancel={() => setModal(null)} error={submitCount > 0 && saveTemplateError}\n           selectDisabled={submitCount && saveTemplateError}\n           onShow={() => {\n             const fields = [];\n             if (values[\"beneficiary_name\"]) {\n               fields.push(values[\"beneficiary_name\"].trim());\n             }\n             if (values[\"purchased_item\"]) {\n               fields.push(values[\"purchased_item\"].trim());\n             }\n             setNewTemplateValue(fields.join(\", \"));\n           }}\n           onSelect={async () => {\n             setSubmitCount(submitCount + 1);\n             const overwrite = selectedSaveButton === 1;\n             if (!overwrite && !newTemplateValue) {\n               setSaveTemplateError(\"Please input a valid template name\");\n               return;\n             }\n             const fields = {template_name: overwrite ? appliedTemplate.templateName : newTemplateValue.trim()};\n             lcApp.forEach(q => fields[q.key] =\n               (q.type === \"object\" || q.type === \"array_of_objs\" || q.type === \"checkbox\") ?\n                 JSON.stringify(values[q.key]) : values[q.key]);\n             const res = await makeAPIRequest(`/lc/digital_app_templates/${overwrite ? `${appliedTemplate.id}/` : \"\"}`,\n               overwrite ? \"PUT\" : \"POST\", fields, true);\n             let text = await res.text();\n             if (res.status !== 200) {\n               if (res.status >= 500) {\n                 text = \"Unknown server error. Please contact steve@bountium.org.\";\n               } else {\n                 setIntegrityError(text);\n               }\n               setSaveTemplateError(text);\n             } else {\n               setModal(null);\n               const questionType = {};\n               lcApp.forEach(q => questionType[q.key] = q.type);\n               const createdTemplate = JSON.parse(text)[overwrite ? \"updated_lc_template\" : \"created_lc_template\"];\n               for (let [key, value] of Object.entries(createdTemplate)) {\n                 if (questionType[key] === \"object\" ||\n                   questionType[key] === \"array_of_objs\" ||\n                   questionType[key] === \"checkbox\") {\n                   value = JSON.parse(value);\n                 }\n                 createdTemplate[key] = value;\n               }\n               setAppliedTemplate(objectToCamelCase(createdTemplate));\n               setStatus({status: \"success\", message: \"Successfully saved application\"});\n               setTimeout(() => setStatus({status: null, message: \"\"}), 2500);\n             }\n           }}\n    >\n      <div>\n        {appliedTemplate && <div style={{flexDirection: \"row\", display: \"flex\", paddingBottom: 20}}>\n          <StyledButton selected={selectedSaveButton === 1} nested type={\"button\"}\n                        onClick={() => {\n                          setSelectedSaveButton(1);\n                          setSaveTemplateError(\"\");\n                        }}\n                        style={{width: 160, justifyContent: \"center\"}}>\n            Overwrite</StyledButton>\n          <StyledDiv style={{flex: 1, marginLeft: 10, visibility: selectedSaveButton === 1 ? \"visible\" : \"hidden\"}}>\n            {appliedTemplate.templateName}</StyledDiv>\n        </div>}\n        <div style={{flexDirection: \"row\", display: \"flex\"}}>\n          <StyledButton selected={selectedSaveButton === 0} nested type={\"button\"}\n                        onClick={async () => {\n                          await setSelectedSaveButton(0);\n                          if (!newTemplateValue) {\n                            await setSaveTemplateError(\"Please input a valid template name\");\n                          } else if (templateNameSet.has(newTemplateValue)) {\n                            await setSaveTemplateError(integrityError);\n                          } else {\n                            await setSaveTemplateError(\"\");\n                          }\n                          document.querySelector(\"#newTemplateInput\").focus();\n                        }}\n                        style={{width: 160, justifyContent: \"center\"}}>\n            New</StyledButton>\n          <StyledInput style={{flex: 1, marginLeft: 10, visibility: selectedSaveButton === 0 ? \"visible\" : \"hidden\"}}\n                       type={\"text\"} value={newTemplateValue} id={\"newTemplateInput\"}\n                       onChange={({target}) => {\n                         let text = target.value;\n                         setNewTemplateValue(text);\n                         text = text.trim();\n                         if (!text) {\n                           setSaveTemplateError(\"Please input a valid template name\");\n                         } else if (templateNameSet.has(text)) {\n                           setSaveTemplateError(integrityError);\n                         } else {\n                           setSaveTemplateError(\"\");\n                         }\n                       }}/>\n        </div>\n      </div>\n    </Modal>\n  )\n};\n\nconst unsavedChanges = ({values, template, initialValues, submitCount}) => {\n  if (submitCount) {\n    return false;\n  }\n  if (!template) {\n    return !_.isEqual(values, initialValues);\n  }\n  for (let [templateField, templateValue] of Object.entries(template)) {\n    templateField = _.snakeCase(templateField);\n    templateValue = objectToSnakeCase(templateValue);\n    if (values[templateField] !== undefined && emptyAndChanged(values[templateField], templateValue) && !_.isEqual(\n      values[templateField], templateValue)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nconst emptyAndChanged = (currentValue, templateValue) => {\n  return currentValue || templateValue || currentValue === false || templateValue === false;\n};\n\nconst Refresh = ({appliedTemplate}) => {\n  const {values, initialValues, submitCount} = useFormikContext();\n  useEffect(() => {\n    if (unsavedChanges({values, template: appliedTemplate, initialValues, submitCount})) {\n      window.onbeforeunload = () => \"You have unsaved changes. Are you sure you want to leave without saving?\";\n    } else {\n      window.onbeforeunload = undefined;\n    }\n    return () => window.onbeforeunload = undefined;\n  });\n  return null;\n};\n\nconst BankLCAppPage = ({match}) => {\n  const persistedLcApp = JSON.parse(localStorage.getItem(`lc/${match.params.bankid}`));\n  const [user] = useContext(UserContext);\n  const [lcApp, setLCApp] = useState(null);\n  const [status, setStatus] = useState({status: null, message: \"\"});\n  const [selectedSectionIndex, setSelectedSectionIndex] = useState(null);\n  const [sections, setSections] = useState(null);\n  let [initialValues, setInitialValues] = useState({});\n  const [modal, setModal] = useState(null);\n  const [appliedTemplate, setAppliedTemplate] = useState(null);\n  useAuthentication(`/bank/${match.params.bankid}/application`);\n  useEffect(() => {\n    if (user && match.params.bankid) {\n      makeAPIRequest(`/bank/${match.params.bankid}/digital_app/`)\n      .then(json => {\n        const sectionSet = new Set();\n        json.forEach(q => {\n          sectionSet.add(q.section);\n          if (q.options) {\n            q.options = JSON.parse(q.options);\n          }\n          if (q.settings) {\n            q.settings = JSON.parse(q.settings);\n          }\n          q.children.forEach(child => {\n            if (child.options) {\n              child.options = JSON.parse(child.options);\n            }\n            if (child.settings) {\n              child.settings = JSON.parse(child.settings);\n            }\n          });\n        });\n        const sections = [];\n        if (persistedLcApp) {\n          initialValues = persistedLcApp;\n        } else {\n          json.forEach(q => {\n            if (user && q.key === 'applicant_name') {\n              initialValues[q.key] = user.business.name;\n            } else if (user && q.key === 'applicant_address') {\n              initialValues[q.key] = user.business.address;\n            }\n            else if (user && q.key === 'applicant_country') {\n              initialValues[q.key] = user.business.country;\n            }\n            else {\n              initialValues[q.key] = createDefault(q);\n            }\n          });\n        }\n        sectionSet.forEach(\n          section => sections.push({text: section, error: false}));\n        setSections(sections);\n        setSelectedSectionIndex(0);\n        setInitialValues(initialValues);\n\n        setLCApp(json);\n      })\n    }\n  }, [match.params.bankid, user]);\n\n  let validationSchema = null;\n\n  if (lcApp) {\n    const schemaObj = {};\n    lcApp.forEach(q => {\n      schemaObj[q.key] = createValidationSchema(q);\n    });\n    validationSchema = object().shape(schemaObj);\n  }\n\n  return <BasicLayout\n    title={`LC Application `} isLoading={!lcApp} status={status} marginStyle={{marginBottom: 0, marginTop: 10}}>\n    {lcApp && (\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={(values, {setSubmitting}) => {\n          setSubmitting(true);\n          const app = {};\n          Object.entries(values).forEach((kv) => {\n            const [key, value] = kv;\n            if (value === null) {\n            } else {\n              app[key] = value;\n            }\n          });\n          makeAPIRequest(`/lc/by_bank/${match.params.bankid}/`, 'POST', app, true)\n          .then(async res => {\n            let text = await res.text();\n            if (res.status === 200) {\n              localStorage.removeItem(`lc/${match.params.bankid}`);\n              setStatus({\n                message:\n                  <div>\n                    <div style={{display: \"flex\"}}>\n                      <span style={{flex: 1}}/>\n                      <StyledIcon onClick={() => setStatus({status: null, message: \"\"})}\n                                  icon={faTimes} style={{color: \"black\"}}/>\n                    </div>\n                    <div>Your LC app has been sent in! The bank will get back to you ASAP.</div>\n                    <div style={{paddingTop: 25}}>\n                      <ClickableText onClick={() => {\n                        setStatus({status: null, message: \"\"});\n                        setModal(\"saveTemplate\");\n                      }}>\n                        Click here\n                      </ClickableText> to save your submitted application.\n                    </div>\n                  </div>,\n                status: \"success\"\n              });\n            } else {\n              if (text.length > 250) {\n                text = \"Unknown server error. Please contact steve@bountium.org.\";\n              }\n              localStorage.setItem(`lc/${match.params.bankid}`, JSON.stringify(values));\n              setStatus({status: \"error\", message: `Error submitting form: ${text}`});\n            }\n          });\n          setSubmitting(false);\n        }}\n      >\n        {({isSubmitting, errors, touched, setTouched, values, validateForm, setValues, handleSubmit, submitCount}) => (\n          <div style={{display: \"flex\", paddingBottom: 40}}>\n            <RouteBlockingModal when={unsavedChanges({values, template: appliedTemplate, initialValues, submitCount})}/>\n            <Refresh appliedTemplate={appliedTemplate}/>\n            {modal === \"loadTemplate\" && <LoadTemplate\n              initialValues={initialValues} lcApp={lcApp}\n              setAppliedTemplate={setAppliedTemplate} setModal={setModal}\n              setStatus={setStatus}\n              setValues={setValues} values={values}\n            />}\n            {modal === \"saveTemplate\" && <SaveTemplate\n              values={values} setStatus={setStatus} setAppliedTemplate={setAppliedTemplate}\n              setModal={setModal} lcApp={lcApp} appliedTemplate={appliedTemplate}\n            />}\n            <ErrorFocus\n              values={values} errors={errors} touched={touched} isSubmitting={isSubmitting} setLCApp={setLCApp}\n              setTouched={setTouched}\n              selectedSection={sections[selectedSectionIndex]} questions={lcApp} validateForm={validateForm}\n              setSectionsError={(erroredSectionSet => {\n                const sectionsErrors = sections.map(section => section.error);\n                sections.forEach(section => {\n                  section.error = erroredSectionSet.has(section.text)\n                });\n                !_.isEqual(sections.map(section => section.error), sectionsErrors) && setSections([...sections]);\n              })}/>\n            <ResizableScreenDiv\n              style={{width: \"30%\", position: \"sticky\", top: 0, display: \"flex\", flexDirection: \"column\"}}>\n              <div style={{flex: 1}}>\n                <div style={{display: \"flex\", flexDirection: \"row\"}}>\n                  <StyledButton type={\"button\"} style={{marginRight: \"10px\"}} fitWidth={true} onClick={() => {\n                    setModal(\"loadTemplate\");\n                  }}>Load Template</StyledButton>\n                  <StyledButton type={\"button\"} style={{marginLeft: 10, marginRight: 15}} fitWidth={true}\n                                onClick={() => setModal(\"saveTemplate\")}>\n                    Save As Template</StyledButton>\n                </div>\n                <ButtonVerticalWrapper>\n                  {sections.map((section, index) => (<StyledSection\n                    type=\"button\"\n                    onClick={() => setSelectedSectionIndex(index)}\n                    style={{whiteSpace: \"pre\"}}\n                    key={section.text}\n                    selected={index === selectedSectionIndex}>\n                    {section.text}\n                    {section.error && <SectionSubtitle\n                      style={{color: '#dc3545'}}>{REQUIRED_SECTION_MSG}</SectionSubtitle>}\n                  </StyledSection>))}\n                </ButtonVerticalWrapper>\n                <div style={{display: \"flex\", marginTop: \"20px\", width: \"95%\"}}>\n                  <Button disabled={isSubmitting} onClick={handleSubmit}>Submit LC App</Button>\n                </div>\n              </div>\n              <div style={{flex: 1}}/>\n              {status.status && <StatusMessage style={{overflowY: \"auto\", flexGrow: 0, marginTop: 20}}\n                                               status={status.status}>{status.message}</StatusMessage>}\n            </ResizableScreenDiv>\n            <Form style={{width: \"70%\"}}>\n              <div>\n                {lcApp && lcApp.filter(question => sections[selectedSectionIndex].text === question.section).map(\n                  question => {\n                    const Component = TYPE_TO_COMPONENT[question.type];\n                    return <Component\n                      key={question.id} question={question} status={status} setStatus={setStatus} lcApp={lcApp}\n                      setAppliedTemplate={setAppliedTemplate} appliedTemplate={appliedTemplate}/>;\n                  })}\n                <div style={{display: \"flex\", marginLeft: \"150px\", marginRight: \"150px\"}}>\n                  <Button\n                    style={{flex: 1, marginRight: \"50px\"}}\n                    disabled={selectedSectionIndex === 0}\n                    onClick={() => setSelectedSectionIndex(selectedSectionIndex - 1)}\n                    type=\"button\">Previous Section</Button>\n                  <Button\n                    style={{flex: 1, marginLeft: \"50px\"}}\n                    onClick={selectedSectionIndex < sections.length - 1 ? () => setSelectedSectionIndex(\n                      selectedSectionIndex + 1) : null}\n                    type={selectedSectionIndex === sections.length - 1 ? \"submit\" : \"button\"}>\n                    {selectedSectionIndex === sections.length - 1 ? \"Submit LC App\" : \"Next Section\"}\n                  </Button>\n                </div>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n\n    )}\n  </BasicLayout>\n};\n\nexport default BankLCAppPage;\n","import React, {useContext} from \"react\";\nimport styled from \"styled-components\";\nimport {Formik, Form, Field, ErrorMessage} from 'formik';\nimport {string, object, ref} from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport {makeAPIRequest} from '../../utils/api';\nimport {UserContext} from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\nimport {Link} from \"react-router-dom\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n    newBusinessName: string().required(requiredMsg),\n    newBusinessAddress: string().required(requiredMsg),\n    name: string().required(requiredMsg),\n    title: string().required(requiredMsg),\n    email: string().email('Please enter a valid email address.').required(requiredMsg),\n    password: string().required(requiredMsg).matches(\n        /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n        \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n        \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n    ), // wtf is this regex... idk but it works\n    // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n    // TODO update this to be more user friendly\n    passwordConfirm: string().required(requiredMsg)\n        .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({title, type, name}) => {\n    return (\n        <FormInputWrapper>\n            <FormInputTitle>{title}</FormInputTitle>\n            <StyledFormInput type={type} name={name}/>\n            <StyledErrorMessage name={name} component=\"div\"/>\n        </FormInputWrapper>\n    );\n};\n\nconst BusinessSignUpPage = ({history}) => {\n    const setUser = useContext(UserContext)[1];\n    return (\n        <BasicLayout\n            title=\"Welcome! \"\n            subtitle={\n                <>\n                    Get your team up & running with lightning-fast LC processing.\n                    <br/><br/>\n                    <span style={{fontStyle: 'italic'}}>Not a business? </span>\n                    <Link to=\"/bank/register\">Register as a bank</Link>\n                </>\n            }\n        >\n            <Formik\n                initialValues={{\n                    newBusinessName: '',\n                    newBusinessAddress: '',\n                    name: '',\n                    title: '',\n                    email: '',\n                    password: '',\n                    passwordConfirm: '',\n                }}\n                onSubmit={(values, {setSubmitting}) => {\n                    setSubmitting(true);\n                    makeAPIRequest(\"/business/\", \"POST\", values)\n                        .then((json) => {\n                            setUser({...json.userEmployee, business: json.usersEmployer});\n                            history.push(\"/business/invite\");\n                        })\n                        .then(() => setSubmitting(false));\n                }}\n                validationSchema={signUpFormValidationSchema}\n            >\n                {({isSubmitting}) => (\n                    <SignUpForm>\n                        <FormInput\n                            title=\"Business Name\"\n                            name=\"newBusinessName\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Business Address\"\n                            name=\"newBusinessAddress\"\n                            type=\"text\"\n                        />\n\n                        <FormInput\n                            title=\"Business Country\"\n                            name=\"newBusinessCountry\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Your Name\"\n                            name=\"name\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Your Title\"\n                            name=\"title\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Email\"\n                            name=\"email\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Password\"\n                            name=\"password\"\n                            type=\"password\"\n                        />\n                        <FormInput\n                            title=\"Confirm Password\"\n                            name=\"passwordConfirm\"\n                            type=\"password\"\n                        />\n                        <FormFooter>\n                            <Button showArrow disabled={isSubmitting}>\n                                Sign Up\n                            </Button>\n                        </FormFooter>\n                    </SignUpForm>\n                )}\n            </Formik>\n        </BasicLayout>\n    );\n};\n\nexport default BusinessSignUpPage;\n","import React, { useContext } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { object, string } from 'yup';\n\nimport Button from '../../components/ui/Button';\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { useAuthentication, UserContext } from '../../utils/auth';\nimport { makeAPIRequest } from '../../utils/api';\nimport styled from 'styled-components';\nimport { useState } from 'react';\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  max-width: 800px;\n  min-width: 400px;\n  margin: auto;\n  justify-content: center;\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst FormWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst validationSchema = object().shape({\n  email: string().email('Please enter a valid email address.').required('Please enter an email address.'),\n});\n\nconst StatusMessage = styled.div`\n  ${props => props.status && `\n    padding: 10px;\n  `}\n  border-radius: 5px;\n  max-width: 400px;\n  overflow: scroll;\n  margin: 40px auto auto;\n  background-color: ${props => props.status === `error` ? `#dc3545` : `#4bb759`};\n  color: #fff;\n`\n\nconst StyledField = styled(Field)`\n  border-radius: 5px;\n  border: 1px solid #cdcdcd;\n  font-size: 18px;\n  padding-left: 10px;\n`\n\nconst ErrorMessageWrapper = styled.div`\n  margin: auto;\n  max-width: 400px;\n  color: #dc3545;\n  margin-top: 10px;\n`\n\nconst ButtonHolder = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst BusinessInvitePage = ({ history }) => {\n  useAuthentication('/business/invite');\n  const [user] = useContext(UserContext);\n  const [status, setStatus] = useState({ status: null, message: \"\"});\n  return (\n    <BasicLayout\n      title={`Welcome${(user ? ', ' + user.name : '')} `}\n      subtitle=\"Enter your teammates' emails to invite them to the platform.\"\n    >\n      <Formik\n        initialValues={{ email: '' }}\n        onSubmit={(values, { setSubmitting }) => {\n          setSubmitting(true);\n          makeAPIRequest(`/business/${user.employer.id}/invite_teammate/`, \"POST\", { \"inviteeEmail\": values.email }, true)\n            .then((response) => {\n              if (response.status === 200) setStatus({\n                status: \"success\",\n                message: `Invite sent to ${values.email}!`\n              });\n              else setStatus({\n                status: \"error\",\n                message: `Error inviting ${values.email}.`\n              })\n            });\n          setSubmitting(false);\n        }}\n        validationSchema={validationSchema}\n      >\n      {({ isSubmitting }) => (\n        <FormWrapper>\n        <StyledForm>\n          <StyledField type=\"email\" name=\"email\"/>\n          <Button type=\"submit\">{isSubmitting ? 'Sending...' : 'Send'}</Button>\n        </StyledForm>\n        <ErrorMessageWrapper>\n          <ErrorMessage name=\"email\"/>\n        </ErrorMessageWrapper>\n        </FormWrapper>\n      )}\n      </Formik>\n        {status.status && (<StatusMessage status={status.status}>{status.message}</StatusMessage>)}\n\n    <ButtonHolder>\n      <Button showArrow onClick={() => history.push(\"/business/createApp\")}>\n        Next\n      </Button>\n    </ButtonHolder>\n    </BasicLayout>\n  );\n}\n\nexport default BusinessInvitePage;\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\nimport { get } from \"lodash\";\n\nimport Button from \"../../components/ui/Button\";\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { useAuthentication, UserContext } from \"../../utils/auth\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst signUpFormValidationSchema = object().shape({\n  newBusinessName: string(),\n  name: string(),\n  title: string(),\n  password: string().matches(\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string()\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BusinessManageAccountPage = () => {\n  useAuthentication(\"/business/account\");\n  const [user, setUser] = useContext(UserContext);\n\n  return (\n    <BasicLayout title=\"My Account \" subtitle=\"View and edit your user settings.\" isLoading={!user}>\n    <Formik\n      initialValues={{\n        name: get(user, ['name']), title: get(user, ['title']), password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(`/business/${get(user, ['business', 'id'])}/${get(user, ['id'])}/`, \"PUT\", { name: values.name, title: values.title })\n          .then((json) => {\n            setUser({ ...json.userEmployee, business: json.usersEmployer });\n          })\n          .then(() => setSubmitting(false))\n          .catch((err) => console.error(err));\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"New Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm New Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n          <Button disabled={isSubmitting}>\n            Save Update\n          </Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n}\n\nexport default BusinessManageAccountPage;\n","import React, {useContext, useState} from \"react\";\nimport styled from \"styled-components\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { UserContext } from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\nimport StatusMessage from \"../../components/ui/StatusMessage\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  margin-bottom: 10px;\n  \n  > :nth-child(1) {\n    grid-column-start: 2;\n    justify-self: center;\n  }\n  \n  > :nth-child(2) {\n    justify-self: end;\n  }\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n  name: string().required(requiredMsg),\n  title: string().required(requiredMsg),\n  email: string().email('Please enter a valid email address.').required(requiredMsg),\n  password: string().required(requiredMsg),\n  // .matches(/^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n  //   \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n  //   \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  //), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string().required(requiredMsg)\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BusinessEmployeeSignUpPage = ({ history, match }) => {\n  const setUser = useContext(UserContext)[1];\n  const [status, setStatus] = useState({status: null, message: \"\"});\n  return (\n    <BasicLayout\n      title=\"Welcome! \"\n      subtitle=\"Create your account for lightning-fast LC processing.\"\n    >\n    <Formik\n      initialValues={{\n        name: '', title: '', email: '', password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(`/business/${match.params.businessid}/register/`, \"POST\", values)\n          .then((json) => {\n            setUser({ ...json.userEmployee, business: json.usersEmployer });\n            history.push(\"/business/invite\");\n          })\n          .then(() => setSubmitting(false))\n          .catch(e => e.text().then(message => setStatus({status: \"error\", message})).then(setSubmitting(false)))\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Email\"\n          name=\"email\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n          <StatusMessage style={{marginTop: 0, overflow: \"auto\"}} status={status.status}>{status.message}</StatusMessage>\n          <Button style={{height: \"fit-content\"}} showArrow disabled={isSubmitting}>\n            Sign Up\n          </Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n};\n\nexport default BusinessEmployeeSignUpPage;\n","import React, { useEffect, useContext, useState } from 'react';\nimport { get } from 'lodash';\nimport styled from 'styled-components';\n\nimport BasicLayout from '../../../components/BasicLayout';\nimport { useAuthentication, UserContext } from '../../../utils/auth';\nimport { makeAPIRequest } from '../../../utils/api';\nimport Button from '../../../components/ui/Button';\nimport StatusMessage from '../../../components/ui/StatusMessage';\n\nconst ClaimMessage = styled.div`\n  font-weight: 300;\n  max-width: 600px;\n  text-align: center;\n  margin: auto auto 20px;\n  font-size: 18px;\n`\n\nconst useStatus = (init) => {\n  const [status, setStatus] = useState(init || {status: null, message: ''});\n  return {\n    status,\n    setSuccess: (msg) => setStatus({status: 'success', message: msg}),\n    setError: (msg) => setStatus({status: 'error', message: msg}),\n    clearStatus: () => setStatus({status: null, message: ''}),\n  }\n}\n\nconst ClaimBeneficiaryStatusPage = ({ match, history }) => {\n  const lcid = match.params.lcid;\n  useAuthentication(`/business/claimBeneficiary/${lcid}`);\n  const [lc, setLc] = useState(null);\n  const [user] = useContext(UserContext);\n  const { status, setError, setSuccess } = useStatus();\n\n  useEffect(() => {\n    makeAPIRequest(`/lc/${lcid}/`, 'GET')\n      .then(json => setLc(json));\n  }, [lcid])\n\n  const handleClick = () => {\n    makeAPIRequest(`/lc/${lcid}/claim_beneficiary/`, 'POST')\n      .then(() => setSuccess('Congratulations! You have claimed beneficiary status on this order.'))\n      .catch(async (res) => {\n        const a = await res.text();\n        if (a.length > 250) setError('There was an error claiming beneficiary status.')\n        else setError('There was an error claiming beneficiary status: ' + res.error)\n      })\n  }\n\n  return (\n    <BasicLayout\n      title=\"Claim Beneficiary Status\"\n      isLoading={!(user && lc)}\n    >\n      <ClaimMessage>\n        {`Are you a representative of ${get(user, 'business.name')}, selling ${lc && lc.purchasedItem ? `${get(lc, 'unitsPurchased')}\n         ${get(lc, 'unitOfMeasure')} of ${get(lc, 'purchasedItem')} ` : ''}to ${get(lc, 'client.name')}${lc && lc.dueDate ? \n         `, due by ${get(lc, 'dueDate')}` : ''}?`}\n      </ClaimMessage>\n      <center><Button onClick={handleClick}>Yes, Claim Beneficiary Status</Button></center>\n      {status.status && <StatusMessage status={status.status}>{status.message}</StatusMessage>}\n    </BasicLayout>\n  )\n}\n\nexport default ClaimBeneficiaryStatusPage;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from \"../../../config\";\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\nconst useDebouncedEffect = (callback, parameters, delay) => {\n  const currentTimeout = useRef(null);\n\n  useEffect(() => {\n    if (currentTimeout.current !== null) {\n      clearTimeout(currentTimeout.current);\n    }\n    currentTimeout.current = setTimeout(callback, delay);\n    /* eslint-disable-next-line */\n  }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\nconst Filter = ({ lcs, setShownLcs }) => {\n  const [filter, setFilter] = useState(null);\n  useDebouncedEffect(() => {\n    if (filter === null) return;\n    setShownLcs(lcs.filter(lc => lc.client.name.toLowerCase().includes(filter.toLowerCase())));\n  }, [filter, lcs], 200)\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n    <SearchWrapper>\n    <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n      <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n    </SearchWrapper>\n      <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by client</span>\n    </div>\n  )\n}\n\nconst LCListEntry = ({ lc }) => {\n  // NOTE: due_date and credit_amt will only be available for DigitalLCs\n  return (\n      <StyledLink to={`/lc/${lc.id}`}>\n      <ListEntryWrapper>\n        <ListEntryField>{lc.client.name}</ListEntryField>\n        <ListEntryField>{get(lc, 'beneficiary.name') || \"Unknown\"}</ListEntryField>\n        <ListEntryField>{lc.applicationDate}</ListEntryField>\n        <ListEntryField>{lc.draftPresentationDate || \"N/A\"}</ListEntryField>\n        <ListEntryField>{lc.creditAmt || \"N/A\"}</ListEntryField>\n      </ListEntryWrapper>\n      </StyledLink>\n  )\n}\n\n// The only different between this and the bank lc feed\n// is setting business id based on the user's business field\n// + addition of link to client or bene view\n// This could almost certainly be abstracted\nconst BusinessLCFeed = ({ title, user, url, hideSearch, currentlyOnClient }) => {\n  const [lcs, setLcs] = useState(null);\n  const [shownLcs, setShownLcs] = useState(null);\n  const businessid = get(user, ['business', 'id']);\n\n  useEffect(() => {\n    if (!businessid) return;\n    makeAPIRequest(url)\n      .then(json => {\n        setLcs(json);\n        setShownLcs(json);\n      });\n  }, [businessid, url]);\n\n  return (\n    <BasicLayout\n      title={title}\n      isLoading={!shownLcs}\n      link={`/business/lcs/${currentlyOnClient ? \"beneficiary\" : \"client\"}`}\n      linktext={`View LCs for which you are a ${currentlyOnClient ? \"beneficiary\" : \"client\"}`}\n    >\n    {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n    <div>\n      {!hideSearch && <Filter lcs={lcs} setShownLcs={setShownLcs} />}\n      <ListEntryWrapper header>\n        <ListEntryField>Client</ListEntryField>\n        <ListEntryField>Beneficiary</ListEntryField>\n        <ListEntryField>Applied</ListEntryField>\n        <ListEntryField>Drafts Due</ListEntryField>\n        <ListEntryField>Transaction Size</ListEntryField>\n      </ListEntryWrapper>\n    </div>\n    {(shownLcs && (shownLcs.length > 0 ? (\n      <div>\n    {shownLcs.map(lc => <LCListEntry lc={lc} key={lc.id}/>)}\n    </div>\n    ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>You don't have any LCs yet.</center>)))}\n    </BasicLayout>\n  )\n\n}\n\nexport default BusinessLCFeed;\n","import React, { useContext } from \"react\";\nimport BusinessLCFeed from \"./BusinessLCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { get } from \"lodash\";\n\nconst ClientLCFeedPage = ({ match }) => {\n  useAuthentication(`/business/lcs/client/`);\n  const [user] = useContext(UserContext);\n  const businessid = get(user, ['business', 'id']);\n  const businessname = get(user, ['business', 'name']);\n\n  const title = `All LCs ${businessname} has applied or been approved for`\n  return <BusinessLCFeed\n    title={title}\n    url={`/lc/by_client/${businessid}/`}\n    user={user}\n    hideSearch\n    currentlyOnClient\n    />\n}\n\nexport default ClientLCFeedPage\n","import React, { useContext } from \"react\";\nimport BusinessLCFeed from \"./BusinessLCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { get } from 'lodash'\n\nconst BeneficiaryLCFeedPage = ({ match }) => {\n  useAuthentication(`/business/lcs/beneficiary/`);\n  const [user] = useContext(UserContext);\n  const businessid = get(user, ['business', 'id']);\n  const businessname = get(user, ['business', 'name']);\n\n  const title = `All LCs for which ${businessname} is the named beneficiary`\n  return <BusinessLCFeed\n    title={title}\n    url={`/lc/by_beneficiary/${businessid}/`}\n    user={user}\n    hideSearch\n    />\n}\n\nexport default BeneficiaryLCFeedPage\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from \"../../../config\";\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\nconst useDebouncedEffect = (callback, parameters, delay) => {\n  const currentTimeout = useRef(null);\n\n  useEffect(() => {\n    if (currentTimeout.current !== null) {\n      clearTimeout(currentTimeout.current);\n    }\n    currentTimeout.current = setTimeout(callback, delay);\n    /* eslint-disable-next-line */\n  }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\nconst Filter = ({ banks, setShownBanks }) => {\n  const [filter, setFilter] = useState(null);\n  useDebouncedEffect(() => {\n    if (filter === null) return;\n    setShownBanks(banks.filter(bank => bank.name.toLowerCase().includes(filter.toLowerCase())));\n  }, [filter, banks], 200)\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n    <SearchWrapper>\n    <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n      <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n    </SearchWrapper>\n      <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by name</span>\n    </div>\n  )\n}\n\nconst BankListEntry = ({ bank }) => {\n  return (\n      <StyledLink to={`/bank/${bank.id}/application`}>\n      <ListEntryWrapper>\n        <ListEntryField>{bank.name}</ListEntryField>\n      </ListEntryWrapper>\n      </StyledLink>\n  )\n}\n\nconst BankDirectory = ({ title, user, url, hideSearch }) => {\n  const [banks, setBanks] = useState(null);\n  const [shownBanks, setShownBanks] = useState(null);\n\n  const businessid = get(user, ['business', 'id']);\n\n  useEffect(() => {\n    if (!businessid) return;\n    makeAPIRequest(url)\n      .then(json => {\n        setBanks(json);\n        setShownBanks(json);\n      });\n  }, [businessid, url]);\n\n  return (\n    <BasicLayout\n      title={title}\n      isLoading={!shownBanks}\n    >\n    {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n    <div>\n      {!hideSearch && <Filter banks={banks} setShownBanks={setShownBanks} />}\n      <ListEntryWrapper header>\n        <ListEntryField>Bank</ListEntryField>\n      </ListEntryWrapper>\n    </div>\n    {(shownBanks && (shownBanks.length > 0 ? (\n      <div>\n    {shownBanks.map(bank => <BankListEntry bank={bank} key={bank.id}/>)}\n    </div>\n    ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>No banks found.</center>)))}\n    </BasicLayout>\n  )\n\n}\n\nconst BankDirectoryPage = ({ match }) => {\n  useAuthentication(`/banks/`);\n  const [user] = useContext(UserContext);\n\n  const title = `Find the perfect bank for your LC needs!`\n  return <BankDirectory\n    title={title}\n    url={`/bank/`}\n    user={user}\n    />\n}\n\nexport default BankDirectoryPage;\n","import React, {useState, useContext, useEffect, Fragment} from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { makeAPIRequest } from \"../../../utils/api\";\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport {get} from \"lodash\";\nimport {faEdit, faSearch} from \"@fortawesome/free-solid-svg-icons\";\nimport Button from \"../../../components/ui/Button\";\nimport {Dropdown} from \"../../../components/ui/Dropdown\";\n\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport config from '../../../config';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\n\nexport const LCListEntry = ({setChange, toChange, employee, setEmployees, bank_id, edit}) => {\n    const options = ['Authorized', 'Unauthorized'];\n    const [index, setIndex] = useState(null);\n\n        useEffect(() => {\n            console.log(\"dropdown use effect\")\n        for (let changeItem of toChange) {\n            if (changeItem.id === employee.employee.id) {\n                setIndex(options.indexOf(changeItem.authField));\n                return;\n            }\n        }\n        // otherwise check the employee value that was already passed in\n        for (let authItem of employee.employee.authorizedBanks) {\n            if (authItem.bank.id === bank_id) {\n                setIndex(options.indexOf(authItem.status));\n                return;\n            }\n        }\n            setIndex(1);\n    }, [setIndex, toChange, index]);\n\n\n    const handleChange = (item) => {\n        for (let changeItem of toChange) {\n            // check if it has already been changed once and should just change\n            if (changeItem.id === employee.employee.id) {\n                changeItem.authField = item;\n                let newList = toChange;\n                setChange(newList);\n                setIndex(options.indexOf(item));\n                return;\n            }\n        }\n        // otherwise add it to the change list\n        let newList = toChange;\n        newList.push({id: employee.employee.id, authField: item});\n        setChange(newList);\n        setIndex(options.indexOf(item));\n        return;\n    }\n\n    return (\n            <ListEntryWrapper>\n                <ListEntryField>{employee.employee.name}</ListEntryField>\n                <ListEntryField>{employee.employee.email}</ListEntryField>\n                <ListEntryField>{edit ?\n                    <Dropdown items={options} onChange={item => handleChange(item)}\n                              selectedIndex={index}/>\n                              : options[index]}</ListEntryField>\n            </ListEntryWrapper>\n    )\n}\n\n// const Financials = ({client}) => {\n//     const [cashFlow, setCashFlow] = useState(parseFloat(client.annualCashflow).toFixed(2));\n//    const  [balanceAvailable, setBalanceAvailable] = useState(parseFloat(client.balanceAvailable).toFixed(2));\n//\n//     console.log(client);\n//     return (\n//         <BasicLayout\n//             title={\"Financials\"}\n//             isLoading={!client}\n//             style = {{display: \"inline\"}}>\n//             {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n//\n//             <ListEntryWrapper>\n//                 <ListEntryField>Annual Cash Flow </ListEntryField>\n//                 <ListEntryField>${cashFlow}</ListEntryField>\n//             </ListEntryWrapper>\n//             <ListEntryWrapper>\n//                 <ListEntryField>Balance Avaialable</ListEntryField>\n//                 <ListEntryField>${balanceAvailable}</ListEntryField>\n//             </ListEntryWrapper>\n//\n//         </BasicLayout>\n//     )\n//\n// }\nconst AuthorizedEmployees = ({client, user}) => {\n    const [employees, setEmployees] = useState([]);\n    const [edit, setEdit] = useState(false);\n    const bank_id = get(user, ['bank', 'id']);\n    const [toChange, setChange] = useState([]);\n\n    useEffect(() => {\n        console.log(\"authorized use effect\")\n        makeAPIRequest(`/business/${client.id}/${bank_id}/authorized_employees/`).then(json => {\n            setEmployees(json)\n        })\n    }, [client.id, bank_id])\n\n    // have a refresh with an await with the fetch... and then reset the change in the LCListEntry\n\n    function handleSave() {\n        for (let changeItem of toChange) {\n            makeAPIRequest(`/business/${changeItem.id}/${bank_id}/${changeItem.authField}/`, 'PUT')\n                .then(json => {\n                }).catch((error) => {console.log(error)})\n        }\n        window.location.reload(false);\n        // setEdit(false);\n        // setChange([]);\n    }\n\n    return (\n        <BasicLayout\n            title={\"Authorized Employees\"}\n            isLoading={!employees}\n            style = {{display: \"inline\"}}>\n            {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n            <div>\n                <ListEntryWrapper header>\n                    <ListEntryField>Employee</ListEntryField>\n                    <ListEntryField>Email</ListEntryField>\n                    <ListEntryField>Authorized</ListEntryField>\n                    {edit ? <div style = {{position: \"relative\"}}>\n                           <Button onClick={() => handleSave()}style = {{margin: 10}}>Save</Button>\n                            <Button onClick={() => {\n                                setEdit(false)\n                                setChange([]);\n                            }}>Cancel</Button></div> :\n                    <FontAwesomeIcon icon={faEdit} onClick={() => setEdit(true)}  style={{ padding: \"0 10px\", cursor: \"pointer\"}} />}\n\n                </ListEntryWrapper>\n            </div>\n                    {employees.map(employee => <LCListEntry toChange = {toChange} setChange={setChange} employee={employee} setEmployees = {setEmployees} bank_id={bank_id} key={employee.email} edit={edit}/>)}\n\n            {employees.length === 0 ? <center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>This Business has no Employees</center> : null}\n        </BasicLayout>\n    )\n}\n\nconst ManageClientFeed = ({ match }) => {\n    useAuthentication(`/bank/lcs/client/${match.params.clientid}`);\n    const [user] = useContext(UserContext);\n    const [client, setClient] = useState(null);\n    useEffect(() => {\n        makeAPIRequest(`/business/${match.params.clientid}/`)\n            .then(json => setClient(json))\n    }, [match.params.clientid])\n    const title = client ? `All LCs for ${client.name}` : `All LCs for Client #${match.params.clientid}`;\n    return (\n    <Fragment>\n    <LCFeed\n        title={title}\n        url={`/lc/by_client/${match.params.clientid}/`}\n        user={user}\n        hideSearch\n    />\n        {client ?\n            <AuthorizedEmployees\n                client={client}\n                user={user}\n            /> : null}\n        {/*{client ? <Financials client = {client} /> : null}*/}\n\n    </Fragment>\n    )\n}\n\nexport default ManageClientFeed\n","import React, {useState} from 'react';\nimport {BrowserRouter as Router, Route, Switch, Redirect} from 'react-router-dom';\n\nimport GlobalStyle, {CSSReset} from './GlobalStyle'\nimport HomePage from './pages/HomePage/HomePage';\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport Nav from './components/Nav';\nimport {UserContext} from './utils/auth';\nimport BankSignUpPage from './pages/bank/BankSignUpPage';\nimport BankInvitePage from './pages/bank/BankInvitePage';\nimport BankManageAccountPage from './pages/bank/BankManageAccountPage';\nimport BankLCAppFeedPage from './pages/bank/feeds/BankLCAppFeedPage';\nimport BankLiveLCFeedPage from './pages/bank/feeds/BankLiveLCFeedPage';\nimport BankClientFeedPage from './pages/bank/feeds/BankClientFeedPage';\nimport BankLCFeedPage from './pages/bank/feeds/BankLCFeedPage';\nimport BankLCFeedPageByClient from './pages/bank/feeds/BankLCFeedPageByClient';\nimport LCViewPage from './pages/LCViewPage/LCViewPage';\nimport BankEmployeeSignUpPage from './pages/bank/BankEmployeeSignUpPage';\nimport BankLCAppPage from './pages/bank/BankLCAppPage';\nimport BusinessSignUpPage from './pages/business/BusinessSignUpPage';\nimport BusinessInvitePage from './pages/business/BusinessInvitePage';\nimport BusinessManageAccountPage from './pages/business/BusinessManageAccountPage';\nimport BusinessEmployeeSignUpPage from './pages/business/BusinessEmployeeSignUpPage';\nimport ClaimBeneficiaryStatusPage from './pages/business/beneficiary/ClaimBeneficiaryStatusPage';\nimport ClientLCFeedPage from './pages/business/feeds/ClientLCFeedPage';\nimport BeneficiaryLCFeedPage from './pages/business/feeds/BeneficiaryLCFeedPage';\nimport BankDirectoryPage from './pages/business/feeds/BankDirectoryPage';\nimport ManageClientFeed from \"./pages/bank/feeds/ManageClientFeed\";\n\n// TODO It seems like having the presentational nav in this mostly-container\n//      component is poor separation of concerns. Look into this.\nfunction App() {\n  const [user, setUser] = useState(null);\n  // const [user, setUser] = useState(null);\n  // TODO:\n  //<Route path=\"/business/lcs/:lcid\" component={BusinessLCViewPage} />\n  //<Route path=\"/business/lcs\" component={BusinessLCFeedPage} />\n\n  return (\n    <UserContext.Provider value={[user, setUser]}>\n      <Router>\n        <CSSReset/>\n        <GlobalStyle/>\n        <Nav user={user} setUser={setUser}/>\n        <Switch>\n          <Route path=\"/create\"/>\n          <Route path=\"/manage\"/>\n          <Route path=\"/bank/register/:bankid\" component={BankEmployeeSignUpPage}/>\n          <Route path=\"/bank/register\" component={BankSignUpPage}/>\n          <Route path=\"/bank/invite\" render={props => user && user.business ? <Redirect to={\"/business/invite\"}/> :\n            <BankInvitePage {...props}/>}/>\n          <Route path=\"/bank/account\" render={props => user && user.business ? <Redirect to={\"/business/account\"}/> :\n            <BankManageAccountPage {...props}/>}/>\n          <Route path=\"/lc/:lcid\" component={LCViewPage}/>\n            <Route path=\"/bank/lcs/clients\" render ={props => user && user.business ? <Redirect to={\"/\"}/> :\n                <BankClientFeedPage {...props}/>} />\n          <Route path=\"/bank/lcs/client/:clientid\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n            <BankLCFeedPageByClient {...props}/>}/>\n          <Route path=\"/bank/lcs/live\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n            <BankLiveLCFeedPage {...props}/>}/>\n          <Route path=\"/bank/lcs/apps\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n            <BankLCAppFeedPage {...props}/>}/>\n          <Route path=\"/bank/lcs\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n            <BankLCFeedPage {...props}/>}/>\n          <Route path=\"/bank/:bankid/application\"\n                 render={props => user && user.bank ? <Redirect to={\"/\"}/> : <BankLCAppPage {...props}/>}/>\n          <Route path = \"/bank/client/:clientid\" render ={props => user && user.business ? <Redirect to={\"/\"}/> :\n             <ManageClientFeed {...props}/>} />\n          <Route path=\"/business/register/:businessid\" component={BusinessEmployeeSignUpPage}/>\n          <Route path=\"/business/register\" component={BusinessSignUpPage}/>\n          <Route path=\"/business/invite\" render={props => user && user.bank ? <Redirect to={\"/bank/invite\"}/> :\n            <BusinessInvitePage {...props}/>}/>\n          <Route path=\"/business/account\" render={props => user && user.bank ? <Redirect to={\"/bank/account\"}/> :\n            <BusinessManageAccountPage {...props}/>}/>\n          <Route path=\"/business/claimBeneficiary/:lcid\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <ClaimBeneficiaryStatusPage {...props}/>}/>\n          <Route path=\"/business/lcs/client/\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <ClientLCFeedPage {...props}/>}/>\n          <Route path=\"/business/lcs/beneficiary/\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <BeneficiaryLCFeedPage {...props}/>}/>\n          <Route path=\"/business/lcs/\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <ClientLCFeedPage {...props}/>}/>\n          <Route path=\"/banks\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <BankDirectoryPage {...props}/>}/>\n          <Route path=\"/login\" component={LoginPage}/>\n          <Route path=\"/\" component={HomePage}/>\n        </Switch>\n      </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/logo.980300c8.png\";"],"sourceRoot":""}