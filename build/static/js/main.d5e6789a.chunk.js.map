{"version":3,"sources":["GlobalStyle.js","utils/api.js","utils/auth.js","pages/HomePage/HomePage.js","components/ui/StatusMessage.js","config.js","components/BasicLayout.js","pages/LoginPage/LoginPage.js","components/Nav.js","components/ui/Button.js","pages/bank/BankSignUpPage.js","pages/bank/BankInvitePage.js","pages/bank/BankManageAccountPage.js","pages/bank/feeds/LCFeed.js","pages/bank/feeds/BankLCAppFeedPage.js","pages/bank/feeds/BankLiveLCFeedPage.js","pages/bank/feeds/ClientFeed.js","pages/bank/feeds/BankClientFeedPage.js","pages/business/feeds/BusinessLCFeed.js","pages/bank/feeds/BankLCFeedPage.js","pages/bank/feeds/BankLCFeedPageByClient.js","components/lc/LCView.js","pages/LCViewPage/Pdf.js","pages/LCViewPage/Panel.js","pages/LCViewPage/DocumentaryRequirements.js","components/ui/Modal.js","pages/LCViewPage/ComplianceChecks.js","components/ui/Dropdown.js","pages/LCViewPage/LCViewPage.js","pages/bank/BankEmployeeSignUpPage.js","components/ui/ResizableScreenDiv.js","components/ui/RouteBlockingModal.js","pages/bank/BankLCAppPage.js","pages/business/BusinessSignUpPage.js","pages/business/BusinessInvitePage.js","pages/business/BusinessManageAccountPage.js","pages/business/BusinessEmployeeSignUpPage.js","pages/business/beneficiary/ClaimBeneficiaryStatusPage.js","pages/business/feeds/ClientLCFeedPage.js","pages/business/feeds/BeneficiaryLCFeedPage.js","pages/business/feeds/BankDirectoryPage.js","pages/bank/feeds/ManageClientFeed.js","pages/ProfilePage/BankProfile.js","pages/ProfilePage/BusinessProfile.js","pages/ProfilePage/BankViewProfile.js","pages/bank/feeds/BankLiveLCFeedPageAdvisor.js","pages/bank/feeds/BankLCFeedPageAdvisor.js","pages/bank/feeds/BankLCAppFeedPageAdvisor.js","App.js","index.js","images/logo.png"],"names":["CSSReset","createGlobalStyle","GlobalStyle","objectToSnakeCase","object","newObject","Array","isArray","map","Object","keys","forEach","key","snakeCase","console","error","objectToCamelCase","camelCase","makeAPIRequest","url","requestType","params","returnFullResponse","a","requestURL","fetchParams","method","body","JSON","stringify","fetch","response","status","Promise","reject","json","postFile","file","form","FormData","append","headers","Headers","logIn","email","password","Error","setSessionExpiry","Date","sessionExpiry","getTime","userEmployee","employer","business","usersEmployer","bank","logOut","setUser","UserContext","createContext","expiry","localStorage","setItem","useAuthentication","nextRoute","history","useHistory","useContext","user","useEffect","now","expirySeconds","getItem","getSessionExpiry","then","catch","err","push","HomePage","to","StatusMessage","styled","div","props","config","logo","accentColor","Margin","Title","h1","Subtitle","h2","RightAlignedLink","NavLink","Content","Status","BasicLayout","title","subtitle","link","linktext","isLoading","children","marginStyle","statusComponent","style","size","color","loading","css","LoginForm","LoginErrorMessage","showError","HelpEmail","FormInputWrapper","FormInputTitle","h3","StyledFormInput","input","FormFooter","LogInButton","button","FormInput","value","type","onChange","href","LoginPage","location","useState","setEmail","setPassword","setError","get","onSubmit","e","preventDefault","target","onKey","icon","faArrowRight","marginLeft","StyledNav","nav","StyledNavLink","LoginMenu","StyledLoginLink","StyledProfileLink","ProfileWrapper","ProfileLinkWrapper","show","DropDownWrapper","DropDownHeader","DropDownLink","DropDownNavLink","ProfileDropDown","name","onClick","log","LoginSection","showingDropdown","setShowingDropdown","wrapperEl","useRef","current","focus","ref","onBlur","faUserCircle","fontSize","NavLogo","img","attrs","src","alt","Nav","StyledButton","unselected","disabled","Button","showArrow","arrowStyle","SignUpForm","Form","Field","StyledErrorMessage","ErrorMessage","requiredMsg","signUpFormValidationSchema","shape","newBankName","string","required","newBankCountry","newBankAddress","newBankEmail","newBankWebsite","matches","passwordConfirm","oneOf","component","BankSignUpPage","fontStyle","initialValues","values","setSubmitting","validationSchema","isSubmitting","StyledForm","FormWrapper","StyledField","ErrorMessageWrapper","ButtonHolder","BankInvitePage","message","setStatus","id","BankManageAccountPage","StyledLink","Link","ListEntryField","li","ListEntryWrapper","ul","header","Search","SearchWrapper","Filter","lcs","setShownLcs","filter","setFilter","callback","parameters","delay","currentTimeout","clearTimeout","setTimeout","useDebouncedEffect","lc","client","toLowerCase","includes","display","alignItems","faSearch","padding","fontWeight","LCListEntry","applicationDate","draftPresentationDate","creditAmt","LCFeed","hideSearch","currentlyOnIssuer","switchLink","currentlyOnAdvising","clientPage","livePage","setLcs","shownLcs","bankid","length","marginTop","BankLCAppFeedPage","ClientFeed","setClients","shownClients","setShownClients","BankClientFeedPage","BusinessLCFeed","currentlyOnClient","businessid","match","clientid","setClient","paramsclientid","TitleWrapper","LCTitle","LCView","userType","faArrowLeft","paddingRight","pdfjs","GlobalWorkerOptions","workerSrc","pdfjsWorker","PdfComponent","canvasRef","setIsLoading","loadingTask","getDocument","promise","pdf","getPage","page","viewport","getViewport","scale","canvas","context","getContext","height","width","renderContext","canvasContext","renderTask","render","fetchPdf","window","innerHeight","border","BasicView","PanelTitle","highlight","PanelBody","PanelTitleAlt","Panel","expand","setExpand","editing","setEditing","canEdit","expandEnabled","clickable","faPencilAlt","faChevronDown","faChevronRight","cursor","ModalBackground","ModalWrapper","ModalFlex","ModalLeftColumn","ModalRightColumn","ModalButtonsWrapper","MODAL_TYPES","Modal","docReq","hideModal","refreshLc","setType","justifyContent","ViewModal","lcid","digitalDocReq","setDigitalDocReq","data","undefined","sellerName","fields","sellerAddress","indicatedDateOfShipment","countryOfExport","reasonForExport","consigneeName","buyerName","consigneeAddress","buyerAddress","goodsDescription","unitOfMeasure","unitsPurchased","unitPrice","currency","hsCode","countryOfOrigin","linkToSubmittedDoc","DocReqTitle","docName","field","SmallHeader","marginBottom","margin","textDecoration","Pdf","InputWrapper","QuestionText","Asterisk","span","ButtonWrapper","selected","BasicInput","question","useField","meta","touched","questionText","NumberInput","AllRadiosWrapper","AllCheckboxesWrapper","TYPE_TO_COMPONENT","text","decimal","number","boolean","helpers","setValue","handleClick","val","radio","options","parse","opt","date","checkbox","i","indexOf","slice","concat","faCheckSquare","marginRight","TYPE_TO_DEFAULT","toISOString","TYPE_TO_VALIDATION_SCHEMA","nullable","array","of","CreateModal","setFields","suggestedFields","setSuggestedFields","d","s","schemaObj","q","initialValue","Set","has","enableReinitialize","app","entries","kv","Component","UploadModal","setIsSubmitting","flexDirection","maxWidth","FileUpload","uploadFile","files","DocumentaryEntryFlex","DocumentaryEntryWrapper","DocReqDate","DocReqStatus","ExpandedDocumentaryEntry","label","DocumentaryEntryEvaluation","DocumentaryRequirement","documentaryRequirement","beneficiarySelectedAccess","live","showModal","advisingAccess","dueDate","requiredValues","rejected","expanded","setExpanded","comments","setComments","minWidth","approve","complaints","DocumentaryRequirements","isModalShowing","setIsModalShowing","modalDocReq","setModalDocReq","modalType","useModal","docReqs","documentaryrequirementSet","satisfied","confirmationMeans","creditExpiryLocation","advisingBank","beneficiarySelectedDocReq","Background","Container","ActionButton","CancelButton","onCancel","onSelect","containerStyle","onShow","selectDisabled","submitFormik","selectButton","cancelButton","scrollTop","document","documentElement","parseInt","top","position","overflowY","isNaN","resetScroll","event","stopPropagation","textarea","RequestClarificationModal","initialReason","modal","setModal","setLc","beneficiary","comment","setComment","textAreaRef","action","holdStatus","updatedLc","paddingTop","RejectionModal","rejectionReason","setRejectionReason","titleCase","exceptions","allCaps","split","substr","ind","wordIndex","word","toUpperCase","charAt","substring","join","SanctionInfo","sanction","paddingBottom","paddingLeft","onContextMenu","open","aliases","alias","addresses","address","addressGroup","country","addressToString","ComplianceCheck","initialRequestComment","initialRejectionReason","errorMessage","taskedClientEmployees","issuer","reload","duration","CompanyOFACCheck","sanctions","CountrySanctionCheck","beneficiaryCountry","clientCountry","countrySanctionMessage","rel","ImportLicenseCheck","licenseSanctionMessage","BoycottLanguageCheck","boycotts","boycottSourceIndex","boycottSource","source","boycottSourceToReadable","indices","boycott","startIndex","otherInstructions","phrase","sort","b","cmps","indexes","index","cmp","boycottToReadable","DueAuthorization","employee","authList","authItem","searchStatus","authorizedBanks","BelievablePriceOfGoods","goodsInfo","parseFloat","range","Math","max","mean","standardDeviation","credit","htsCode","purchasedItem","ComplianceChecks","Option","highlighted","Dropdown","items","selectedIndex","menu","setMenu","flex","onOutsideClick","borderRight","wordBreak","alignSelf","backgroundColor","maxHeight","zIndex","item","faCheck","visibility","SearchableSelect","questionKey","handleChange","highlightedItemIndex","setHighlightedItemIndex","autoComplete","onKeyDown","keyCode","itemIndex","onMouseDown","SearchableSelectHTS","hts","htsno","description","OutsideAlerter","wrapperRef","handleClickOutside","contains","addEventListener","removeEventListener","TwoColumnHolder","DocReqFieldWrapper","StyledDocReqField","LeftColumn","AdvisorTitle","ExpandedAdvisor","RightColumn","OrderStatusWrapper","PartyDisplayMessage","APPROVALS_TO_STATE","issuerRejected","canApprove","clientIssuer","bene","issuerBene","OrderStatusMessage","stateName","OrderStatus","totalCredit","approvals","handleClickApprove","approvedCreditAmt","approvedCredit","model","cashSecure","allApproved","every","paidOut","drawn","requested","OrderNotes","latestVersionNotes","ClientInformationWrapper","HistoryOrder","BankInfo","bankId","useFormikContext","autocompleteTimeout","suggested","setSuggested","timeoutId","AdvisingBank","type3Bank","advisingModal","setAdvisingModal","submitError","setSubmitError","faPlus","float","IssuerBank","ClientInformation","clientOrders","setClientOrders","order","BigStatsWrapper","BigNumberTitle","BigNumber","AnalysisWrapper","AnalysisBody","AnalysisDetail","pop","Financials","creditOverflow","lcCredit","issuerApproved","annualCashflow","balanceAvailable","ODColumn","ODValue","StyledInput","StyledPopupInput","nested","YesNoInput","SubmitWrapper","SubmitSection","OrderDetail","units","errorClicked","Input","opacity","OrderDetails","showExtra","setShowExtra","details","lateChargeDate","currencyDenomination","expirationDate","creditAmtVerbal","extraDetails","creditDeliveryMeans","draftsInvoiceValue","creditAvailability","partialShipmentAllowed","transshipmentAllowed","merchChargeLocation","chargeTransportationLocation","namedPlaceOfDestination","arrangingOwnInsurance","merchDescription","transferableToClient","transferableToBeneficiary","lcValues","newLc","pair","k","v","scrollToAndHighlight","scrollTimeout","selector","parentElement","querySelector","originalBackgroundColor","getComputedStyle","scrollHandler","animate","scrollIntoView","behavior","block","CreditOverflowPopup","0","1","selectedButtonIndices","setSelectedButtonIndex","prevSelectedButtonIndices","usePrevious","minimumIncrease","toString","increaseApprovedCreditValue","setIncreaseApprovedCreditValue","requestMoreCashValue","setRequestMoreCashValue","submissionAttempts","setSubmissionAttempts","increaseApprovedCreditRef","requestMoreCashRef","setFieldValue","overflow","handleError","_","isEqual","Comments","setResponse","moment","format","authorType","commentIndex","respondable","textAlign","LCViewPage","setTotalCredit","BankEmployeeSignUpPage","ResizableScreenDiv","minTop","containerRef","setTop","getBoundingClientRect","RouteBlockingModal","when","modalVisible","setModalVisible","lastLocation","setLastLocation","confirmedNavigation","setConfirmedNavigation","pathname","nextLocation","ClickableText","SectionSubtitle","StyledDiv","NestedButtonWrapper","ButtonVerticalWrapper","fitWidth","StyledSection","disabledTooltip","changeQuestionBackgroundTemp","scrollY","offsetTop","clientHeight","offsetHeight","parentKey","StyledDocReqDiv","CommonNestedTypeComponent","keyName","AdvisingBankInput","parent","child","BeneficiaryNameInput","lcApp","setAppliedTemplate","appliedTemplate","onBeneficiarySelect","Fragment","SuggestTemplates","setValues","autofillTemplateTimeout","beneficiary_name","purchased_item","paramString","result","StyledIcon","faTimes","template","loadTemplateAnswers","selectedTemplate","templateName","FontAwesomeIcon","option","answer","some","piece","markDisabled","questions","setLCApp","validateForm","changed","questionsCopy","childQ","dependency","parentQuestion","find","potential","findAndSetSectionsError","errors","setSectionsError","erroredAndTouchedSections","section","scrollToFirstErrorOnSection","selectedSection","erroredQuestionsOnSelectedSection","scrollTo","ErrorFocus","setTouched","prevErrors","prevTouched","prevValues","prevSelectedSection","prevIsSubmitting","keyToEffect","scroll","sectionsErrors","effects","add","effect","beneficiaryAutocompleteTimeout","useSuggest","setUseSuggest","searchHTSCodes","results","inputComponent","Checkbox","checked","ObjectNestedTypeComponent","array_of_objs","getOptions","childQuestion","includeLast","valueOptionsSet","valObj","curInd","settings","obj","faTrash","indexToRemove","valueIndex","curVal","ArrayNestedTypeComponent","addition","dropdown","multiple_choice_with_other","createChildrenShape","questionType","isEmpty","LoadTemplate","setSelectedTemplate","lcTemplates","setLCTemplates","fetchTemplates","gridAutoRows","gridTemplateColumns","SaveTemplate","newTemplateValue","setNewTemplateValue","selectedSaveButton","setSelectedSaveButton","saveTemplateError","setSaveTemplateError","submitCount","setSubmitCount","templateNameSet","setTemplateNameSet","integrityError","setIntegrityError","trim","overwrite","template_name","res","createdTemplate","unsavedChanges","templateField","templateValue","emptyAndChanged","currentValue","Refresh","onbeforeunload","BankLCAppPage","persistedLcApp","selectedSectionIndex","setSelectedSectionIndex","sections","setSections","setInitialValues","sectionSet","initial","createDefault","schema","createValidationSchema","removeItem","handleSubmit","erroredSectionSet","whiteSpace","flexGrow","newBusinessName","newBusinessAddress","BusinessSignUpPage","BusinessInvitePage","BusinessManageAccountPage","BusinessEmployeeSignUpPage","ClaimMessage","ClaimBeneficiaryStatusPage","init","setSuccess","msg","clearStatus","useStatus","ClientLCFeedPage","businessname","BeneficiaryLCFeedPage","banks","setShownBanks","BankListEntry","BankDirectory","setBanks","shownBanks","BankDirectoryPage","setChange","toChange","bank_id","setEmployees","edit","setIndex","changeItem","authField","AuthorizedEmployees","employees","ManageClientFeed","BankProfile","Header","borderRadius","website","BusinessProfile","BankViewProfile","setBank","BankLiveLCFeedPageAdvisor","App","Provider","path","BankLCFeedPageByClient","BankLiveLCFeedPage","BankLCAppFeedPageAdvisor","BankLCFeedPageAdvisor","BankLCFeedPage","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d5e6789a.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nexport const CSSReset = createGlobalStyle`\n/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n`;\n\nconst GlobalStyle = createGlobalStyle`\n  html {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n  body {\n    background-color: #f6faff;\n  }\n`;\n\nexport default GlobalStyle;","import { setSessionExpiry } from \"./auth\";\nimport { snakeCase, camelCase } from \"lodash\";\n// import history from \"../history\";\n\nconst API_BASEURL = \"/api\";\n\nexport const objectToSnakeCase = object => {\n  let newObject = {};\n  if (typeof object !== \"object\" || object === null) {\n    return object;\n  } else if (Array.isArray(object)) {\n    return object.map(objectToSnakeCase);\n  } else if (typeof object === \"object\" && object !== null) {\n    Object.keys(object).forEach(key => {\n      newObject[snakeCase(key)] = objectToSnakeCase(object[key]);\n    });\n  } else {\n    console.error(\"objectToSnakeCase failed - unrecognized type.\");\n  }\n  return newObject;\n};\n\nexport const objectToCamelCase = object => {\n  let newObject = {};\n  if (typeof object !== \"object\" || object === null) {\n    return object;\n  } else if (Array.isArray(object)) {\n    return object.map(objectToCamelCase);\n  } else if (typeof object === \"object\" && object !== null) {\n    Object.keys(object).forEach(key => {\n      newObject[camelCase(key)] = objectToCamelCase(object[key]);\n    });\n  } else {\n    console.error(\"objectToCamelCase failed - unrecognized type.\");\n  }\n  return newObject;\n};\n\nexport const makeAPIRequest = async (\n  url,\n  requestType,\n  params,\n  returnFullResponse\n) => {\n  const requestURL = API_BASEURL + url;\n  const fetchParams = {\n    method: requestType,\n  };\n  if (requestType && requestType !== \"GET\") {\n    fetchParams.body = JSON.stringify(objectToSnakeCase(params));\n  }\n  const response = await fetch(requestURL, fetchParams);\n  if (response.status === 401 || response.status === 403) {\n    // history.push(\"/login\");\n    // // TODO show this error to the user\n    // return Promise.reject(\n    //   \"Error: Attempted to make unauthenticated API request. Redirecting to login.\"\n    // );\n  } else if (response.status < 200 || response.status >= 400) {\n    // TODO show this error to the user\n    if (returnFullResponse) {\n      return response;\n    } else {\n      return Promise.reject(response);\n    }\n  }\n\n  if (returnFullResponse) return response;\n  return objectToCamelCase(await response.json());\n};\n\nexport const postFile = async (url, file, returnFullResponse) => {\n  const requestURL = API_BASEURL + url;\n  const form = new FormData();\n  form.append(\"file\", file);\n  const headers = new Headers();\n  headers.append(\"Content-Type\", \"application/pdf\");\n  const response = await fetch(requestURL, {\n    method: \"POST\",\n    body: form,\n    headers\n  });\n  if (response.status === 401 || response.status === 403) {\n    // history.push(\"/login\");\n    // // TODO show this error to the user\n    // return Promise.reject(\n    //   \"Error: Attempted to make unauthenticated API request. Redirecting to login.\"\n    // );\n  } else if (response.status < 200 || response.status >= 400) {\n    // TODO show this error to the user\n    if (returnFullResponse) {\n      return response;\n    } else {\n      return Promise.reject(response);\n    }\n  }\n\n  if (returnFullResponse) return response;\n  return objectToCamelCase(await response.json());\n};\n\nexport const logIn = async (email, password) => {\n  const requestURL = \"/api/user/login/\";\n  const response = await fetch(requestURL, {\n    method: \"POST\",\n    body: JSON.stringify({ email, password })\n  });\n  if (response.status !== 200) {\n    throw new Error(\n      \"Error logging in: recieved status code \" + response.status\n    );\n  }\n  const json = objectToCamelCase(await response.json());\n  setSessionExpiry(new Date(json.sessionExpiry).getTime());\n  if (json.userEmployee.employer)\n    return { ...json.userEmployee, business: json.usersEmployer };\n  else return { ...json.userEmployee, bank: json.usersEmployer };\n};\n\nexport const logOut = async setUser => {\n  const requestURL = \"/api/user/logout/\";\n  const response = await fetch(requestURL, {\n    method: \"POST\"\n  });\n  if (response.status !== 200) {\n    console.error(\"Error logging out: recieved status code \" + response.status);\n  }\n  setSessionExpiry(null);\n  setUser(null);\n  // TODO figure out why this doesn't work\n  // history.push(\"/login\");\n};\n","import { useEffect, createContext, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeAPIRequest } from \"./api\";\n\nexport const UserContext = createContext([null, () => null]);\nconst SESSION_EXPIRY = \"session_expiry\";\n\nexport const getSessionExpiry = () => {\n  const now = new Date();\n  const expirySeconds = localStorage.getItem(\"session_expiry\");\n  if (expirySeconds && now.getTime() > expirySeconds) {\n    return null;\n  }\n  return localStorage.getItem(SESSION_EXPIRY);\n};\n\nexport const setSessionExpiry = expiry => {\n  // TODO change this expiry date to be consistent with the backend\n  localStorage.setItem(SESSION_EXPIRY, expiry);\n};\n\nexport const useAuthentication = nextRoute => {\n  const history = useHistory();\n  let [user, setUser] = useContext(UserContext);\n\n  useEffect(() => {\n    if (user) return;\n    const sessionExists = getSessionExpiry();\n    if (!sessionExists) {\n      history.push(\"/login\", { nextRoute });\n    } else {\n      makeAPIRequest(\"/user/this_users_info/\")\n        .then(json => {\n          if (json.userEmployee.employer)\n            setUser({ ...json.userEmployee, business: json.usersEmployer });\n          else setUser({ ...json.userEmployee, bank: json.usersEmployer });\n        })\n        .catch(err => {\n          console.error(err);\n          history.push(\"/login\", { nextRoute });\n        });\n    }\n  }, [user, setUser, history, nextRoute]);\n};\n","import React, { useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useAuthentication, UserContext } from \"../../utils/auth\";\n\nconst HomePage = () => {\n  useAuthentication('/');\n  const [user] = useContext(UserContext);\n\n  return (\n    user ? <Redirect to={`/${user.business ? \"business\" : \"bank\"}/lcs`}/> : <div/>\n  );\n};\n\nexport default HomePage;\n","import styled from \"styled-components\";\n\nconst StatusMessage = styled.div`\n  ${props => props.status && `\n    padding: 10px;\n  `}\n  ${props => !props.status && `\n    visibility: hidden;\n  `}\n  border-radius: 5px;\n  max-width: 400px;\n  overflow: scroll;\n  margin: 40px auto auto;\n  background-color: ${props => props.status === `error` ? `#dc3545` : props.status === `info` ? `#7dd8ff` : `#4bb759`};\n  color: #fff;\n  line-height: 1.25;\n`;\n\nexport default StatusMessage;\n","import logo from \"./images/logo.png\"\n\nconst config = {\n  logo,\n  accentColor: 'rgb(27, 108, 255)',\n};\n\nexport default config;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MoonLoader from \"react-spinners/MoonLoader\";\nimport StatusMessage from \"./ui/StatusMessage\";\nimport { css } from \"@emotion/core\";\n\nimport config from '../config';\n\nconst Margin = styled.div`\n  margin: 80px auto 40px;\n  max-width: 1000px;\n`;\n\nconst Title = styled.h1`\n  border-bottom: 1px solid #cdcdcd;\n  padding: 10px 0;\n  font-size: 24px;\n`;\n\nconst Subtitle = styled.h2`\n  margin-top: 40px;\n  text-align: center;\n  color: #555;\n`;\n\nconst RightAlignedLink = styled(NavLink)`\n  float : right;\n  padding: 10px 0;\n  color: #00d;\n  line-height: 1.25;\n`;\n\nconst Content = styled.div`\n  margin: 40px 0 0;\n`;\n\nconst Status = styled.div`\n  position: sticky;\n  bottom: 0;\n`;\n\nconst BasicLayout = ({ title, subtitle, link, linktext, isLoading, children,\n  marginStyle, statusComponent }) => {\n  return (\n    <Margin style={marginStyle}>\n      <Title>{title}</Title>\n      {subtitle && <Subtitle>{subtitle}</Subtitle>}\n      {link && <RightAlignedLink to={link}>{linktext}</RightAlignedLink>}\n      <Content>\n        {isLoading ? (\n          <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          />\n        ) : (\n          children\n        )}\n      </Content>\n      <Status>\n        {statusComponent}\n      </Status>\n    </Margin>\n  );\n};\n\nexport default BasicLayout;\n","import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { get } from \"lodash\";\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { logIn } from \"../../utils/api\";\nimport { UserContext } from \"../../utils/auth\";\nimport config from '../../config';\n\nconst LoginForm = styled.form`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst LoginErrorMessage = styled.div`\n  ${props => props.showError && `\n    padding: 10px 10px;\n  `}\n  border-radius: 5px;\n  background-color: #dc3545;\n  color: #fff;\n`\n\nconst HelpEmail = styled.a`\n  font-size: 14px;\n  font-style: italic;\n  margin: 0 10px 10px;\n`\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled.input`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\n// TODO revisit styles? not super happy with how this looks\n// also it says \"Log In\" 3 times on this page... we get it\nconst LogInButton = styled.button`\n  cursor: pointer;\n  transition: color 0.3s;\n  margin: 10px 5px;\n  border: none;\n  font-size: 16px;\n  background-color: #fff;\n\n  &:hover {\n    color: ${config.accentColor};\n  }\n`;\n\nconst FormInput = ({ title, value, type, onChange }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>\n        {title}\n        {type === \"password\" && (<HelpEmail href=\"mailto:support@bountium.com\"> Need help?</HelpEmail>)}\n      </FormInputTitle>\n      <StyledFormInput type={type} value={value} onChange={onChange} />\n    </FormInputWrapper>\n  );\n};\n\nconst LoginPage = ({ history, location }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const setUser = useContext(UserContext)[1];\n  const nextRoute = get(location, \"state.nextRoute\");\n  const clickLogIn = (e) => {\n    e.preventDefault();\n    logIn(email, password)\n      .then((json) => setUser(json))\n      .then(() => history.push(nextRoute || \"/\"))\n      .catch(() => {\n        setError(\"❕ We can't seem to log you in right now.\");\n      });\n  };\n  return (\n    <BasicLayout title=\"Log In\">\n      <LoginForm onSubmit={clickLogIn}>\n        <FormInput\n          title=\"Email\"\n          type=\"text\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n        />\n        <FormInput\n          title=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n          onKey\n        />\n        <HelpEmail>\n          New Here? <Link to=\"/bank/register\">Create Account</Link>\n        </HelpEmail>\n        <FormFooter>\n        <LoginErrorMessage showError={error}>\n          {error}\n        </LoginErrorMessage>\n          <LogInButton type=\"submit\">\n            Log In\n            <FontAwesomeIcon\n              icon={faArrowRight}\n              size=\"lg\"\n              color={config.accentColor}\n              style={{ marginLeft: \"10px\" }}\n            />\n          </LogInButton>\n        </FormFooter>\n      </LoginForm>\n    </BasicLayout>\n  );\n};\n\nexport default LoginPage;\n","import React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { get } from \"lodash\";\n\n// TODO import different sized logos for performance\nimport config from \"../config\";\nimport { logOut } from \"../utils/api\";\n\nconst StyledNav = styled.nav`\n  display: flex;\n  align-items: center;\n  padding: 0 140px;\n  background-color: #fff;\n  min-height: 80px;\n  font-size: 14px;\n`;\n\nconst StyledNavLink = styled(NavLink)`\n  color: rgb(138, 138, 138);\n  margin-right: 40px;\n  text-decoration: none;\n  &.active {\n    color: #000;\n  }\n`;\n\nconst LoginMenu = styled.div`\n  margin-left: auto;\n  display: flex;\n`;\n\nconst StyledLoginLink = styled(NavLink)`\n  text-decoration: none;\n  color: #000;\n  transition: color 0.3s;\n\n  &:hover {\n    color: ${config.accentColor};\n  }\n`;\n\nconst StyledProfileLink = styled.a`\n  text-decoration: none;\n  color: #000;\n  transition: color 0.3s;\n  cursor: pointer;\n\n  &:hover {\n    color: ${config.accentColor};\n  }\n`;\n\nconst ProfileWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ProfileLinkWrapper = styled.button`\n  padding: 5px 10px;\n  border: 1px solid #fff;\n  border-radius: 5px;\n  background-color: #fff;\n  font-size: 14px;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }\n  transition: border 0.3s;\n  ${props => props.show && `border: 1px solid ${config.accentColor};`}\n`;\n\nconst DropDownWrapper = styled.div`\n  background-color: #fff;\n  min-width: 200px;\n  border-radius: 5px;\n  border: 1px solid #cdcdcd;\n  font-size: 14px;\n  padding: 10px;\n  opacity: 0;\n  transition: opacity 0.3s;\n  position: absolute;\n  top: 60px;\n  right: 50px;\n  ${props => props.show && `opacity: 1;`}\n`;\n\nconst DropDownHeader = styled.div`\n  color: ${config.accentColor};\n  font-size: 16px;\n  margin-bottom: 10px;\n  :not(:first-child) {\n    margin-top: 10px;\n  }\n`;\n\nconst DropDownLink = styled.div`\n  margin: 5px;\n  color: #000;\n  text-decoration: none;\n  border: none;\n\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst DropDownNavLink = styled(NavLink)`\n  margin: 5px;\n  color: #000;\n  text-decoration: none;\n  border: none;\n\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst ProfileDropDown = ({ user, setUser, show }) => {\n  const history = useHistory();\n  return (\n    <DropDownWrapper show={show}>\n      <DropDownHeader>\n        {user.bank\n          ? get(user, [\"bank\", \"name\"])\n          : get(user, [\"business\", \"name\"])}\n      </DropDownHeader>\n      {user.bank && <DropDownLink>View LC Application</DropDownLink>}\n      <DropDownNavLink to ={`${user.bank ? \"/bank/profile\" : \"/business/profile\"}`}>\n        View {user.bank ? \"Bank\" : \"Business\"} Profile (Coming soon)\n      </DropDownNavLink>\n      <DropDownHeader>{user.name}</DropDownHeader>\n      <DropDownNavLink to={`${user.bank ? \"/bank\" : \"/business\"}/account`}>\n        View Profile\n      </DropDownNavLink>\n      <DropDownLink\n        onClick={() => {\n          logOut(setUser)\n            .then(() => history.push(\"/login\"))\n            .catch(err => console.log(err));\n        }}\n      >\n        Log Out\n      </DropDownLink>\n    </DropDownWrapper>\n  );\n};\n\nconst LoginSection = ({ user, setUser }) => {\n  const [showingDropdown, setShowingDropdown] = useState(false);\n  const wrapperEl = useRef(null);\n  return (\n    <LoginMenu>\n      {user ? (\n        <ProfileWrapper>\n          <ProfileLinkWrapper\n            onClick={e => {\n              e.preventDefault();\n              setShowingDropdown(true);\n              wrapperEl.current.focus();\n            }}\n            ref={wrapperEl}\n            show={showingDropdown}\n            onBlur={() => setShowingDropdown(false)}\n          >\n            <StyledProfileLink>\n              {user.name}\n              <FontAwesomeIcon\n                icon={faUserCircle}\n                style={{ marginLeft: \"10px\", fontSize: \"16px\" }}\n              />\n            </StyledProfileLink>\n          </ProfileLinkWrapper>\n          <ProfileDropDown\n            user={user}\n            setUser={setUser}\n            show={showingDropdown}\n          />\n        </ProfileWrapper>\n      ) : (\n        <StyledLoginLink to=\"/login\">Log In</StyledLoginLink>\n      )}\n    </LoginMenu>\n  );\n};\n\nconst NavLogo = styled.img.attrs({ src: config.logo, alt: \"Bountium Logo\" })`\n  max-height: 50px;\n`;\n\nconst Nav = ({ user, setUser }) => {\n  return (\n    <StyledNav>\n      <StyledNavLink to=\"/\">\n        <NavLogo />\n      </StyledNavLink>\n      {user && (\n        <>\n          {user.business &&\n            <StyledNavLink to={`/banks/`}>\n              Apply for an LC\n            </StyledNavLink>\n          }\n          {user.business &&<StyledNavLink to={`/business/lcs/`}>\n            Manage your LCs and Applications\n          </StyledNavLink>}\n          {user.bank && <StyledNavLink to=\"/bank/lcs/apps\">\n            Review LC Applications\n          </StyledNavLink>}\n          {user.bank && <StyledNavLink to=\"/bank/lcs/live\">Manage Live LCs</StyledNavLink>}\n            {user.bank && <StyledNavLink to=\"/bank/lcs/clients\">Manage Clients </StyledNavLink>}\n        </>\n      )}\n      <LoginSection user={user} setUser={setUser} />\n    </StyledNav>\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\n\nimport config from '../../config';\n\nconst disabledBackgroundColor = `#888588`;\nconst disabledColor = `#f1ecec`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.unselected ? `#fff` : props.disabled ? disabledBackgroundColor : config.accentColor};\n  color: ${(props) => props.unselected ? config.accentColor : props.disabled ? disabledColor : `#fff`};\n  border-radius: 5px;\n  padding: 10px;\n  ${props => !props.disabled && `border: 1px solid ${config.accentColor};`}\n  font-size: 16px;\n  ${props => !props.disabled && `cursor: pointer;`}\n`;\n\nconst Button = ({ children, showArrow, arrowStyle, ...props }) => {\n  return (\n    <StyledButton {...props}>\n      {children}\n      {showArrow && (\n        <FontAwesomeIcon\n          icon={faArrowRight}\n          size=\"lg\"\n          color=\"#fff\"\n          style={{ marginLeft: \"10px\", ...arrowStyle }}\n        />\n      )}\n    </StyledButton>\n  );\n}\n\nexport default Button;\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { UserContext } from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\nimport { Link } from \"react-router-dom\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n    newBankName: string().required(requiredMsg),\n    newBankCountry: string().required(requiredMsg),\n    newBankAddress: string().required(requiredMsg),\n    newBankEmail: string().required(requiredMsg),\n    newBankWebsite: string(),\n  name: string().required(requiredMsg),\n  title: string().required(requiredMsg),\n  email: string().email('Please enter a valid email address.').required(requiredMsg),\n  password: string().required(requiredMsg).matches(\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string().required(requiredMsg)\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BankSignUpPage = ({ history }) => {\n  const setUser = useContext(UserContext)[1];\n  return (\n    <BasicLayout\n      title=\"Welcome! 🎉\"\n      subtitle={\n      <>\n      Get your team up & running with lightning-fast LC processing.\n      <br/><br/>\n      <span style={{fontStyle: 'italic'}}>Not a bank? </span>\n      <Link to=\"/business/register\">Register as a business</Link>\n      </>\n      }\n    >\n    <Formik\n      initialValues={{\n        newBankName: '', newBankCountry: '', newBankAddress: '', newBankEmail: '', newBankWebsite: '', name: '', title: '', email: '', password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(\"/bank/\", \"POST\", values)\n          .then((json) => {\n            setUser({ ...json.userEmployee, bank: json.usersEmployer });\n            history.push(\"/bank/invite\");\n          })\n          .then(() => setSubmitting(false));\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n      <FormInput\n          title=\"Bank Name\"\n          name=\"newBankName\"\n          type=\"text\"\n        />\n          <FormInput\n              title=\"Bank Country\"\n              name=\"newBankCountry\"\n              type=\"text\"\n          />\n          <FormInput\n              title=\"Bank Mailing Address\"\n              name=\"newBankAddress\"\n              type=\"text\"\n          />\n          <FormInput\n              title=\"Bank Primary Contact Email\"\n              name=\"newBankEmail\"\n              type=\"text\"\n          />\n\n          <FormInput\n              title=\"Bank Website (Optional)\"\n              name=\"newBankWebsite\"\n              type=\"text\"\n          />\n          <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Email\"\n          name=\"email\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n<Button showArrow disabled={isSubmitting}>\n  Sign Up\n</Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n};\n\nexport default BankSignUpPage;\n","import React, { useContext } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { object, string } from 'yup';\n\nimport Button from '../../components/ui/Button';\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { useAuthentication, UserContext } from '../../utils/auth';\nimport { makeAPIRequest } from '../../utils/api';\nimport styled from 'styled-components';\nimport { useState } from 'react';\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  max-width: 800px;\n  min-width: 400px;\n  margin: auto;\n  justify-content: center;\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst FormWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst validationSchema = object().shape({\n  email: string().email('Please enter a valid email address.').required('Please enter an email address.'),\n});\n\nconst StatusMessage = styled.div`\n  ${props => props.status && `\n    padding: 10px;\n  `}\n  border-radius: 5px;\n  max-width: 400px;\n  overflow: scroll;\n  margin: 40px auto auto;\n  background-color: ${props => props.status === `error` ? `#dc3545` : `#4bb759`};\n  color: #fff;\n`\n\nconst StyledField = styled(Field)`\n  border-radius: 5px;\n  border: 1px solid #cdcdcd;\n  font-size: 18px;\n  padding-left: 10px;\n`\n\nconst ErrorMessageWrapper = styled.div`\n  margin: auto;\n  max-width: 400px;\n  color: #dc3545;\n  margin-top: 10px;\n`\n\nconst ButtonHolder = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst BankInvitePage = ({ history }) => {\n  useAuthentication('/bank/invite');\n  const [user] = useContext(UserContext);\n  const [status, setStatus] = useState({ status: null, message: \"\"});\n  return (\n    <BasicLayout \n      title={`Welcome${(user ? ', ' + user.name : '')} 🚀`}\n      subtitle=\"Enter your teammates' emails to invite them to the platform.\"\n    >\n      <Formik\n        initialValues={{ email: '' }}\n        onSubmit={(values, { setSubmitting }) => {\n          setSubmitting(true);\n          makeAPIRequest(`/bank/${user.bank.id}/invite_teammate/`, \"POST\", { \"inviteeEmail\": values.email }, true)\n            .then((response) => {\n              if (response.status === 200) setStatus({ \n                status: \"success\",\n                message: `Invite sent to ${values.email}!`\n              });\n              else setStatus({\n                status: \"error\",\n                message: `Error inviting ${values.email}.`\n              })\n            });\n          setSubmitting(false);\n        }}\n        validationSchema={validationSchema}\n      >\n      {({ isSubmitting }) => (\n        <FormWrapper>\n        <StyledForm>\n          <StyledField type=\"email\" name=\"email\"/>\n          <Button type=\"submit\">{isSubmitting ? 'Sending...' : 'Send'}</Button>\n        </StyledForm>\n        <ErrorMessageWrapper>\n          <ErrorMessage name=\"email\"/>\n        </ErrorMessageWrapper>\n        </FormWrapper>\n      )}\n      </Formik>\n        {status.status && (<StatusMessage status={status.status}>{status.message}</StatusMessage>)}\n\n    <ButtonHolder>\n      <Button showArrow onClick={() => history.push(\"/bank/createApp\")}>\n        Next\n      </Button>\n    </ButtonHolder>\n    </BasicLayout>\n  );\n}\n\nexport default BankInvitePage;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\nimport { get } from \"lodash\";\n\nimport Button from \"../../components/ui/Button\";\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { useAuthentication, UserContext } from \"../../utils/auth\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst signUpFormValidationSchema = object().shape({\n  newBankName: string(),\n  name: string(),\n  title: string(),\n  password: string().matches(\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string()\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BankManageAccountPage = () => {\n  useAuthentication(\"/bank/account\");\n  const [user, setUser] = useContext(UserContext);\n\n  return (\n    <BasicLayout title=\"My Account 🛠\" subtitle=\"View and edit your user settings.\" isLoading={!user}>\n    <Formik\n      initialValues={{\n        name: get(user, ['name']), title: get(user, ['title']), password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(`/bank/${get(user, ['bank', 'id'])}/${get(user, ['id'])}/`, \"PUT\", { name: values.name, title: values.title })\n          .then((json) => {\n            setUser({ ...json.userEmployee, bank: json.usersEmployer });\n          })\n          .then(() => setSubmitting(false))\n          .catch((err) => console.error(err));\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"New Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm New Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n          <Button disabled={isSubmitting}>\n            Save Update\n          </Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n}\n\nexport default BankManageAccountPage;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from '../../../config';\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\nconst useDebouncedEffect = (callback, parameters, delay) => {\n  const currentTimeout = useRef(null);\n\n  useEffect(() => {\n    if (currentTimeout.current !== null) {\n      clearTimeout(currentTimeout.current);\n    }\n    currentTimeout.current = setTimeout(callback, delay);\n    /* eslint-disable-next-line */\n  }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\nconst Filter = ({ lcs, setShownLcs }) => {\n  const [filter, setFilter] = useState(null);\n  useDebouncedEffect(() => {\n    if (filter === null) return;\n    setShownLcs(lcs.filter(lc => lc.client.name.toLowerCase().includes(filter.toLowerCase())));\n  }, [filter, lcs], 200)\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n    <SearchWrapper>\n    <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n      <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n    </SearchWrapper>\n      <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by client</span>\n    </div>\n  )\n}\n\nconst LCListEntry = ({ lc }) => {\n  // NOTE: due_date and credit_amt will only be available for DigitalLCs\n  return (\n      <StyledLink to={`/lc/${lc.id}`}>\n      <ListEntryWrapper>\n        <ListEntryField>{get(lc, 'client.name') || \"Unknown\"}</ListEntryField>\n        <ListEntryField>{get(lc, 'beneficiary.name') || \"Unknown\"}</ListEntryField>\n        <ListEntryField>{lc.applicationDate}</ListEntryField>\n        <ListEntryField>{lc.draftPresentationDate || \"N/A\"}</ListEntryField>\n        <ListEntryField>{lc.creditAmt || \"N/A\"}</ListEntryField>\n      </ListEntryWrapper>\n      </StyledLink>\n  )\n}\n\nconst LCFeed = ({ title, user, url, hideSearch, currentlyOnIssuer, currentlyOnAdvising, clientPage, switchLink, livePage}) => {\n  const [lcs, setLcs] = useState(null);\n  const [shownLcs, setShownLcs] = useState(null);\n  const bankid = get(user, ['bank', 'id']);\n\n  useEffect(() => {\n    if (!bankid) return;\n    makeAPIRequest(url)\n      .then(json => {\n        setLcs(json);\n        setShownLcs(json);\n        console.log(json);\n      });\n  }, [bankid, url]);\n\n\n  return (\n    <BasicLayout\n      title={title}\n      isLoading={!shownLcs}\n      link={switchLink}\n      linktext={`View LCs for which you are a ${currentlyOnIssuer ? \"advisor\" : \"issuer\"}`}\n    >\n\n    {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n    <div>\n      {!hideSearch && <Filter lcs={lcs} setShownLcs={setShownLcs} />}\n      <ListEntryWrapper header>\n        <ListEntryField>Client</ListEntryField>\n        <ListEntryField>Beneficiary</ListEntryField>\n        <ListEntryField>Applied</ListEntryField>\n        <ListEntryField>Drafts Due</ListEntryField>\n        <ListEntryField>Transaction Size</ListEntryField>\n      </ListEntryWrapper>\n    </div>\n    {(shownLcs && (shownLcs.length > 0 ? (\n      <div>\n    {shownLcs.map(lc => <LCListEntry lc={lc} key={lc.id}/>)}\n    </div>\n    ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>You don't have any LCs yet.</center>)))}\n    </BasicLayout>\n  )\n\n}\n\nexport default LCFeed;\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\nconst BankLCAppFeedPage = () => {\n  useAuthentication('/bank/lcs/apps');\n  const [user] = useContext(UserContext);\n  const bankid = get(user, ['bank', 'id']);\n  return <LCFeed \n    title=\"All LC Applications (Issuing) 📝\"\n    url={`/lc/by_bank/${bankid}/awaiting_issuer_approval/`}\n    user={user}\n    currentlyOnIssuer\n    switchLink={\"/bank/lcs/apps/advisor\"}\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\n\n\nconst BankLCAppFeedPage = () => {\n  useAuthentication('/bank/lcs/live');\n  const [user] = useContext(UserContext);\n  const bankid = get(user, ['bank', 'id']);\n  return <LCFeed \n    title=\"All Live LCs (Issuing) 📄\"\n    url={`/lc/by_bank/${bankid}/live/`}\n    user={user}\n    switchLink={\"/bank/lcs/live/advisor\"}\n    currentlyOnIssuer\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from '../../../config';\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\nconst useDebouncedEffect = (callback, parameters, delay) => {\n    const currentTimeout = useRef(null);\n\n    useEffect(() => {\n        if (currentTimeout.current !== null) {\n            clearTimeout(currentTimeout.current);\n        }\n        currentTimeout.current = setTimeout(callback, delay);\n        /* eslint-disable-next-line */\n    }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\n// const Filter = ({ lcs, setShownLcs }) => {\n//     const [filter, setFilter] = useState(null);\n//     useDebouncedEffect(() => {\n//         if (filter === null) return;\n//         setShownLcs(lcs.filter(lc => lc.client.name.toLowerCase().includes(filter.toLowerCase())));\n//     }, [filter, lcs], 200)\n//     return (\n//         <div style={{ display: 'flex', alignItems: 'center' }}>\n//             <SearchWrapper>\n//                 <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n//                 <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n//             </SearchWrapper>\n//             <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by client</span>\n//         </div>\n//     )\n// }\n\nexport const LCListEntry = ({ client }) => {\n    // NOTE: due_date and credit_amt will only be available for DigitalLCs\n    return (\n        <StyledLink to={`/bank/client/${client.id}`}>\n            <ListEntryWrapper>\n                <ListEntryField>{client.name}</ListEntryField>\n                <ListEntryField>{get(client, 'country') || \"Unknown\"}</ListEntryField>\n            </ListEntryWrapper>\n        </StyledLink>\n    )\n}\n\nconst ClientFeed = ({ title, user, url, hideSearch }) => {\n    const [clients, setClients] = useState(null);\n    const [shownClients, setShownClients] = useState(null);\n    const bankid = get(user, ['bank', 'id']);\n\n    useEffect(() => {\n        if (!bankid) return;\n        makeAPIRequest(url)\n            .then(json => {\n                setClients(json);\n                setShownClients(json);\n            });\n    }, [bankid, url]);\n\n    return (\n        <BasicLayout\n            title={title}\n            isLoading={!shownClients}\n        >\n            {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n            <div>\n                {/*{!hideSearch && <Filter lcs={clients} setShownLcs={setShownClients} />}*/}\n                <ListEntryWrapper header>\n                    <ListEntryField>Client</ListEntryField>\n                    <ListEntryField>Country</ListEntryField>\n                </ListEntryWrapper>\n            </div>\n            {(shownClients && (shownClients.length > 0 ? (\n                <div>\n                    {shownClients.map(client => <LCListEntry client={client} key={client.id}/>)}\n                </div>\n            ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>You don't have any Clients yet.</center>)))}\n        </BasicLayout>\n    )\n\n}\n\nexport default ClientFeed;\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport ClientFeed from \"./ClientFeed\";\n\nconst BankClientFeedPage = () => {\n    useAuthentication('/bank/lcs/live');\n    const [user] = useContext(UserContext);\n    const bankid = get(user, ['bank', 'id']);\n    return <ClientFeed\n        title=\"All Clients 📄\"\n        url={`/lc/clients_by_bank/${bankid}/`}\n        user={user}\n    />\n}\n\nexport default BankClientFeedPage\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from \"../../../config\";\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\nconst useDebouncedEffect = (callback, parameters, delay) => {\n  const currentTimeout = useRef(null);\n\n  useEffect(() => {\n    if (currentTimeout.current !== null) {\n      clearTimeout(currentTimeout.current);\n    }\n    currentTimeout.current = setTimeout(callback, delay);\n    /* eslint-disable-next-line */\n  }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\nconst Filter = ({ lcs, setShownLcs }) => {\n  const [filter, setFilter] = useState(null);\n  useDebouncedEffect(() => {\n    if (filter === null) return;\n    setShownLcs(lcs.filter(lc => lc.client.name.toLowerCase().includes(filter.toLowerCase())));\n  }, [filter, lcs], 200)\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n    <SearchWrapper>\n    <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n      <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n    </SearchWrapper>\n      <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by client</span>\n    </div>\n  )\n}\n\nconst LCListEntry = ({ lc }) => {\n  // NOTE: due_date and credit_amt will only be available for DigitalLCs\n  return (\n      <StyledLink to={`/lc/${lc.id}`}>\n      <ListEntryWrapper>\n        <ListEntryField>{lc.client.name}</ListEntryField>\n        <ListEntryField>{get(lc, 'beneficiary.name') || \"Unknown\"}</ListEntryField>\n        <ListEntryField>{lc.applicationDate}</ListEntryField>\n        <ListEntryField>{lc.draftPresentationDate || \"N/A\"}</ListEntryField>\n        <ListEntryField>{lc.creditAmt || \"N/A\"}</ListEntryField>\n      </ListEntryWrapper>\n      </StyledLink>\n  )\n}\n\n// The only different between this and the bank lc feed\n// is setting business id based on the user's business field\n// + addition of link to client or bene view\n// This could almost certainly be abstracted\nconst BusinessLCFeed = ({ title, user, url, hideSearch, currentlyOnClient }) => {\n  const [lcs, setLcs] = useState(null);\n  const [shownLcs, setShownLcs] = useState(null);\n  const businessid = get(user, ['business', 'id']);\n\n  useEffect(() => {\n    if (!businessid) return;\n    makeAPIRequest(url)\n      .then(json => {\n        setLcs(json);\n        setShownLcs(json);\n      });\n  }, [businessid, url]);\n\n  return (\n    <BasicLayout\n      title={title}\n      isLoading={!shownLcs}\n      link={`/business/lcs/${currentlyOnClient ? \"beneficiary\" : \"client\"}`}\n      linktext={`View LCs for which you are a ${currentlyOnClient ? \"beneficiary\" : \"client\"}`}\n    >\n    {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n    <div>\n      {!hideSearch && <Filter lcs={lcs} setShownLcs={setShownLcs} />}\n      <ListEntryWrapper header>\n        <ListEntryField>Client</ListEntryField>\n        <ListEntryField>Beneficiary</ListEntryField>\n        <ListEntryField>Applied</ListEntryField>\n        <ListEntryField>Drafts Due</ListEntryField>\n        <ListEntryField>Transaction Size</ListEntryField>\n      </ListEntryWrapper>\n    </div>\n    {(shownLcs && (shownLcs.length > 0 ? (\n      <div>\n    {shownLcs.map(lc => <LCListEntry lc={lc} key={lc.id}/>)}\n    </div>\n    ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>You don't have any LCs yet.</center>)))}\n    </BasicLayout>\n  )\n\n}\n\nexport default BusinessLCFeed;\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport BusinessLCFeed from \"../../business/feeds/BusinessLCFeed\";\n\nconst BankLCAppFeedPage = ({ match }) => {\n  useAuthentication('/bank/lcs');\n  const [user] = useContext(UserContext);\n  const bankid = get(user, ['bank', 'id']);\n  return <LCFeed \n    title=\"All LC Applications and Live LCs (Issuing) 📝📄\"\n    url={`/lc/by_bank/${bankid}/`}\n    user={user}\n    currentlyOnIssuer\n    switchLink={\"/bank/lcs/advisor\"}\n  />\n}\n\nexport default BankLCAppFeedPage\n","import React, { useState, useContext, useEffect } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { makeAPIRequest } from \"../../../utils/api\";\n\nconst BankLCAppFeedPage = ({ match }) => {\n  useAuthentication(`/bank/lcs/client/${match.params.clientid}`);\n  const [user] = useContext(UserContext);\n  const [client, setClient] = useState(null);\n  useEffect(() => {\n    makeAPIRequest(`/business/${match.params.clientid}/`)\n      .then(json => setClient(json))\n  }, [match.params.clientid])\n  const title = client ? `All LCs for ${client.name}` : `All LCs for Client #${match.params.clientid}`;\n  return <LCFeed\n    title={title}\n    url={`/lc/by_client/${match.paramsclientid}/`}\n    user={user}\n    hideSearch\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport MoonLoader from \"react-spinners/MoonLoader\";\nimport { css } from \"@emotion/core\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\n\nimport config from '../../config'\n\nconst Margin = styled.div`\n  margin: 40px auto;\n  max-width: 1000px;\n`;\n\nconst TitleWrapper = styled.div`\n  display: flex;\n  border-bottom: 1px solid #cdcdcd;\n  padding: 10px 0;\n  font-size: 24px;\n`\n\nconst LCTitle = styled(Link)`\n  margin-right: 15px;\n  font-weight: 500;\n  text-decoration: none;\n  color: #000;\n`\n\nconst Subtitle = styled.h2`\n  font-weight: 200;\n`;\n\nconst Content = styled.div`\n  margin: 40px 0 0;\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #454545;\n  margin: 20px 0;\n  display: block;\n`\n\nconst LCView = ({ lc, children, userType }) => {\n  return (\n    <Margin>\n      <StyledLink to=\"/\">\n        <FontAwesomeIcon icon={faArrowLeft} color={config.accentColor} style={{ paddingRight: \"10px\"}} /> \n        Back to LCs\n      </StyledLink>\n        {!lc ? (\n          <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          />\n        ) : (\n          <>\n      <TitleWrapper>\n      {lc.client && (userType === \"issuer\" || userType === \"advising\") &&\n          <LCTitle to={`/bank/client/${lc.client.id}`}>{lc.client.name}</LCTitle>\n      }\n        <Subtitle>{`LC #${lc.id}`}</Subtitle>\n      </TitleWrapper>\n      <Content>\n          {children}\n      </Content>\n      </>\n        )}\n    </Margin>\n  );\n};\n\nexport default LCView;\n","import React, { useRef, useEffect, useState } from 'react';\nimport MoonLoader from \"react-spinners/MoonLoader\";\nimport { css } from '@emotion/core';\nimport pdfjs from 'pdfjs-dist';\n\nimport pdfjsWorker from 'pdfjs-dist/build/pdf.worker.entry';\nimport config from '../../config';\n\npdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n\nconst PdfComponent = ({ src }) => {\n  const canvasRef = useRef(null)\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchPdf = async () => {\n      setIsLoading(true);\n      const loadingTask = pdfjs.getDocument(src);\n\n      const pdf = await loadingTask.promise;\n\n      const firstPageNumber = 1;\n\n      const page = await pdf.getPage(firstPageNumber);\n\n      const scale = 1;\n      const viewport = page.getViewport({scale: scale});\n\n      // Prepare canvas using PDF page dimensions\n      const canvas = canvasRef.current;\n\n      const context = canvas.getContext('2d');\n      canvas.height = viewport.height;\n      canvas.width = viewport.width;\n\n      // Render PDF page into canvas context\n      const renderContext = {\n        canvasContext: context,\n        viewport: viewport\n      };\n\n      const renderTask = page.render(renderContext);\n\n      await renderTask.promise;\n    };\n\n    fetchPdf()\n      .then(() => setIsLoading(false));\n  }, [src]);\n\n  return (\n    <>\n    {isLoading && \n          <MoonLoader\n            size={45}\n            color={config.accentColor}\n            loading={true}\n            css={css`\n              margin: 0 auto;\n            `}\n          />\n    }\n    <canvas\n      ref={canvasRef}\n      width={700}\n      height={window.innerHeight}\n      style={{border: '1px solid #cdcdcd', display: isLoading ? 'none' : 'block'}}\n    />\n    </>\n  );\n}\n\nexport default PdfComponent;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown, faChevronRight, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nimport config from '../../config';\nimport AnimateHeight from \"react-animate-height\";\n\nconst BasicView = styled.div`\n  border: 1px solid #dfdfdf;\n  background-color: #fff;\n  border-radius: 0 0 20px 20px;\n  margin-bottom: 30px;\n`\n\nconst PanelTitle = styled.h2`\n  background-color: ${(props) => props.highlight ? config.accentColor : `rgb(199, 222, 255)`};\n  border-bottom: 1px solid #dfdfdf;\n  padding: 15px 20px;\n  display: flex;\n  justify-content: space-between;\n  ${(props) => props.highlight && `\n    font-weight: 500;\n    color: #fff;\n  `}\n`\n\nconst PanelBody = styled.div`\n  padding: 15px 20px;\n  line-height: 1.25;\n`\n\nconst PanelTitleAlt = styled.div`\n  color: ${config.accentColor};\n  margin-right: 5px;\n`\n\nconst Panel = ({ title, children, highlight, expand, setExpand, editing, setEditing, canEdit, ...props }) => {\n  const expandEnabled = [true, false].includes(expand);\n  return (\n    <BasicView {...props}>\n      <PanelTitle highlight={highlight} clickable={expandEnabled}>\n        {title}\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n        {canEdit && (editing\n          ? (\n            <>\n            <PanelTitleAlt>Editing</PanelTitleAlt>\n            <span\n              style={{fontStyle: 'italic', fontSize: '14px', color: '#555'}}\n              onClick={() => setEditing(false)}\n              >Cancel</span>\n            </>\n          )\n          : <FontAwesomeIcon\n            icon={faPencilAlt}\n            onClick={() => setEditing(true)}\n            style={{\n              color: config.accentColor,\n            }}\n            />\n        )}\n        {expandEnabled &&\n          <FontAwesomeIcon\n            icon={expand ? faChevronDown : faChevronRight}\n            onClick={() => setExpand(e => !e)}\n            style={{\n              color: config.accentColor,\n              padding: '0 10px',\n              cursor: 'pointer',\n            }}\n            />\n        }\n        </div>\n      </PanelTitle>\n      <PanelBody>{children}</PanelBody>\n    </BasicView>\n  )\n}\n\nexport default Panel;\n","import React, {useEffect, useState} from 'react';\nimport styled from 'styled-components';\nimport {Field, Form, Formik, useField} from 'formik';\nimport {array, boolean, date, number, object, string} from 'yup';\nimport Pdf from './Pdf';\nimport MoonLoader from 'react-spinners/MoonLoader'\nimport {css} from \"@emotion/core\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCheckSquare, faChevronDown, faChevronRight} from \"@fortawesome/free-solid-svg-icons\";\nimport {camelCase, get} from \"lodash\";\n\nimport {makeAPIRequest, postFile} from '../../utils/api';\nimport Panel from './Panel';\nimport Button from '../../components/ui/Button';\nimport config from \"../../config\";\n\nconst ModalBackground = styled.div`\n  ${props => !props.show && `display: none;`}\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.4);\n  overflow: scroll;\n`;\n\nconst ModalWrapper = styled.div`\n  max-width: 70%;\n  background-color: #fff;\n  border-radius: 10px;\n  margin: 10% auto;\n  padding: 20px 30px;\n`;\n\nconst ModalFlex = styled.div`\n  display: flex;\n  justify-content: space-around;\n`;\n\nconst ModalLeftColumn = styled.div`\n  flex-grow: 1;\n  min-width: 30%;\n  flex-basis: 40%;\n`;\n\nconst ModalRightColumn = styled.div`\n  flex-grow: 1;\n  flex-basis: 50%;\n`;\n\nconst ModalButtonsWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n  margin: 20px auto 30px;\n`;\n\nconst MODAL_TYPES = {CREATE: 'create', UPLOAD: 'upload'};\n\nconst Modal = ({show, docReq, hideModal, refreshLc, userType, lc}) => {\n  const [type, setType] = useState(MODAL_TYPES.CREATE);\n  if (docReq && docReq.type === 'generic') {\n    return (\n      <ModalBackground show={show}>\n        <ModalWrapper>\n          <UploadModal docReq={docReq} refreshLc={refreshLc} hideModal={hideModal}/>\n          <div style={{marginTop: '20px', display: 'flex', justifyContent: 'flex-end'}}>\n            <Button onClick={hideModal}>Close</Button>\n          </div>\n        </ModalWrapper>\n      </ModalBackground>\n    );\n  }\n  return (\n    <ModalBackground show={show}>\n      {show === \"view\" ? (\n        <ModalWrapper>\n          <ViewModal docReq={docReq}/>\n          <div style={{marginTop: '20px', display: 'flex', justifyContent: 'flex-end'}}>\n            <Button onClick={hideModal}>Close</Button>\n          </div>\n        </ModalWrapper>\n      ) : docReq && (\n        <ModalWrapper>\n          <ModalButtonsWrapper>\n            {userType !== \"issuer\" && <Button onClick={() => setType(MODAL_TYPES.CREATE)} unselected={type !== MODAL_TYPES.CREATE}>Create Digital\n              DocReq</Button>}\n            <Button onClick={() => setType(MODAL_TYPES.UPLOAD)} unselected={type !== MODAL_TYPES.UPLOAD}>Upload PDF\n              DocReq</Button>\n          </ModalButtonsWrapper>\n          {userType === \"issuer\" ? <UploadModal docReq={docReq} refreshLc={refreshLc} hideModal={hideModal}/> : type === MODAL_TYPES.CREATE\n            ? <CreateModal docReq={docReq} refreshLc={refreshLc} hideModal={hideModal} lc={lc}/>\n            : <UploadModal docReq={docReq} refreshLc={refreshLc} hideModal={hideModal}/>\n          }\n          <div style={{marginTop: '20px', display: 'flex', justifyContent: 'flex-end'}}>\n            <Button onClick={hideModal}>Cancel</Button>\n          </div>\n        </ModalWrapper>\n      )}\n    </ModalBackground>\n  )\n};\n\nconst ViewModal = ({docReq}) => {\n  const lcid = docReq && docReq.lcid;\n  // NULL if the docreq is not digital\n  const [digitalDocReq, setDigitalDocReq] = useState(null);\n  useEffect(() => {\n    if (!docReq) {\n      return;\n    }\n    makeAPIRequest(`/lc/${lcid}/doc_req/${docReq.id}/`)\n    .then(data => {\n      // HACK we can \"guess\" if there is a digital doc req if the seller name is defined\n      if (data.sellerName === undefined) {\n        setDigitalDocReq(null);\n      } else {\n        setDigitalDocReq(data);\n      }\n    });\n  }, [docReq, lcid]);\n  if (!docReq) {\n    return null;\n  }\n  const fields = !digitalDocReq ? [] : [\n    {title: \"Seller Name\", value: digitalDocReq.sellerName},\n    {title: \"Seller Address\", value: digitalDocReq.sellerAddress},\n    {title: \"Shipping Date\", value: digitalDocReq.indicatedDateOfShipment},\n    {title: \"Country of Export\", value: digitalDocReq.countryOfExport},\n    // {title: \"Incoterms Of Sale\", value: digitalDocReq.incotermsOfSale},\n    {title: \"Reason for Export\", value: digitalDocReq.reasonForExport},\n    {title: \"Consignee Name\", value: digitalDocReq.consigneeName || digitalDocReq.buyerName},\n    {title: \"Consignee Address\", value: digitalDocReq.consigneeAddress || digitalDocReq.buyerAddress},\n    {title: \"Buyer Name\", value: digitalDocReq.buyerName},\n    {title: \"Buyer Address\", value: digitalDocReq.buyerAddress},\n    {title: \"Description of Goods\", value: digitalDocReq.goodsDescription},\n    {title: \"Units of Measure\", value: digitalDocReq.unitOfMeasure},\n    {title: \"Units Purchased\", value: digitalDocReq.unitsPurchased},\n    {title: \"Price per Unit\", value: digitalDocReq.unitPrice},\n    {title: \"Currency of Settlement\", value: digitalDocReq.currency},\n    {title: \"Harmonized Schedule Code\", value: digitalDocReq.hsCode},\n    {title: \"Country of Origin\", value: digitalDocReq.countryOfOrigin},\n  ];\n  const link = docReq.linkToSubmittedDoc;\n  return (\n    <ModalFlex>\n      {digitalDocReq && (\n        <ModalLeftColumn>\n          <DocReqTitle style={{marginTop: '0'}}>{docReq.docName}</DocReqTitle>\n          {fields.map(field => field && (\n            <div key={field.title}>\n              <SmallHeader>{field.title}</SmallHeader>\n              <DocReqTitle>{field.value}</DocReqTitle>\n            </div>\n          ))}\n        </ModalLeftColumn>\n      )}\n      <ModalRightColumn>\n        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px'}}>\n          <DocReqTitle style={{margin: '0'}}>PDF Preview</DocReqTitle>\n          <Button style={{padding: '5px 10px'}}>\n            <a href={link} style={{color: \"#fff\", fontSize: '14px', textDecoration: 'none'}}>Download PDF</a>\n          </Button>\n        </div>\n        {link && <Pdf src={`/api/lc/${lcid}/doc_req/${docReq.id}/file/`}/>}\n      </ModalRightColumn>\n    </ModalFlex>\n  )\n};\n\nconst InputWrapper = styled.div`\n  max-width: 700px;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border-radius: 10px;\n  border: 1px solid #cdcdcd;\n\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }\n  transition: border 0.3s;\n  background-color: #fff;\n`;\n\nconst QuestionText = styled.h3`\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 15px;\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Asterisk = styled.span`\n  color: #dc3545;\n  font-size: 16px;\n`;\nconst StyledFormInput = styled(Field)`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  font-size: 16px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin-top: 15px;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  border: 1px solid ${config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  margin: 10px 0;\n  max-width: 45%;\n  display: flex;\n  align-items: center;\n`;\n\nconst BasicInput = ({question, children, subtitle}) => {\n  const [, meta] = useField(question.key);\n  const {error, touched} = meta;\n  return (\n    <InputWrapper>\n      <QuestionText>{question.questionText}{question.required ? (<Asterisk> *</Asterisk>) : null}</QuestionText>\n      {subtitle && <Subtitle>{subtitle}</Subtitle>}\n      {error && touched && <Subtitle style={{color: '#dc3545'}}>{typeof error !== 'object' ? error : null}</Subtitle>}\n      {children}\n    </InputWrapper>\n  )\n};\n\nconst TextInput = ({question}) => {\n  return (\n    <BasicInput question={question}>\n      <StyledFormInput type=\"text\" name={question.key}/>\n    </BasicInput>\n  );\n};\n\nconst NumberInput = ({question}) => {\n  return (\n    <BasicInput question={question}>\n      <StyledFormInput type=\"number\" name={question.key}/>\n    </BasicInput>\n  )\n};\n\nconst YesNoInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n\n  return (\n    <BasicInput question={question}>\n      <ButtonWrapper style={{justifyContent: 'center'}}>\n        <StyledButton onClick={handleClick(true)} selected={value === true}>Yes</StyledButton>\n        <StyledButton onClick={handleClick(false)} selected={value === false}>No</StyledButton>\n      </ButtonWrapper>\n    </BasicInput>\n  )\n};\n\nconst AllRadiosWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst RadioInput = ({question}) => {\n  const options = JSON.parse(question.options);\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n  return (\n    <BasicInput question={question}>\n      <AllRadiosWrapper>\n        <ButtonWrapper>\n          {options && options.map((opt) => (\n            <StyledButton onClick={handleClick(opt)} selected={value === opt} key={opt}>{opt}</StyledButton>\n          ))}\n        </ButtonWrapper>\n      </AllRadiosWrapper>\n    </BasicInput>\n  )\n};\n\nconst DateInput = ({question}) => {\n  return (\n    <BasicInput question={question}>\n      <StyledFormInput type=\"date\" name={question.key}/>\n    </BasicInput>\n  )\n};\n\nconst AllCheckboxesWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst CheckboxInput = ({question}) => {\n  const options = JSON.parse(question.options);\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    const i = value.indexOf(val);\n    if (i !== -1) {\n      setValue(value.slice(0, i).concat(value.slice(i + 1)));\n    } else {\n      setValue(value.concat([val]));\n    }\n  };\n\n  return (\n    <BasicInput question={question} subtitle=\"Check all that apply.\">\n      <AllCheckboxesWrapper>\n        <ButtonWrapper>\n          {options && options.map((opt) => (\n            <StyledButton onClick={handleClick(opt)} selected={value.indexOf(opt) !== -1} key={opt}>\n              {value.indexOf(opt) !== -1 && <FontAwesomeIcon icon={faCheckSquare} style={{marginRight: '10px'}}/>}\n              {opt}\n            </StyledButton>\n          ))}\n        </ButtonWrapper>\n      </AllCheckboxesWrapper>\n    </BasicInput>\n  )\n};\n\nconst TYPE_TO_COMPONENT = {\n  text: TextInput,\n  decimal: NumberInput,\n  number: NumberInput,\n  boolean: YesNoInput,\n  radio: RadioInput,\n  date: DateInput,\n  checkbox: CheckboxInput,\n};\n\nconst TYPE_TO_DEFAULT = {\n  text: \"\",\n  decimal: 0,\n  number: 0,\n  boolean: null,\n  radio: null,\n  date: (new Date()).toISOString().slice(0, 10),\n  checkbox: [],\n};\n\nconst REQUIRED_MSG = \"This field is required.\";\n\nconst TYPE_TO_VALIDATION_SCHEMA = {\n  text: string(),\n  decimal: number(),\n  number: number(),\n  boolean: boolean().nullable(),\n  radio: string().nullable(),\n  date: date(),\n  checkbox: array().of(string()),\n};\n\nconst CreateModal = ({docReq, hideModal, refreshLc, lc}) => {\n  const [fields, setFields] = useState([]);\n  const [suggestedFields, setSuggestedFields] = useState([]);\n  useEffect(() => {\n    if (!docReq) {\n      return undefined;\n    }\n    makeAPIRequest(`/lc/supported_creatable_docs/${docReq.type}/`)\n    .then(d => setFields(d));\n    makeAPIRequest(`/lc/${lc.id}/doc_req/${docReq.id}/autopopulate/`)\n    .then(s => setSuggestedFields(s));\n  }, [docReq]);\n  if (!docReq) {\n    return null;\n  }\n  const schemaObj = {};\n  let initialValues = {};\n  let validationSchema = null;\n  fields.forEach(q => {\n    Object.keys(suggestedFields).forEach(key => {\n      if (camelCase(q.key) == key) {\n        let initialValue = get(lc, suggestedFields[key]);\n        if (initialValue && new Set([\"object\", \"array_of_objs\", \"checkbox\"]).has(q.type)) {\n          initialValue = JSON.parse(initialValue);\n        }\n        initialValues[q.key] = initialValue;\n      }\n    });\n    if (!initialValues[q.key]) {\n      initialValues[q.key] = TYPE_TO_DEFAULT[q.type];\n    }\n  });\n  fields.forEach(q => {\n    schemaObj[q.key] = TYPE_TO_VALIDATION_SCHEMA[q.type];\n    if (q.required) {\n      schemaObj[q.key] = schemaObj[q.key].required(REQUIRED_MSG);\n    }\n  });\n  validationSchema = object().shape(schemaObj);\n  return fields.length > 0 && (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      enableReinitialize\n      onSubmit={(values, {setSubmitting}) => {\n        setSubmitting(true);\n        const app = {};\n        Object.entries(values).forEach((kv) => {\n          const [key, value] = kv;\n          if (value === null) {\n          } else {\n            app[key] = value;\n          }\n        });\n        const {lcid, id} = docReq;\n        makeAPIRequest(`/lc/${lcid}/doc_req/${id}/`, 'POST', app, true)\n        .then(() => hideModal())\n        .then(() => refreshLc())\n        .then(() => setSubmitting(false));\n        // .then(async res => {\n        //   let text = await res.text();\n        //   if (res.status === 200) {\n        //     localStorage.removeItem(`lc/${match.params.bankid}`);\n        //     setStatus({status: \"success\", message: \"Your LC app has been sent in! The bank will get back to you\n        // ASAP.\"}); } else { if (text.length > 250) text = \"Unknown server error. Please contact steve@bountium.org.\"\n        // localStorage.setItem(`lc/${match.params.bankid}`, JSON.stringify(values)) setStatus({status: \"error\",\n        // message: `Error submitting form: ${text}`}); } })\n      }}\n    >\n      {({isSubmitting}) => (\n        isSubmitting ? <MoonLoader\n          size={45}\n          color={config.accentColor}\n          loading={true}\n          css={css`\n              margin: 0 auto;\n            `}\n        /> : (\n          <Form>\n            <DocReqTitle>Create {docReq.docName}</DocReqTitle>\n            {fields && fields.map(question => {\n              const Component = TYPE_TO_COMPONENT[question.type];\n              return <Component key={question.key} question={question}/>;\n            })}\n            <div style={{display: \"flex\", justifyContent: \"center\", marginTop: \"20px\"}}>\n              <Button disabled={isSubmitting} type=\"submit\">Create</Button>\n            </div>\n          </Form>\n\n        )\n      )}\n    </Formik>\n  )\n};\n\nconst UploadModal = ({docReq, refreshLc, hideModal}) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const uploadFile = (file) => {\n    if (!file) {\n      console.error('No file found.');\n      return;\n    }\n    setIsSubmitting(true);\n    const {lcid, id} = docReq;\n    postFile(`/lc/${lcid}/doc_req/${id}/`, file)\n    .then(() => hideModal())\n    .then(() => refreshLc())\n    .then(() => setIsSubmitting(false));\n  };\n\n  return (\n    <>\n      <DocReqTitle>Upload {docReq.docName}</DocReqTitle>\n      <div style={{display: \"flex\", flexDirection: \"column\", maxWidth: '700px', margin: 'auto'}}>\n        {isSubmitting ? <MoonLoader\n          size={45}\n          color={config.accentColor}\n          loading={true}\n          css={css`\n              margin: 0 auto;\n            `}\n        /> : (\n          <FileUpload>\n            Upload File\n            <input\n              type=\"file\"\n              onChange={(e) => uploadFile(e.target.files[0])}\n              style={{display: \"none\"}}\n            />\n          </FileUpload>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst DocumentaryEntryFlex = styled.div`\n  display: flex;\n  align-items: center;\n  > :nth-child(1) {\n    min-width: 60%;\n  }\n  > :nth-child(2) {\n    min-width: 20%;\n  }\n  > :nth-child(3) {\n    min-width: 20%;\n  }\n  ${props => props.clickable && `cursor: pointer;`}\n`;\n\nconst DocumentaryEntryWrapper = styled.div`\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst DocReqTitle = styled.div`\n  font-weight: 500;\n  font-size: 24px;\n  max-width: 700px;\n  margin: 5px auto 20px;\n  display: flex;\n  align-items: center;\n`;\n\nconst DocReqDate = styled.div`\n  font-size: 14px;\n`;\n\nconst DocReqStatus = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n`;\n\nconst ExpandedDocumentaryEntry = styled.div`\n  padding-bottom: 10px;\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.5;\n`;\n\nconst FileUpload = styled.label`\n  padding: 5px 10px;\n  border: 1px solid #dcdcdc;\n  margin-right: auto;\n  cursor: pointer;\n`;\n\nconst DocumentaryEntryEvaluation = styled.div`\n  display: flex;\n  margin-top: 10px;\n\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst SmallHeader = styled.div`\n  font-size: 12px;\n  min-width: 150px;\n  margin-right: 50px;\n`;\n// there's no link to the submitted doc\nconst DocumentaryRequirement = ({documentaryRequirement: docReq, beneficiarySelectedAccess, lcid, userType, status, live, refreshLc, showModal, advisingAccess, ...props}) => {\n  const {docName: title, dueDate, linkToSubmittedDoc, id, requiredValues, rejected} = docReq;\n  const [expanded, setExpanded] = useState(false);\n  const [comments, setComments] = useState('');\n\n\n  const approve = () => {\n    makeAPIRequest(`/lc/${lcid}/doc_req/${id}/evaluate/`, 'POST', {\n      approve: true, complaints: comments,\n    }).then(() => refreshLc());\n  };\n\n  const reject = () => {\n    makeAPIRequest(`/lc/${lcid}/doc_req/${id}/evaluate/`, 'POST', {\n      approve: false, complaints: comments,\n    }).then(() => refreshLc());\n  };\n\n  return (\n    <DocumentaryEntryWrapper>\n      <DocumentaryEntryFlex\n        clickable\n        onClick={() => setExpanded((e) => !e)}\n        {...props}\n      >\n        <DocReqTitle style={{margin: \"15px 0\"}}>\n          {title}\n          <FontAwesomeIcon\n            icon={expanded ? faChevronDown : faChevronRight}\n            style={{color: config.accentColor, marginLeft: \"10px\"}}\n          />\n        </DocReqTitle>\n        <DocReqDate>{dueDate}</DocReqDate>\n        <DocReqStatus>{status}</DocReqStatus>\n      </DocumentaryEntryFlex>\n      {expanded && (\n        <ExpandedDocumentaryEntry>\n          <DocumentaryEntryFlex>\n            <div>\n              <div style={{marginRight: \"30px\"}}>\n                Required Values: {requiredValues}\n              </div>\n            </div>\n            <div>\n              {live &&\n              linkToSubmittedDoc &&\n              <Button style={{marginRight: \"10px\", minWidth: '80px'}}\n                                                     onClick={() => showModal(docReq, lcid, \"view\")}>View</Button>}\n            </div>\n            <div>\n              {linkToSubmittedDoc && (\n                <div>\n                  File: <a href={linkToSubmittedDoc}>order.pdf</a>\n                </div>\n              )}\n              {live &&\n              status !== \"Approved\" &&\n              (!linkToSubmittedDoc || rejected) &&\n                  (userType === \"issuer\" || userType === \"beneficiary\" || (userType === 'Beneficiary-Selected Advisor' && beneficiarySelectedAccess)) && ( <Button style={{marginRight: \"10px\", minWidth: '80px'}}\n                        onClick={() => showModal(docReq, lcid, \"create\")}>Create</Button>\n              )}\n            </div>\n          </DocumentaryEntryFlex>\n          {live &&\n          (userType === \"issuer\" || (userType === \"Beneficiary-Selected Advisor\" && beneficiarySelectedAccess)) &&\n          status !== \"Approved\" &&\n          !rejected &&\n          linkToSubmittedDoc &&\n          (\n            <DocumentaryEntryEvaluation>\n              <Button onClick={approve}>Approve</Button>\n              <Button onClick={reject}>Reject</Button>\n              <div>\n                <SmallHeader>Comments</SmallHeader>\n                <input\n                  type=\"text\"\n                  value={comments}\n                  onChange={(e) => setComments(e.target.value)}\n                />\n              </div>\n            </DocumentaryEntryEvaluation>\n          )}\n        </ExpandedDocumentaryEntry>\n      )}\n    </DocumentaryEntryWrapper>\n  );\n};\n\nconst useModal = () => {\n  const [isModalShowing, setIsModalShowing] = useState(false);\n  const [modalDocReq, setModalDocReq] = useState(null);\n\n  return {\n    showModal: (docReq, lcid, modalType) => {\n      setIsModalShowing(modalType);\n      setModalDocReq({...docReq, lcid});\n    },\n    hideModal: () => setIsModalShowing(false),\n    isModalShowing,\n    modalDocReq\n  }\n};\n\nconst DocumentaryRequirements = ({lc, userType, live, refreshLc}) => {\n  const {showModal, hideModal, isModalShowing, modalDocReq} = useModal();\n  const docReqs = lc.documentaryrequirementSet;\n  return (\n    <Panel title=\"Documentary Requirements\">\n      <DocumentaryEntryFlex>\n        <SmallHeader style={{margin: \"0\"}}>Document Title</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Recieve By</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Status</SmallHeader>\n      </DocumentaryEntryFlex>\n      {docReqs ? docReqs.map(d =>\n        <DocumentaryRequirement\n          documentaryRequirement={d}\n          status={d.satisfied ? \"Approved\" : d.rejected ? \"Rejected\" : d.linkToSubmittedDoc ? \"Pending\" : \"Incomplete\"}\n          lcid={lc.id}\n          live={live}\n          userType={userType}\n          advisingAccess={lc?.confirmationMeans === \"Confirmation by a bank selected by the beneficiary\"\n          && lc?.creditExpiryLocation?.id === lc?.advisingBank?.id}\n          beneficiarySelectedAccess ={lc.beneficiarySelectedDocReq}\n          refreshLc={refreshLc}\n          key={d.docName}\n          showModal={showModal}\n        />\n      ) : (\n        <div style={{marginTop: \"10px\", fontStyle: \"italic\", fontWeight: \"300\"}}>\n          There are no documentary requirements for this LC.\n        </div>\n      )\n      }\n      <Modal show={isModalShowing} docReq={modalDocReq} hideModal={hideModal} refreshLc={refreshLc} lc={lc} userType = {userType}/>\n    </Panel>\n  );\n};\n\nexport default DocumentaryRequirements;\n","import React, {useEffect} from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"./Button\";\nimport config from \"../../config\";\n\nconst Background = styled.div`\n  position: fixed;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  left: 0%;\n  top: 0%;\n  z-index: 2;\n  background-color: rgba(211, 211, 211, 0.5);\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Container = styled.div`\n  background-color: white;\n  opacity: 100%;\n  padding: 20px;\n  max-width: 80%;\n  max-height: 80%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.div`\n  font-size: 26px;\n  padding-bottom: 15px;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`;\n\nconst ActionButton = styled(Button)`\n  margin: 5px;\n  min-width: 72px;\n`;\n\nconst CancelButton = styled(ActionButton)`\n  color: ${config.accentColor};\n  background-color: transparent;\n  min-width: 72px;\n`;\n\nconst Error = styled.span`\n  display: inline-flex;\n  align-items: center;\n  color: red;\n  font-style: italic;\n  padding-right: 20px;\n`;\n\nexport const Modal = ({show, title, children, onCancel, onSelect = () => {}, containerStyle,\n  onShow, error, selectDisabled, submitFormik, selectButton = \"Select\", cancelButton = \"Cancel\"}) => {\n\n  useEffect(() => {\n    const scrollTop = show ? `-${document.documentElement.scrollTop}px` : -parseInt(document.body.style.top);\n    document.body.style.position = show ? \"fixed\" : \"\";\n    document.body.style.width = show ? \"100%\" : \"\";\n    document.body.style.overflowY = show ? \"scroll\" : \"\";\n    if (show) document.body.style.top = scrollTop;\n    else {\n      document.body.style.top = \"\";\n      if (!isNaN(scrollTop)) document.documentElement.scrollTop = scrollTop;\n    }\n    show && onShow && onShow();\n    return () => {\n      document.body.style.position = \"\";\n      document.body.style.width = \"\";\n      document.body.style.overflowY = \"\";\n      const resetScroll = -parseInt(document.body.style.top);\n      if (!isNaN(resetScroll)) document.documentElement.scrollTop = resetScroll;\n      document.body.style.top = \"\";\n    }\n  }, [show]);\n\n  return (\n      show &&\n      <Background onClick={() => onCancel()}>\n        <Container style={containerStyle} onClick={event => event.stopPropagation()}>\n          <Title>{title}</Title>\n          {children}\n          <ButtonWrapper>\n            <Error>{error}</Error>\n            <CancelButton type={\"button\"} onClick={onCancel}>{cancelButton}</CancelButton>\n            <ActionButton type={submitFormik ? \"submit\" : \"button\"} disabled={selectDisabled} onClick={onSelect}>{selectButton}</ActionButton>\n          </ButtonWrapper>\n        </Container>\n      </Background>\n  )\n};\n","import React, {Fragment, useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faChevronDown, faChevronRight} from \"@fortawesome/free-solid-svg-icons\";\nimport {get} from \"lodash\";\n\nimport {makeAPIRequest} from '../../utils/api';\nimport Panel from './Panel';\nimport config from \"../../config\";\nimport AnimateHeight from \"react-animate-height\";\nimport {Modal} from \"../../components/ui/Modal\";\n\nconst InputWrapper = styled.div`\n  max-width: 700px;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border-radius: 10px;\n  border: 1px solid #cdcdcd;\n\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }\n  transition: border 0.3s;\n  background-color: #fff;\n`;\n\nconst QuestionText = styled.h3`\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.25;\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 5px;\n  margin-bottom: 10px;\n  color: ${props => props.error ? \"red\" : \"#555353\"};\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Asterisk = styled.span`\n  color: #dc3545;\n  font-size: 16px;\n`;\n\nconst StyledFormInput = styled.textarea`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-height: 100px;\n  font-size: 16px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  border: 1px solid ${config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  margin: 10px 0;\n  display: flex;\n  align-items: center;\n`;\n\nconst DocumentaryEntryFlex = styled.div`\n  display: flex;\n  align-items: baseline;\n  > :nth-child(1) {\n    min-width: 55%;\n  }\n  > :nth-child(2) {\n    min-width: 30%;\n  }\n  > :nth-child(3) {\n    min-width: 15%;\n  }\n  ${props => props.clickable && `cursor: pointer;`}\n`;\n\nconst DocumentaryEntryWrapper = styled.div`\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst DocReqTitle = styled.div`\n  font-weight: 500;\n  font-size: 24px;\n  max-width: 700px;\n  margin: 5px auto 20px;\n  margin: 5px auto 20px;\n  display: flex;\n  align-items: center;\n  ${props => props.clickable && `cursor: pointer;`}\n`;\n\nconst DocReqStatus = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n`;\n\nconst ExpandedDocumentaryEntry = styled.div`\n  padding-bottom: 10px;\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.5;\n  width: 75%;\n`;\n\nconst DocumentaryEntryEvaluation = styled.div`\n  display: flex;\n  margin-top: 10px;\n\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst SmallHeader = styled.div`\n  font-size: 12px;\n  min-width: 150px;\n  margin-right: 50px;\n`;\n\nconst RequestClarificationModal = ({lc, initialReason, modal, setModal, field, setLc, client, beneficiary}) => {\n  const [comment, setComment] = useState(initialReason);\n  const textAreaRef = useRef(null);\n\n  useEffect(() => {\n    if (modal === \"requestClarification\") {\n      textAreaRef.current.focus();\n    }\n  }, [modal]);\n\n  const onRequest = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {[field]: \"requested\"},\n      comment: {action: \"requested clarification on the beneficiary\", message: comment},\n      holdStatus: true\n    }).then(data => setLc(data.updatedLc));\n    setModal(\"\");\n  };\n\n  return (\n    <Modal selectButton={\"Confirm\"} show={modal === \"requestClarification\"} onCancel={() => setModal(\"\")}\n           title={\"Request Clarification\"} onSelect={onRequest}>\n      <div>Request {client?.name} to provide more information about {beneficiary?.name}?</div>\n      <div style={{paddingTop: 40}}>Comment:</div>\n      <StyledFormInput ref={textAreaRef} value={comment} onChange={({target}) => setComment(target.value)}/>\n    </Modal>\n  )\n};\n\nconst RejectionModal = ({lc, initialReason, modal, setModal, field, setLc}) => {\n  const [rejectionReason, setRejectionReason] = useState(initialReason);\n  const textAreaRef = useRef(null);\n\n  useEffect(() => {\n    if (modal === \"reject\") {\n      textAreaRef.current.focus();\n    }\n  }, [modal]);\n\n  const onReject = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {[field]: \"rejected\"},\n      comment: {action: \"rejected the LC\", message: rejectionReason},\n      holdStatus: true\n    }).then(data => setLc(data.updatedLc));\n    setModal(\"\");\n  };\n\n  return (\n    <Modal selectButton={\"Reject\"} show={modal === \"reject\"} onCancel={() => setModal(\"\")} title={\"Confirm Rejection\"}\n           onSelect={onReject}>\n      <div>Are you sure you want to reject this LC? Doing so will cause all changes to be permanently halted.</div>\n      <div style={{paddingTop: 40}}>Notes:</div>\n      <StyledFormInput ref={textAreaRef} value={rejectionReason}\n                       onChange={({target}) => setRejectionReason(target.value)}/>\n    </Modal>\n  )\n};\n\nconst titleCase = string => {\n  const exceptions = new Set(\n    [\"and\", \"as\", \"but\", \"for\", \"if\", \"nor\", \"or\", \"so\", \"yet\", \"a\", \"an\",\n      \"the\", \"as\", \"at\", \"by\", \"for\", \"in\", \"of\", \"off\", \"on\", \"per\", \"to\",\n      \"up\", \"via\"]);\n\n  const allCaps = new Set([\"s.a.\", \"sa\"]);\n\n  const capitalizeFirstLetter = (word, wordIndex) => {\n    word = word.toLowerCase();\n    if (allCaps.has(word)) {\n      return word.toUpperCase();\n    } else if (!wordIndex || !exceptions.has(word)) {\n      return word.charAt(0).toUpperCase() + word.substring(1);\n    } else {\n      return word;\n    }\n  };\n\n  return string.split(\" \").map((substr, ind) => capitalizeFirstLetter(substr, ind)).join(\" \");\n};\n\nconst SanctionInfo = ({sanction}) => {\n\n  const handleRightClick = event => {\n    event.preventDefault();\n    window.open(`https://www.google.com/search?q=${sanction.name}`);\n  };\n\n  const addressToString = address => {\n    const fields = [];\n    address.address && fields.push(address.address);\n    address.addressGroup && fields.push(address.addressGroup);\n    address.country && fields.push(address.country);\n    return fields.join(\", \");\n  };\n\n  return (\n    <div style={{paddingBottom: 20, paddingLeft: 20}}>\n      <div style={{fontSize: 19, width: \"70%\"}} title={\"Right click to search\"}\n           onContextMenu={handleRightClick}>{titleCase(sanction.name)}</div>\n      {sanction.aliases.length > 0 && <div style={{paddingLeft: 40, paddingTop: 5}}>\n        Aliases:\n        <div style={{paddingLeft: 40}}>\n          {sanction.aliases.map(alias => <div style={{paddingTop: 3}} key={alias.id}>{titleCase(alias.name)}</div>)}\n        </div>\n      </div>}\n      {sanction.addresses.length > 0 && <div style={{paddingLeft: 40, paddingTop: 5}}>\n        Addresses:\n        <div style={{paddingLeft: 40}}>\n          {sanction.addresses.map(\n            address => <div style={{paddingTop: 3}} key={address.id}>{addressToString(address)}</div>)}\n        </div>\n      </div>}\n    </div>\n  )\n};\n\nconst ComplianceCheck = ({\n  lc, setLc, title, initialRequestComment, initialRejectionReason, error, errorMessage, children, status, type\n}) => {\n  const [expanded, setExpanded] = useState(false);\n  const [modal, setModal] = useState(\"\");\n\n  let field;\n  if (type === \"company\") {\n    field = \"ofacBankApproval\"\n  } else if (type === \"country\") {\n    field = \"sanctionBankApproval\";\n  } else if (type === \"license\") {\n    field = \"importLicenseApproval\";\n  } else if (type === \"boycott\") {\n    field = \"boycottLanguageStatus\";\n  } else if (type === \"believablePrice\") {\n    field = \"believablePriceOfGoodsStatus\";\n  }\n  else if (type === \"dueAuthorization\") {\n    field = \"dueAuthorization\";\n  }\n\n  // Unauthorize the employee submitting the LC\n  const Reject = () => {\n      makeAPIRequest(`/business/${lc.taskedClientEmployees[0].id}/${lc.issuer.id}/${\"Unauthorized\"}/`, 'PUT')\n          .then(json => {\n            window.location.reload(true);\n          }).catch((error) => {console.log(error)})\n  }\n\n  //  Authorize the employee submitting the LC\n  const Authorize = () => {\n    makeAPIRequest(`/business/${lc.taskedClientEmployees[0].id}/${lc.issuer.id}/${\"Authorized\"}/`, 'PUT')\n        .then(json => {\n          window.location.reload(true);\n        }).catch((error) => {console.log(error)})\n  }\n\n\n  const onWaiveClick = () => {\n    // certain fields wont be able to be handled by the same update (just in case it gets here from the request modal somehow)\n    if (field === \"dueAuthorization\") {\n      return;\n    }\n\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {[field]: \"accepted\"},\n      holdStatus: true\n    }).then(data => setLc(data.updatedLc));\n  };\n\n  return (\n    <DocumentaryEntryWrapper>\n      <RejectionModal modal={modal} setModal={setModal} initialReason={initialRejectionReason}\n                      field={field} setLc={setLc} lc={lc}/>\n      <RequestClarificationModal lc={lc} modal={modal} setModal={setModal} initialReason={initialRequestComment}\n                                 setLc={setLc} client={lc?.client} field={field}\n                                 beneficiary={lc?.beneficiary}/>\n      <DocumentaryEntryFlex>\n        <div>\n          <DocReqTitle style={{margin: \"15px 0 0 0\"}} clickable\n                       onClick={() => setExpanded((e) => !e)}>\n            {title}\n            <FontAwesomeIcon\n              icon={expanded ? faChevronDown : faChevronRight}\n              style={{color: config.accentColor, marginLeft: \"10px\"}}\n            />\n          </DocReqTitle>\n          <Subtitle error={error} style={{paddingLeft: 10}}>\n            {error && errorMessage}\n          </Subtitle>\n        </div>\n        <ButtonWrapper style={{position: \"relative\"}}>\n          {field === \"dueAuthorization\" ? <Fragment><StyledButton selected={status === \"Authorized\"} onClick={Authorize}>Authorize</StyledButton>\n                <StyledButton selected={status === \"Unauthorized\"} onClick={Reject}>Reject</StyledButton> </Fragment>\n              : <Fragment><StyledButton selected={status === \"Accepted\"} onClick={onWaiveClick}>{field === 'dueAuthorization' ? 'Authorize' : 'Waive'}</StyledButton>\n            <StyledButton selected={status === \"Rejected\"} onClick={() => setModal(\"reject\")}>Reject</StyledButton></Fragment> }\n          {expanded && field !==\"dueAuthorization\" && <StyledButton style={{position: \"absolute\", top: 40}} selected={status === \"Requested\"}\n                                     onClick={() => setModal(\"requestClarification\")}>\n            Request More Info</StyledButton>}\n        </ButtonWrapper>\n        <DocReqStatus>{status}</DocReqStatus>\n      </DocumentaryEntryFlex>\n      <AnimateHeight duration={300} height={expanded ? \"auto\" : 0}>\n        <ExpandedDocumentaryEntry>\n          {children}\n        </ExpandedDocumentaryEntry>\n      </AnimateHeight>\n    </DocumentaryEntryWrapper>\n  );\n};\n\nconst CompanyOFACCheck = ({lc, setLc}) => {\n  const beneficiary = get(lc, 'beneficiary.name');\n  const sanctions = get(lc, 'ofacSanctions');\n  const status = get(lc, \"ofacBankApproval\");\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"company\"}\n      setLc={setLc}\n      title={\"OFAC Company Sanctions\"}\n      status={titleCase(status)}\n      initialRejectionReason={`The beneficiary ${beneficiary} is on the OFAC SDN sanction list.`}\n      initialRequestComment={`Our records indicate that the beneficiary ${beneficiary} is on the OFAC SDN sanction list. If this is a mistake, please provide reasoning to confirm so.`}\n      error={sanctions.length > 0}\n      errorMessage={`${sanctions.length > 0 ? sanctions.length : \"No\"} ${sanctions.length > 0 ? \"potential\"\n        : \"\"} error${sanctions.length !== 1 ? \"s\" : \"\"}${sanctions.length === 0 ? \" found\" : \"\"}`}\n    >\n      {sanctions.length > 0 ? sanctions.map(sanction => <SanctionInfo key={sanction.id} sanction={sanction}/>) :\n        <div style={{paddingLeft: 20, width: \"70%\"}}>Did not find any immediate sanction violations for\n          company {beneficiary}.</div>}\n    </ComplianceCheck>\n  )\n};\n\nconst CountrySanctionCheck = ({lc, setLc}) => {\n  const beneficiary = get(lc, 'beneficiary.name');\n  const beneficiaryCountry = get(lc, 'beneficiary.country');\n  const clientCountry = get(lc, \"client.country\");\n  const countrySanctionMessage = get(lc, \"sanctionAutoMessage\");\n  const status = get(lc, \"sanctionBankApproval\");\n  let message;\n  if (countrySanctionMessage === null) {\n    message = `Not able to check sanction violations for the country ${beneficiaryCountry}.\n    Please contact steve@bountium.org if you would like for this functioniality to be extended.`;\n  } else if (countrySanctionMessage === \"\") {\n    message = `Did not find any immediate sanction errors for country ${beneficiaryCountry}.`;\n  } else {\n    message = <div>Paying out an LC to {beneficiaryCountry} may violate sanctions. Please click&nbsp;\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={countrySanctionMessage}>here</a> for more information.</div>;\n  }\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"country\"}\n      setLc={setLc}\n      title={\"Country Sanctions\"}\n      status={titleCase(status)}\n      initialRejectionReason={`The beneficiary ${beneficiary}'s country (${beneficiaryCountry}) has sanction violations with your country (${clientCountry}).`}\n      initialRequestComment={`Our records indicate that the beneficiary ${beneficiary}'s country (${beneficiaryCountry}) has sanctions against your country (${clientCountry}). If this is a mistake, please provide reasoning to confirm so.`}\n      error={countrySanctionMessage === null || countrySanctionMessage}\n      errorMessage={countrySanctionMessage === \"\" ? \"No errors found\" : \"1 potential error\"}\n    >\n      <div style={{paddingLeft: 20, fontSize: 19, width: \"70%\"}}>{beneficiaryCountry}</div>\n      <div style={{paddingLeft: 60, width: \"70%\"}}>{message}</div>\n    </ComplianceCheck>\n  )\n};\n\nconst ImportLicenseCheck = ({lc, setLc}) => {\n  const licenseSanctionMessage = get(lc, \"importLicenseMessage\");\n  const status = get(lc, \"importLicenseApproval\");\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"license\"}\n      setLc={setLc}\n      title={\"Import License/Permits\"}\n      status={titleCase(status)}\n      initialRejectionReason={`There may an additional permit/license required for the goods marked.`}\n      initialRequestComment={`Our records indicate that there are additional permits required to ship this good. If this is a mistake, please provide reasoning to confirm so.`}\n      error={licenseSanctionMessage === null || licenseSanctionMessage}\n      errorMessage={licenseSanctionMessage === \" \" ? null : \"1 potential error\"}\n    >\n      {licenseSanctionMessage?.length > 1 ? <div\n          style={{paddingTop: 20, paddingLeft: 20}}>{licenseSanctionMessage}</div> :\n        <div style={{paddingLeft: 20, width: \"70%\"}}>Did not find any immediate license/permits required for this\n          transaction.</div>}\n    </ComplianceCheck>\n  )\n};\n\nconst BoycottLanguageCheck = ({lc, setLc}) => {\n  const boycotts = get(lc, 'boycottLanguage');\n  const status = get(lc, 'boycottLanguageStatus');\n\n  const boycottSourceToReadable = (source) => {\n    if (source === \"otherInstructions\") {\n      return \"'Other instructions' in the LC application\";\n    }\n  };\n\n  const boycottToReadable = (source, boycotts) => {\n    if (source === \"otherInstructions\") {\n      const indices = [];\n      boycotts.map(boycott => {\n        const startIndex = lc.otherInstructions.indexOf(boycott.phrase);\n        indices.push([startIndex, startIndex + boycott.phrase.length])\n      });\n      indices.sort((a, b) => a[0] - b[0]);\n      const cmps = [<span>{lc.otherInstructions.substring(0, indices[0][0])}</span>];\n      indices.forEach((indexes, index) => {\n        if (index > 0) {\n          cmps.push(<span>{lc.otherInstructions.substring(indices[index - 1][1], indexes[0])}</span>);\n        }\n        cmps.push(<span style={{fontWeight: 600}}>{lc.otherInstructions.substring(indexes[0], indexes[1])}</span>);\n      });\n      cmps.push(<span>{lc.otherInstructions.substring(indices[indices.length - 1][1])}</span>)\n      return (\n        <div style={{fontSize: 14, paddingLeft: 20, fontStyle: \"italic\"}}>\n          \"{cmps.map(cmp => cmp)}\"\n        </div>\n      )\n    }\n  };\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"boycott\"}\n      setLc={setLc}\n      title={\"Boycott Language\"}\n      status={titleCase(status)}\n      initialRejectionReason={`There is boycott language in this LC.`}\n      initialRequestComment={`Our records indicate that there is boycott language in this LC. If this is a mistake, please provide reasoning to confirm so.`}\n      error={boycotts === null || Object.keys(boycotts).length > 0}\n      errorMessage={`${Object.keys(boycotts).length > 0 ? Object.keys(boycotts).length : \"No\"} ${Object.keys(\n        boycotts).length > 0 ? \"potential\" : \"\"} error${Object.keys(boycotts).length !== 1 ? \"s\" : \"\"}${Object.keys(\n        boycotts).length === 0 ? \" found\" : \"\"}`}\n    >\n      {Object.keys(boycotts).length > 0 ?\n        <div>\n          <div style={{paddingLeft: 20, width: \"70%\", paddingBottom: 10}}>\n            This LC potentially violates United States Anti-Boycott laws. Please click&nbsp;\n            <a target=\"_blank\" rel=\"noopener noreferrer\"\n               href={\"https://www.bis.doc.gov/index.php/enforcement/oac\"}>here</a>\n            &nbsp;for more information.\n          </div>\n          {Object.entries(boycotts).map(([boycottSource, boycotts], boycottSourceIndex) => (\n            <div style={{paddingLeft: 40}} key={boycottSourceIndex}>\n              <div style={{fontSize: 19, width: \"70%\"}}>\n                From {boycottSourceToReadable(boycottSource)}:\n              </div>\n              {boycottToReadable(boycottSource, boycotts)}\n            </div>))}\n        </div> : <div style={{paddingBottom: 20}}>No immediate boycott language found in the LC.</div>}\n    </ComplianceCheck>\n  )\n};\n\nconst DueAuthorization = ({lc, setLc}) => {\n  const employee = get(lc, 'taskedClientEmployees[0]');\n  const issuer = get(lc, \"issuer\");\n  const initialRejectReason = \"This employee is not Authorized\";\n  const initialRequestComment = \"Please provide proof of Authorization that this employee can represent an LC for this company\";\n\n  const searchStatus = (authList) => {\n    for (let authItem of authList) {\n      if (authItem.bank.id === issuer.id) {\n        return titleCase(authItem.status);\n      }\n    }\n    return \"error\";\n  };\n\n  let status = searchStatus(employee.authorizedBanks || []);\n\n\n  return (\n      <ComplianceCheck\n          lc={lc}\n          type={\"dueAuthorization\"}\n          setLc={setLc}\n          title={\"Due Authorization\"}\n          status={status}\n          initialRejectionReason={initialRejectReason}\n          initialRequestComment={initialRequestComment}\n          error={status !== \"Authorized\"}\n          errorMessage={status !== \"Authorized\" && \"1 potential error\"}\n      >\n        {status === \"Authorized\" ? <div> {employee.name} is authorized to apply for an LC </div> : <div> {employee.name} is not authorized to apply for an LC</div>  }\n      </ComplianceCheck>\n  )\n};\n\nconst BelievablePriceOfGoods = ({lc, setLc}) => {\n  const goodsInfo = get(lc, 'goodsInfo');\n  const status = get(lc, 'believablePriceOfGoodsStatus');\n  const unitsPurchased = parseFloat(get(lc, 'unitsPurchased'));\n  const range = goodsInfo && [Math.max(0,\n    unitsPurchased * (parseFloat(goodsInfo.mean) - 2 * parseFloat(goodsInfo.standardDeviation))),\n    unitsPurchased * (parseFloat(goodsInfo.mean) + 2 * parseFloat(goodsInfo.standardDeviation))];\n  const credit = parseFloat(get(lc, 'creditAmt'));\n  const error = range && (credit < range[0] || credit > range[1]);\n  let initialRejectionReason = \"\";\n  let initialRequestComment = \"\";\n  let cmp = \"Did not find any immediate irregularities with the price of the goods.\";\n  if (error && credit < range[0]) {\n    initialRejectionReason = \"The price of the goods is too low.\";\n    initialRequestComment = \"Our records indicate that the price of the goods is too low. If this is a mistake, please provide reasoning to confirm so.\";\n    cmp = <div>The price of the goods for HTS code {goodsInfo.htsCode} (${credit}) may be too low. <a target=\"_blank\" rel=\"noopener noreferrer\" href={\"https://comtrade.un.org/Data/\"}>These records</a> indicate the range should fall somewhere between [${range[0]} - ${range[1]}].</div>\n  } else if (error && credit > range[1]) {\n    initialRejectionReason = \"The price of the goods is too high.\";\n    initialRequestComment = \"Our records indicate that the price of the goods is too high. If this is a mistake, please provide reasoning to confirm so.\";\n    cmp = <div>The price of the goods for HTS code {goodsInfo.htsCode} (${credit}) may be too high. <a target=\"_blank\" rel=\"noopener noreferrer\" href={\"https://comtrade.un.org/Data/\"}>These records</a> indicate the range should fall somewhere between [${range[0]} - ${range[1]}].</div>\n  }\n\n  const purchasedItem = get(lc, 'purchasedItem');\n  const unitOfMeasure = get(lc, 'unitOfMeasure');\n\n  return (\n    <ComplianceCheck\n      lc={lc}\n      type={\"believablePrice\"}\n      setLc={setLc}\n      title={\"Believable Price of Goods\"}\n      status={titleCase(status)}\n      initialRejectionReason={initialRejectionReason}\n      initialRequestComment={initialRequestComment}\n      error={error}\n      errorMessage={error && \"1 potential error\"}\n    >\n      <div style={{fontSize: 19, paddingLeft: 20, width: \"70%\"}}>\n        {purchasedItem}: ({unitsPurchased} {unitOfMeasure}):\n      </div>\n      <div style={{paddingLeft: 40}}>\n        {cmp}\n      </div>\n    </ComplianceCheck>\n  )\n};\n\nconst ComplianceChecks = ({lc, setLc}) => {\n  return (\n    <Panel title=\"Compliance Checks\">\n      <DocumentaryEntryFlex>\n        <SmallHeader style={{margin: \"0\"}}>Type</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Action</SmallHeader>\n        <SmallHeader style={{margin: \"0\"}}>Status</SmallHeader>\n      </DocumentaryEntryFlex>\n      <CompanyOFACCheck lc={lc} setLc={setLc}/>\n      <CountrySanctionCheck lc={lc} setLc={setLc}/>\n      <ImportLicenseCheck lc={lc} setLc={setLc}/>\n      <BoycottLanguageCheck lc={lc} setLc={setLc}/>\n      <BelievablePriceOfGoods lc={lc} setLc={setLc}/>\n      <DueAuthorization lc={lc} setLc={setLc}/>\n    </Panel>\n  );\n};\n\nexport default ComplianceChecks;\n","import React, {useEffect, useRef, useState} from \"react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faChevronDown, faCheck} from \"@fortawesome/free-solid-svg-icons\";\nimport styled from \"styled-components\";\nimport {Field} from \"formik\";\n\nconst disabledBackgroundColor = `#c3c1c3`;\nconst disabledColor = `black`;\n\nconst Option = styled.div`\n  padding: 10px;\n  overflow-wrap: break-word;\n  color: white;\n  user-select: none;\n  display: flex;\n  ${props => props.highlighted && `background-color: #1772fb;`}\n  &:hover {\n    background-color: #1772fb;\n  }\n`;\n\nconst StyledFormInput = styled(Field)`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nexport const Dropdown = ({ items, onChange, selectedIndex }) => {\n  const [menu, setMenu] = useState(false);\n\n  return (\n      <OutsideAlerter style={{position: \"relative\", flex: 1, flexDirection: \"column\"}} onOutsideClick={() => setMenu(false)}>\n        <div>\n          <div style={{display: \"flex\"}} onClick={() => setMenu(!menu)}>\n            <div style={{borderRight: \"1px solid #cdcdcd\", padding: \"10px\", flex: 1, wordBreak: \"break-word\"}}>{items[selectedIndex]}</div>\n            <div style={{width: \"20px\", alignSelf: \"center\", paddingLeft: \"5px\"}}>\n              <FontAwesomeIcon\n                  style = {{cursor: \"pointer\"}}\n                  icon={faChevronDown}\n                  size=\"lg\"\n                  color=\"#000\"\n              />\n            </div>\n          </div>\n          {menu && <div style={{position: \"absolute\", width: \"100%\", backgroundColor: \"black\", maxHeight: \"300px\", overflowY: \"scroll\", zIndex: 1}}>\n            {items.map(item => <Option key={item} onClick={() => {\n              setMenu(false);\n              onChange && onChange(item);\n            }}><FontAwesomeIcon icon={faCheck} color={\"#fff\"} style={{width: \"20px\", visibility: items[selectedIndex] === item ? \"visible\" : \"hidden\"}}/>\n            <div style={{flex: 1}}>{item}</div></Option>)}\n          </div>}\n        </div>\n      </OutsideAlerter>\n  )\n};\n\nexport const SearchableSelect = ({ items, onSelect, questionKey, handleChange }) => {\n  const [menu, setMenu] = useState(false);\n  const [highlightedItemIndex, setHighlightedItemIndex] = useState(-1);\n\n  useEffect(() => {\n    setHighlightedItemIndex(-1);\n  }, [items]);\n\n  const onKeyDown = event => {\n    if (event.keyCode === 40 && highlightedItemIndex + 1 < items.length) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex + 1);\n    } else if (event.keyCode === 38 && highlightedItemIndex - 1 >= 0) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex - 1);\n    } else if (event.keyCode === 13 && highlightedItemIndex > -1) {\n      event.preventDefault();\n      setMenu(false);\n      onSelect && onSelect(items[highlightedItemIndex]);\n    }\n  };\n\n  const onChange = event => {\n    setMenu(true);\n    handleChange(event);\n  };\n\n  const onClick = item => {\n    setMenu(false);\n    onSelect && onSelect(item);\n  };\n\n  return (\n      <OutsideAlerter style={{position: \"relative\", flex: 1, flexDirection: \"column\"}} onOutsideClick={() => setMenu(false)}>\n        <div style={{display: \"flex\", paddingLeft: 10}} onClick={() => setMenu(!menu)}>\n          <StyledFormInput autoComplete={\"off\"} onChange={onChange} type={\"text\"} name={questionKey} onKeyDown={onKeyDown}/>\n        </div>\n        {menu && <div style={{\n          position: \"absolute\",\n          width: \"100%\",\n          backgroundColor: \"black\",\n          maxHeight: \"300px\",\n          overflowY: \"scroll\",\n          zIndex: 1}}>\n          {items !== null ? items.map((item, itemIndex) =>\n              <Option highlighted={highlightedItemIndex === itemIndex}\n                      key={item.id} onMouseDown={() => onClick(item)}>\n                <div style={{flex: 1}}>{item.name}</div></Option>) : <div></div>}\n        </div>}\n      </OutsideAlerter>\n  )\n};\n\nexport const SearchableSelectHTS = ({ items, onSelect, questionKey, handleChange }) => {\n  const [menu, setMenu] = useState(false);\n  const [highlightedItemIndex, setHighlightedItemIndex] = useState(-1);\n\n  useEffect(() => {\n    setHighlightedItemIndex(-1);\n  }, [items]);\n\n  const onKeyDown = event => {\n    if (event.keyCode === 40 && highlightedItemIndex + 1 < items.length) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex + 1);\n    } else if (event.keyCode === 38 && highlightedItemIndex - 1 >= 0) {\n      event.preventDefault();\n      setHighlightedItemIndex(highlightedItemIndex - 1);\n    } else if (event.keyCode === 13 && highlightedItemIndex > -1) {\n      event.preventDefault();\n      setMenu(false);\n      onSelect(items[highlightedItemIndex]);\n    }\n  };\n\n  const onChange = event => {\n    setMenu(true);\n    handleChange(event);\n  };\n\n  const onClick = (hts, description) => {\n    setMenu(false);\n    onSelect && onSelect(hts, description);\n  };\n\n  return (\n      <OutsideAlerter style={{position: \"relative\", flex: 1, flexDirection: \"column\"}} onOutsideClick={() => setMenu(false)}>\n        <div style={{display: \"flex\"}} onClick={() => setMenu(!menu)}>\n          <StyledFormInput autoComplete={\"off\"} onChange={onChange} type={\"text\"} name={questionKey} onKeyDown={onKeyDown}/>\n        </div>\n        {menu && <div style={{\n          position: \"absolute\",\n          width: \"100%\",\n          backgroundColor: \"white\",\n          maxHeight: \"300px\",\n          overflowY: \"scroll\",\n          zIndex: 1}}>\n          {items !== null ? items.map((item, itemIndex) =>\n              <Option highlighted={highlightedItemIndex === itemIndex}\n                      key={item.id} onMouseDown={() => onClick(item.htsno, item.description)}>\n                <div style={{flex: 1, color: \"black\"}}>{item.description}</div></Option>) : <div></div>}\n        </div>}\n      </OutsideAlerter>\n  )\n};\n\n/**\n * Hook that alerts clicks outside of the passed ref\n */\nconst useOutsideAlerter = (ref, onOutsideClick) => {\n  useEffect(() => {\n    /**\n     * Alert if clicked on outside of element\n     */\n    function handleClickOutside(event) {\n      if (ref.current && !ref.current.contains(event.target)) {\n        onOutsideClick();\n      }\n    }\n    // Bind the event listener\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [ref]);\n};\n\n/**\n * Component that alerts if you click outside of it\n */\nexport const OutsideAlerter = (props) => {\n  const wrapperRef = useRef(null);\n  useOutsideAlerter(wrapperRef, props.onOutsideClick);\n\n  return <div ref={wrapperRef} style={props.style}>{props.children}</div>;\n};\n","import React, {Fragment, useContext, useEffect, useRef, useState} from \"react\";\nimport styled from \"styled-components\";\nimport { NavLink } from \"react-router-dom\";\nimport {Field, Form, Formik, useField, useFormikContext} from \"formik\";\nimport _, {get} from \"lodash\";\nimport moment from \"moment\";\n\nimport {makeAPIRequest} from '../../utils/api';\nimport {useAuthentication, UserContext} from \"../../utils/auth\";\nimport LCView from \"../../components/lc/LCView\";\nimport Button from \"../../components/ui/Button\";\nimport DocumentaryRequirements from './DocumentaryRequirements';\nimport Panel from './Panel';\nimport config from '../../config';\nimport {Modal} from \"../../components/ui/Modal\";\nimport ComplianceChecks from \"./ComplianceChecks\";\nimport { Link } from \"react-router-dom\";\nimport {faChevronDown, faChevronRight, faPlus} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {SearchableSelect} from \"../../components/ui/Dropdown\";\nimport {array, boolean, date, number, object, string} from 'yup';\n\n\n// TODO break this file up into multiple files\n\nconst disabledBackgroundColor = `#c3c1c3`;\nconst disabledColor = `black`;\n\nconst TwoColumnHolder = styled.div`\n  display: flex;\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst DocReqFieldWrapper = styled.div`\n  padding-top: 10px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #cdcdcd;\n  ${props => props.disabled && `background-color: ${disabledBackgroundColor};`}\n  > :first-child {\n    width: 130px;\n    font-weight: 300;\n    border-right: 1px solid #cdcdcd;\n    padding: 10px 10px 5px;\n    text-align: right;\n  }\n`;\n\nconst Asterisk = styled.span`\n  color: #dc3545;\n  font-size: 16px;\n`;\n\nconst StyledDocReqField = styled(Field)`\n  padding: 10px 10px 5px;\n  font-size: 16px;\n  border: none;\n  flex: 1;\n  width: calc(100% - 130px);\n  line-height: 1em;\n  color: #000;\n  background-color: ${props => props.disabled ? disabledBackgroundColor : '#fff'};\n`;\n\nconst InputWrapper = styled.div`\n  max-width: 700px;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border-radius: 10px;\n  border: 1px solid #cdcdcd;\n  transition: border 0.3s;\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n\n  ${props => !props.disabled && `&:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n`;\n\nconst LeftColumn = styled.div`\n  flex-grow: 1;\n  margin-right: 20px;\n  min-width: 250px;\n  max-width: 250px;\n`;\n\nconst AdvisorTitle = styled.div`\n  max-width: 700px;\n  margin: 5px auto 20px;\n  margin: 5px auto 20px;\n  display: flex;\n  align-items: center;\n  ${props => props.clickable && `cursor: pointer;`}\n`;\nconst  ExpandedAdvisor = styled.div`\n  padding-bottom: 10px;\n  font-size: 12px;\n  line-height: 1.5;\n`;\n\n\n\nconst RightColumn = styled.div`\n  flex-grow: 6;\n`;\n\nconst OrderStatusWrapper = styled.div`\n  font-weight: 300;\n`;\n\nconst PartyDisplayMessage = styled.div`\n  font-weight: 300;\n  margin: 15px 0;\n  text-align: center;\n`;\n\nconst APPROVALS_TO_STATE = {\n  issuerRejected: {\n    message: \"LC Application has been rejected by the issuer.\",\n    canEdit: [],\n    canApprove: []\n  },\n  client: {\n    message: \"LC Application has been submitted and is waiting on issuer review.\",\n    canEdit: ['issuer'],\n    canApprove: ['issuer'],\n  },\n  clientIssuer: {\n    message: \"LC has been sent to beneficiary and is awaiting approval or proposed changes.\",\n    canEdit: ['beneficiary', 'Beneficiary-Selected Advisor'],\n    canApprove: ['beneficiary'],\n  },\n  // clientBene is not possible\n  bene: {\n    message: \"LC has been resubmitted to issuer with beneficiary redlining and is awaiting their approval.\",\n    canEdit: ['issuer'],\n    canApprove: ['issuer'],\n  },\n  issuer: {\n    message: \"LC has been resent to client with issuer edits and is awaiting client approval.\",\n    canEdit: ['client'],\n    canApprove: ['client'],\n  },\n  issuerBene: {\n    message: \"LC has been resent to client with issuer and beneficiary edits and is awaiting client approval.\",\n    canEdit: ['client'],\n    canApprove: ['client'],\n  },\n};\n\nconst OrderStatusMessage = ({stateName}) => {\n  const message = APPROVALS_TO_STATE[stateName].message;\n  return <div>{message}</div>\n};\n\nconst OrderStatus = ({lc, setLc, userType, stateName, setModal, totalCredit}) => {\n  const approvals = [\n    {name: 'Issuer:', value: get(lc, 'issuerApproved')},\n    {name: 'Client:', value: get(lc, 'clientApproved')},\n    {name: 'Beneficiary:', value: get(lc, 'beneficiaryApproved')}\n  ];\n  const handleClickApprove = async () => {\n      if (userType === \"issuer\") {\n          const approvedCreditAmt = lc.client.approvedCredit.filter(\n              model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt;\n          if ((!approvedCreditAmt || parseFloat(totalCredit) +\n              parseFloat(lc.creditAmt) - parseFloat(lc.cashSecure) > parseFloat(approvedCreditAmt))) {\n              setModal(\"creditOverflowApprove\");\n          }\n          makeAPIRequest(`/lc/${get(lc, 'id')}/evaluate/`, 'POST', {approve: true})\n              .then(json => setLc({...lc, [`${userType}Approved`]: true}));\n      }\n    else {\n      makeAPIRequest(`/lc/${get(lc, 'id')}/evaluate/`, 'POST', {approve: true})\n      .then(json => setLc({...lc, [`${userType}Approved`]: true}));\n    } // TODO fix\n  };\n  const handleClickPayout = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/payout/`, 'POST', {approve: true})\n    .then(json => setLc({...lc, paidOut: true})); // TODO fix\n  };\n  const handleClickRequest = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/request/`, 'POST', {approve: true})\n    .then(json => setLc({...lc, requested: true})); // TODO fix\n  };\n  const handleClickDraw = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/draw/`, 'POST', {approve: true})\n    .then(json => setLc({...lc, drawn: true})); // TODO fix\n  };\n  const allApproved = approvals.every(a => a.value);\n  const {paidOut, drawn, requested} = lc;\n  return (\n    <Panel title=\"Order Status\" highlight>\n      <OrderStatusWrapper>\n        {!allApproved && APPROVALS_TO_STATE[stateName].canApprove.includes(userType) &&\n        <center><Button onClick={handleClickApprove}>Approve</Button></center>}\n        {allApproved && !paidOut && (userType === \"issuer\" || userType === \"Forwarding Bank\") &&\n        <center><Button onClick={handleClickPayout}\n                        style={{marginBottom: '15px'}}>Pay Out</Button></center>}\n        {allApproved && !requested && (userType === \"beneficiary\" || userType === 'Beneficiary-Selected Advisor') &&\n        <center><Button onClick={handleClickRequest} style={{marginBottom: '15px'}}>Request</Button></center>}\n        {allApproved && !drawn && (userType === \"beneficiary\" || userType === 'Beneficiary-Selected Advisor') &&\n        <center><Button onClick={handleClickDraw} style={{marginBottom: '15px'}}>Draw</Button></center>}\n        {allApproved && <PartyDisplayMessage style={{marginTop: '0'}}>This LC is live.</PartyDisplayMessage>}\n        {allApproved && paidOut ? <PartyDisplayMessage style={{marginTop: '0'}}>This LC has been paid\n            out.</PartyDisplayMessage>\n          : drawn ? <PartyDisplayMessage style={{marginTop: '0'}}>Payment for this LC has been\n              drawn.</PartyDisplayMessage>\n            : requested ? <PartyDisplayMessage style={{marginTop: '0'}}>Payment for this LC has been\n              requested.</PartyDisplayMessage> : null}\n        <PartyDisplayMessage style={{fontWeight: '500'}}>You are the {userType}.</PartyDisplayMessage>\n        {!allApproved && (\n          <OrderStatusMessage stateName={stateName}/>\n        )}\n      </OrderStatusWrapper>\n    </Panel>\n  );\n};\n\nconst OrderNotes = ({lc}) => {\n  return (\n    <Panel title=\"Revision Notes\">\n      <OrderStatusWrapper>\n        {lc.latestVersionNotes}\n      </OrderStatusWrapper>\n    </Panel>\n  )\n};\n\nconst ClientInformationWrapper = styled.div`\n  font-weight: 300;\n  font-size: 14px;\n  line-height: 1.5;\n`;\n\nconst HistoryOrder = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst BankInfo = ({bank}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    return (\n      <Fragment>\n      <AdvisorTitle style={{margin: \"15px 0 0 0\"}} clickable\n                    onClick={() => setExpanded((e) => !e)}>\n          {bank ?\n              <a href={`/bank/profile/${bank.id}`}>{bank.name}</a>\n              : <p>None</p>}\n          <FontAwesomeIcon\n              icon={expanded ? faChevronDown : faChevronRight}\n              style={{color: config.accentColor, marginLeft: \"10px\"}}\n          />\n      </AdvisorTitle>\n          {expanded &&\n      <ExpandedAdvisor>\n          <div style ={{fontWeight: \"bold\"}}>\n        <p>Address-</p>\n        <p style = {{paddingLeft: 20}}>{bank.address}</p>\n        <p>Email-</p>\n        <p style = {{paddingLeft: 20}}>{bank.email}</p>\n        <p>Country-</p>\n        <p style = {{paddingLeft: 20 }}>{bank.country}</p>\n          </div>\n      </ExpandedAdvisor>\n              }\n      </Fragment>\n  )\n}\n\n\nconst BasicInput = ({bankId}) => {\n    const [, meta, helpers] = useField(\"advisingBank\");\n    const {error, touched} = meta;\n    const {handleChange} = useFormikContext();\n    const {value} = meta;\n    const {setValue} = helpers;\n    const autocompleteTimeout = useRef(null);\n    const [suggested, setSuggested] = useState([]);\n\n    useEffect(() => {\n        clearTimeout(autocompleteTimeout.current);\n        const timeoutId = setTimeout(() =>\n            makeAPIRequest(`/bank/autocomplete/?string=${value.name}&exclude_ids=[${bankId}]`)\n                .then(suggested => setSuggested(suggested)), 400);\n        autocompleteTimeout.current = timeoutId;\n    }, [value]);\n\n    return (\n        <InputWrapper id={\"advisingBank\"}>\n            {error && touched && <Subtitle style={{color: '#dc3545'}}>{typeof error !== 'object' ? error : null}</Subtitle>}\n            <DocReqFieldWrapper>\n                <span>{\"Name\"}<Asterisk> *</Asterisk></span>\n                <SearchableSelect\n                    onSelect={item => setValue(\n                        {...value, name: item.name, address: item.address, country: item.country, email: item.email})}\n                    items={suggested}\n                    questionKey={\"advisingBank.name\"}\n                    handleChange={handleChange}\n                />\n            </DocReqFieldWrapper>\n            <DocReqFieldWrapper>\n                <span>{\"Address\"}<Asterisk> *</Asterisk></span>\n                <StyledDocReqField type={\"text\"} name={\"advisingBank.address\"}></StyledDocReqField>\n            </DocReqFieldWrapper>\n            <DocReqFieldWrapper>\n                <span>{\"Country\"}<Asterisk> *</Asterisk></span>\n                <StyledDocReqField type={\"text\"} name={\"advisingBank.country\"}></StyledDocReqField>\n            </DocReqFieldWrapper>\n            <DocReqFieldWrapper>\n                <span>{\"Email\"}<Asterisk> *</Asterisk></span>\n                <StyledDocReqField type={\"text\"} name={\"advisingBank.email\"}></StyledDocReqField>\n            </DocReqFieldWrapper>\n        </InputWrapper>\n    )\n};\n\n\nconst AdvisingBank = ({lc, userType, refreshLc}) => {\n  const advisingBank = get(lc, 'advisingBank');\n  const type3Bank = get(lc, 'type3AdvisingBank');\n  const [advisingModal, setAdvisingModal] = useState(false);\n  const [submitError, setSubmitError] = useState(\"\");\n\n\n\n  return (\n      <Fragment>\n      <Panel title=\"Advising Banks\">\n        <ClientInformationWrapper>\n            {advisingBank ? <BankInfo bank={advisingBank} /> : null}\n          {userType === \"issuer\" && !type3Bank && advisingBank ?\n              <div style = {{paddingTop: 15}}>\n              <FontAwesomeIcon\n                  icon={faPlus}\n                  style={{color: config.accentColor, marginLeft: \"10px\"}}\n                  onClick={() => setAdvisingModal(true)}\n              />\n              <p style ={{fontSize: 12, display: \"inline\", float: \"middle\", marginLeft: 10}}>Add Forwarding Bank</p>\n              </div>\n              : type3Bank ? <BankInfo bank={type3Bank} /> : null }\n        </ClientInformationWrapper>\n      </Panel>\n\n          <Formik validationSchema={object().shape({advisingBank: object().shape({name: string().required(), address: string().required(), country: string().required(), email: string().required()})})} initialValues={ {advisingBank : {name: \"\", address: \"\", country: \"\", email: \"\"}}}\n                  onSubmit={(values, {setSubmitting}) => {\n              setSubmitting(true);\n              makeAPIRequest(`/lc/${lc.id}/issuer/select_advising_bank/`, 'PUT', values.advisingBank)\n                  .then(() =>       {\n                      setAdvisingModal(false);\n                      setSubmitError(\"\");\n                      setSubmitting(false);\n                      refreshLc();\n                  }\n                  )\n                  .catch((error) => {\n                      return error.text();\n                  }).then((message) => {\n                  console.log(message);\n                  setSubmitError(message);\n                  setSubmitting(false);\n              })\n          }} >\n            <Form>\n                <Modal containerStyle={{width: \"55%\"}} show={advisingModal === true}\n                       title={\"Add Forwarding Bank\"}\n                       onCancel={() => setAdvisingModal(false)}\n                       selectButton={\"Add\"}\n                       submitFormik\n                >\n                    {submitError !== \"\" && <p>{submitError}</p> }\n                    <div>\n                        <BasicInput bankId={lc.issuer.id} />\n                    </div>\n                </Modal>\n            </Form>\n          </Formik>\n      </Fragment>\n  )\n}\n\nconst IssuerBank = ({lc}) => {\n  const issuer = get(lc, 'issuer');\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n      <Panel title=\"Issuing Bank\">\n        <ClientInformationWrapper>\n          {/*{advisingBank ?*/}\n          {/*      <a href={`/bank/profile/${advisingBank.id}`}>{advisingBank.name}</a>*/}\n          {/*    : <p>None</p>}*/}\n          {/*<AdvisorTitle style={{margin: \"15px 0 0 0\"}} clickable*/}\n          {/*              onClick={() => setExpanded((e) => !e)}>*/}\n          {/*  {issuer ?*/}\n          {/*      <a href={`/bank/profile/${issuer.id}`}>{issuer.name}</a>*/}\n          {/*      : <p>None</p>}*/}\n          {/*</AdvisorTitle>*/}\n         <BankInfo bank={issuer} />\n        </ClientInformationWrapper>\n      </Panel>\n  )\n}\n\nconst ClientInformation = ({lc}) => {\n  const employee = get(lc, 'taskedClientEmployees[0]');\n  const client = get(lc, 'client');\n  const [clientOrders, setClientOrders] = useState(null);\n  useEffect(() => {\n    makeAPIRequest(`/lc/by_client/${client.id}/`)\n    .then(json => setClientOrders(json));\n  }, [client.id]);\n\n  const abbreviateDescription = (description) => {\n      if (description.length > 100) {\n          return description.substring(0, 125) + \"...\";\n      }\n      return description\n  }\n  return (\n    <Panel title=\"Client Information\">\n      <ClientInformationWrapper>\n        POC: {employee.name}\n        <br/>\n        Email: <a href={`mailto:${employee.email}`}>{employee.email}</a>\n        <h1 style={{fontWeight: \"500\", margin: \"15px 0\"}}>Order History</h1>\n        {clientOrders && clientOrders.map(order => (\n          <HistoryOrder key={order.id}>\n            <a href={`/lc/${order.id}`}>{abbreviateDescription(order.purchasedItem) || `LC #${order.id}`}</a>\n            {lc.paidOut ? <span>{order.dueDate}</span> : <span>{order.applicationDate}</span>}\n          </HistoryOrder>\n        ))}\n      </ClientInformationWrapper>\n    </Panel>\n  );\n};\n\nconst BigStatsWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  > {\n    flex-grow: 1;\n  }\n\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst BigNumberTitle = styled.div`\n  font-size: 14px;\n  margin: 10px 0 15px;\n`;\n\nconst BigNumber = styled.div`\n  font-weight: 600;\n  font-size: 30px;\n  margin-bottom: 25px;\n`;\n\nconst AnalysisWrapper = styled.div`\n  display: flex;\n  align-items: baseline;\n  margin: 10px;\n`;\n\nconst SmallHeader = styled.div`\n  font-size: 12px;\n  min-width: 150px;\n  margin-right: 50px;\n`;\n\nconst AnalysisBody = styled.div`\n  font-weight: ${props => props.error === undefined ? 300 : 400};\n  ${props => props.error && \"color: red;\"}\n  ${props => props.error === false && \"color: #00a031;\"}\n`;\n\nconst AnalysisDetail = styled.span`\n  font-style: italic;\n  font-weight: 300;\n  font-size: 14px;\n  color: red;\n  text-decoration: underline;\n  opacity: .6;\n  cursor: pointer;\n  &:hover {\n    opacity: 1;\n    ${props => props.pop && \"font-size: 15px;\"}\n  }\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 15px;\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Financials = ({lc, setModal, totalCredit}) => {\n  let creditOverflow = false;\n  const approvedCreditAmt = lc.client.approvedCredit.filter(\n    model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt;\n  const lcCredit = lc.issuerApproved ? 0 : parseFloat(lc.creditAmt) - parseFloat(lc.cashSecure);\n  if (!approvedCreditAmt || parseFloat(totalCredit) +\n    lcCredit > parseFloat(approvedCreditAmt)) {\n    creditOverflow = true;\n  }\n  const client = get(lc, 'client');\n  return (\n    <Panel title=\"Financials\">\n      <BigStatsWrapper>\n        <div style={{paddingRight: 30, width: \"max-content\"}}>\n          <BigNumberTitle>Annual Cashflow</BigNumberTitle>\n          <BigNumber>\n            {client.annualCashflow || \"N/A\"}\n            <span style={{fontWeight: \"200\", fontSize: \"16px\"}}> yearly</span>\n          </BigNumber>\n        </div>\n        <div style={{paddingRight: 30}}>\n          <BigNumberTitle>Savings Available</BigNumberTitle>\n          <BigNumber>{client.balanceAvailable || \"N/A\"}</BigNumber>\n        </div>\n        <div>\n          <BigNumberTitle>Approved Credit</BigNumberTitle>\n          <BigNumber>{client.approvedCredit.filter(model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt\n          || \"N/A\"}</BigNumber>\n        </div>\n      </BigStatsWrapper>\n      <div>\n        <AnalysisWrapper>\n          <SmallHeader>Credit Analysis</SmallHeader>\n          <AnalysisBody error={creditOverflow}>\n            {creditOverflow ? \"There is a credit overflow.\"\n              : \"Approving this LC will not exceed the current approved credit limit.\"}\n            {creditOverflow && <span>&nbsp;</span>}\n            {creditOverflow && <AnalysisDetail onClick={() => setModal(\"creditOverflow\")}>\n              Click here for details\n            </AnalysisDetail>}\n          </AnalysisBody>\n        </AnalysisWrapper>\n        <AnalysisWrapper>\n          <SmallHeader>Tolerance Analysis</SmallHeader>\n          <AnalysisBody>\n            Bountium will provide tools to help understand tolerance values within a letter of credit.\n            <span style={{fontStyle: \"italic\", fontWeight: \"300\", fontSize: \"14px\"}}>\n              &nbsp;Coming soon\n            </span>\n          </AnalysisBody>\n        </AnalysisWrapper>\n      </div>\n    </Panel>\n  );\n};\n\nconst ODColumn = styled.div`\n  flex-basis: 50%;\n`;\n\nconst ODValue = styled.div`\n  font-weight: 500;\n  font-size: 24px;\n  margin-bottom: 20px;\n  margin-top: 5px;\n`;\n\nconst StyledInput = styled(Field)`\n\tborder: none;\n\tbackground-color: #eee;\n\tpadding: 10px;\n\tborder-radius: 10px;\n\tfont-size: 18px;\n`;\n\nconst StyledPopupInput = styled.input`\n  padding: 10px 0 5px;\n  flex: 1;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  border: 1px solid ${config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  margin: ${props => props.nested ? `0px` : `10px 0;`}\n  max-width: 45%;\n  display: flex;\n  align-items: center;\n`;\n\nconst YesNoInput = ({name}) => {\n  const [, meta, helpers] = useField(name);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n\n  return (\n    <ButtonWrapper>\n      <StyledButton onClick={handleClick(true)} selected={value === true}>Yes</StyledButton>\n      <StyledButton onClick={handleClick(false)} selected={value === false}>No</StyledButton>\n    </ButtonWrapper>\n  )\n};\n\nconst TYPE_TO_COMPONENT = {\n  text: (props) => (<StyledInput type=\"text\" {...props}/>),\n  number: (props) => (<StyledInput type=\"number\" {...props}/>),\n  date: (props) => (<StyledInput type=\"date\" {...props}/>),\n  boolean: (props) => (<YesNoInput type=\"text\" {...props}/>),\n};\n\nconst SubmitWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid #cdcdcd;\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n  align-items: center;\n`;\n\nconst SubmitSection = () => {\n  return (\n    <SubmitWrapper>\n      <ODColumn>\n        <Button type=\"submit\">Submit Revisions</Button>\n      </ODColumn>\n      <ODColumn>\n        <SmallHeader style={{marginBottom: '5px'}}>Revision Comments</SmallHeader>\n        <Field name=\"latestVersionNotes\" type=\"text\"/>\n      </ODColumn>\n    </SubmitWrapper>\n  )\n};\n\nconst OrderDetail = ({title, value, units, type, name, editing, error, errorClicked}) => {\n  const Input = TYPE_TO_COMPONENT[type];\n  return (\n    <>\n      <SmallHeader>{title}</SmallHeader>\n      <ODValue>\n        {editing && type ? <Input name={name} id={name}/> : (value || \"N/A\")}\n        {units && <span style={{fontWeight: \"200\", fontSize: \"16px\"}}> {units}</span>}\n        {error && <span>&nbsp;</span>}\n        {error && <AnalysisDetail pop onClick={errorClicked} style={{opacity: 1}}>{error}</AnalysisDetail>}\n      </ODValue>\n    </>\n  )\n};\n\nconst OrderDetails = ({lc, refreshLc, stateName, userType, live, modal, setModal, totalCredit}) => {\n  const [showExtra, setShowExtra] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const canEdit = !live && APPROVALS_TO_STATE[stateName].canEdit.includes(userType);\n  const details = [\n    {title: \"Counterparty\", value: get(lc, 'beneficiary.name')}, // must edit bene separately\n    {title: \"Counterparty's Country\", value: get(lc, 'beneficiary.country')}, // must edit bene separately\n    {title: \"Latest Permissible Charge Date\", value: lc.lateChargeDate, name: 'lateChargeDate', type: 'date'},\n    {title: \"Draft Presentation Date\", value: lc.draftPresentationDate, name: 'draftPresentationDate', type: 'date'},\n    {title: \"Unit of Measure\", value: lc.unitOfMeasure, type: 'text', name: 'unitOfMeasure'},\n    {title: \"Units Purchased\", value: lc.unitsPurchased, name: 'unitsPurchased', type: 'number'},\n    {\n      title: \"Price of Purchase\",\n      value: lc.creditAmt,\n      units: lc.currencyDenomination,\n      name: 'creditAmt',\n      type: 'number'\n    },\n    {title: \"Credit Expiration Date\", value: lc.expirationDate, name: 'expirationDate', type: 'date'},\n    {title: \"Cash Secure Amount\", value: lc.cashSecure, type: 'number', name: 'cashSecure'},\n    {title: \"Credit Amount (Verbal)\", value: lc.creditAmtVerbal, type: 'text', name: 'creditAmtVerbal'}\n  ];\n  const extraDetails = [\n    {title: \"Credit Delivery Means\", value: lc.creditDeliveryMeans, name: 'creditDeliveryMeans', type: 'text'},\n    // {title: \"Party Paying Other Banks' Fees\", value: lc.payingOtherBanksFees, href: }, TODO make this work\n    {\n      title: \"Draft's Invoice Value\",\n      value: lc.draftsInvoiceValue,\n      name: 'draftsInvoiceValue',\n      units: '%',\n      type: 'number'\n    },\n    {title: \"Credit Availability\", value: lc.creditAvailability, name: 'creditAvailability', type: 'text'},\n    {\n      title: \"Partial Shipment Allowed\",\n      value: lc.partialShipmentAllowed === true ? \"Yes\" : \"No\",\n      name: 'partialShipmentAllowed',\n      type: 'boolean'\n    },\n    {\n      title: \"Transshipment Allowed\",\n      value: lc.transshipmentAllowed === true ? \"Yes\" : \"No\",\n      name: 'transshipmentAllowed',\n      type: 'boolean'\n    },\n    {title: \"Merch Charge Location\", value: lc.merchChargeLocation, type: 'text', name: 'merchChargeLocation'},\n    {\n      title: \"Charge Transportation Location\",\n      value: lc.chargeTransportationLocation,\n      type: 'text',\n      name: 'chargeTransportationLocation'\n    },\n    {\n      title: \"Named Place of Destination\",\n      value: lc.namedPlaceOfDestination,\n      type: 'text',\n      name: 'namedPlaceOfDestination'\n    },\n    // {title: \"Doc Reception Notifees\", value: lc.docReceptionNotifees},\n    {\n      title: \"Client Arranging Insurance\",\n      value: lc.arrangingOwnInsurance === true ? \"Yes\" : \"No\",\n      name: 'arrangingOwnInsurance',\n      type: 'boolean'\n    },\n    {title: \"Other Instructions\", value: lc.otherInstructions, type: 'text', name: 'otherInstructions'},\n    {title: \"Merch Description\", value: lc.merchDescription, type: 'text', name: 'merchDescription'},\n    {\n      title: \"Transferable\", value: (lc.transferableToClient\n        ? `Yes, to ${lc.client.name}`\n        : (lc.transferableToBeneficiary\n          ? `Yes${lc.beneficiary && `, to ${lc.beneficiary.name}`}`\n          : \"No\")) // not editable for now\n    }\n  ];\n\n  // setup initial values\n  const initialValues = {latestVersionNotes: ''};\n  const allDetails = ([...details, ...extraDetails]);\n  allDetails.forEach(d => {\n    if (!d.name) {\n      return;\n    }\n    switch (d.type) {\n      case 'boolean':\n        if (d.value.toLowerCase() === 'yes') {\n          initialValues[d.name] = true;\n        } else if (d.value.toLowerCase() === 'no') {\n          initialValues[d.name] = false;\n        }\n        break;\n      default:\n        d.type && (initialValues[d.name] = d.value);\n    }\n  });\n\n  return (\n    <Panel title=\"Order Details\" expand={showExtra} setExpand={setShowExtra} editing={editing} setEditing={setEditing}\n           canEdit={canEdit}>\n      <Formik\n        initialValues={initialValues}\n        onSubmit={(values, {setSubmitting}) => {\n          setSubmitting(true);\n          const {latestVersionNotes, ...lcValues} = values;\n          const newLc = {};\n          Object.entries(lcValues).forEach(pair => {\n            const [k, v] = pair;\n            if (v !== initialValues[k]) {\n              newLc[k] = v;\n            }\n          });\n          makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n            lc: newLc, latestVersionNotes,\n          }).then(() => {\n            setSubmitting(false);\n            refreshLc();\n            setEditing(false);\n          })\n        }}\n      >\n        {() => (<div>\n              {userType === \"issuer\" || userType === \"client\" ?\n            <CreditOverflowPopup\n              setModal={setModal} modal={modal} setEditing={setEditing}\n              lc={lc} refreshLc={refreshLc} totalCredit={totalCredit}/>: null}\n            <Form>\n              {editing && <SubmitSection/>}\n              <div style={{display: 'flex'}}>\n                <ODColumn>\n                  {details.slice(0, details.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                  {showExtra && extraDetails.slice(0, extraDetails.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                </ODColumn>\n                <ODColumn>\n                  {details.slice(details.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                  {showExtra && extraDetails.slice(extraDetails.length / 2).map((d) =>\n                    <OrderDetail key={d.title} {...d} editing={editing}/>\n                  )}\n                </ODColumn>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n    </Panel>\n  );\n};\n\nconst scrollToAndHighlight = (questionKey) => {\n  const selector = `[id=\"${questionKey}\"]`;\n  let parentElement = document.querySelector(selector);\n  const originalBackgroundColor = window.getComputedStyle(parentElement).backgroundColor;\n  const changeQuestionBackgroundTemp = () => {\n    parentElement.animate({backgroundColor: [\"lightblue\", originalBackgroundColor]}, 1000);\n  };\n  let scrollTimeout;\n  const scrollHandler = () => {\n    clearTimeout(scrollTimeout);\n    scrollTimeout = setTimeout(() => {\n      window.removeEventListener(\"scroll\", scrollHandler);\n      changeQuestionBackgroundTemp();\n      parentElement.focus();\n    }, 20);\n  };\n  window.addEventListener(\"scroll\", scrollHandler);\n  parentElement.scrollIntoView({behavior: \"smooth\", block: \"center\"});\n};\n\nconst usePrevious = value => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nconst CreditOverflowPopup = ({lc, modal, setModal, refreshLc, setEditing, totalCredit}) => {\n  const [selectedButtonIndices, setSelectedButtonIndex] = useState({0: true, 1: false});\n  const prevSelectedButtonIndices = usePrevious(selectedButtonIndices);\n  const approvedCredit = lc.client.approvedCredit.filter(model => model.bank.id === lc.issuer.id)[0]?.approvedCreditAmt\n    || 0;\n  const minimumIncrease = (parseFloat(totalCredit) + parseFloat(lc.creditAmt) - parseFloat(lc.cashSecure) - parseFloat(\n    approvedCredit)).toString();\n  const [increaseApprovedCreditValue, setIncreaseApprovedCreditValue] = useState(minimumIncrease);\n  const [requestMoreCashValue, setRequestMoreCashValue] = useState(minimumIncrease);\n  const [error, setError] = useState(\"\");\n  const [submissionAttempts, setSubmissionAttempts] = useState(0);\n  const increaseApprovedCreditRef = useRef(null);\n  const requestMoreCashRef = useRef(null);\n  const {setFieldValue, values} = useFormikContext();\n  const overflow = -(parseFloat(approvedCredit) - parseFloat(totalCredit) -\n    parseFloat(lc.creditAmt) + parseFloat(lc.cashSecure));\n\n  useEffect(() => {\n    handleError();\n  }, [increaseApprovedCreditValue, requestMoreCashValue]);\n\n  useEffect(() => {\n    if (!_.isEqual(selectedButtonIndices, prevSelectedButtonIndices)) {\n      handleError();\n      if (selectedButtonIndices[0] && selectedButtonIndices[1]) {\n        if (prevSelectedButtonIndices[0]) {\n          requestMoreCashRef.current && requestMoreCashRef.current.focus();\n        } else if (prevSelectedButtonIndices[1]) {\n          increaseApprovedCreditRef.current && increaseApprovedCreditRef.current.focus();\n        }\n      } else if (selectedButtonIndices[0]) {\n        increaseApprovedCreditRef.current && increaseApprovedCreditRef.current.focus();\n      } else if (selectedButtonIndices[1]) {\n        requestMoreCashRef.current && requestMoreCashRef.current.focus();\n      }\n    }\n  });\n\n  const handleError = () => {\n    if (selectedButtonIndices[0] && selectedButtonIndices[1] && parseFloat(increaseApprovedCreditValue) + parseFloat(\n      requestMoreCashValue) < parseFloat(minimumIncrease)) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    } else if (selectedButtonIndices[0] && !selectedButtonIndices[1] && parseFloat(increaseApprovedCreditValue)\n      < parseFloat(minimumIncrease)) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    } else if (selectedButtonIndices[1] && !selectedButtonIndices[0] && parseFloat(requestMoreCashValue) < parseFloat(\n      minimumIncrease)) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    } else if (!selectedButtonIndices[0] && !selectedButtonIndices[1]) {\n      setError(`The minimum approved credit plus cash secured amount must be at least ${minimumIncrease}`);\n      return true;\n    }\n    setError(\"\");\n    return false;\n  };\n\n  const onSelect = async () => {\n    setSubmissionAttempts(submissionAttempts + 1);\n    const error = handleError();\n    if (!error && selectedButtonIndices[0]) {\n      await makeAPIRequest(`/bank/${lc.issuer.id}/business/${lc.client.id}/approved_credit/`, \"PUT\",\n        {approvedCreditAmt: parseFloat(increaseApprovedCreditValue) + parseFloat(approvedCredit)});\n      if (modal === \"creditOverflowApprove\" && !selectedButtonIndices[1]) {\n        await makeAPIRequest(`/lc/${get(lc, 'id')}/evaluate/`, 'POST', {approve: true});\n      }\n      refreshLc();\n      setModal(false);\n    }\n    if (!error && selectedButtonIndices[1]) {\n      await setEditing(true);\n      await setModal(false);\n      setFieldValue(\"cashSecure\", parseFloat(requestMoreCashValue) + parseFloat(lc.cashSecure));\n      setFieldValue(\"latestVersionNotes\",\n        `Please increase cash secured amount.${values.latestVersionNotes && \" \" + values.latestVersionNotes}`);\n      scrollToAndHighlight(\"cashSecure\");\n    }\n  };\n\n  return (\n    <Modal containerStyle={{width: \"55%\"}} show={modal === \"creditOverflow\" || modal === \"creditOverflowApprove\"}\n           title={\"Credit Overflow\"} error={submissionAttempts > 0 && error} onCancel={() => setModal(false)}\n           selectDisabled={submissionAttempts > 0 && error} onSelect={onSelect}\n           selectButton={modal === \"creditOverflowApprove\" && selectedButtonIndices[0] && !selectedButtonIndices[1]\n           ? \"Select and Approve\" : \"Select\"}>\n      <div>\n        Approving this LC will exceed the current approved credit ({approvedCredit}) for {get(lc,\n        \"client.name\")} by {overflow}.\n        <Subtitle>Check all that apply.</Subtitle>\n        <div style={{flexDirection: \"row\", display: \"flex\", paddingTop: 20, paddingBottom: 20}}>\n          <StyledButton\n            nested style={{width: 230, justifyContent: \"center\"}}\n            onClick={() => setSelectedButtonIndex({...selectedButtonIndices, 0: !selectedButtonIndices[0]})}\n            selected={selectedButtonIndices[0]}>\n            Increase Approved Credit By</StyledButton>\n          <StyledPopupInput\n            ref={increaseApprovedCreditRef} value={increaseApprovedCreditValue} type={\"number\"}\n            onChange={({target}) => setIncreaseApprovedCreditValue(target.value)}\n            style={{marginLeft: 10, visibility: selectedButtonIndices[0] ? \"visible\" : \"hidden\"}}/>\n        </div>\n        <div style={{flexDirection: \"row\", display: \"flex\", paddingBottom: 20}}>\n          <StyledButton\n            nested style={{width: 230, justifyContent: \"center\"}}\n            onClick={() => setSelectedButtonIndex({...selectedButtonIndices, 1: !selectedButtonIndices[1]})}\n            selected={selectedButtonIndices[1]}>\n            Request More Secured Cash</StyledButton>\n          <StyledPopupInput\n            ref={requestMoreCashRef} value={requestMoreCashValue} type={\"number\"}\n            onChange={({target}) => setRequestMoreCashValue(target.value)}\n            style={{marginLeft: 10, visibility: selectedButtonIndices[1] ? \"visible\" : \"hidden\"}}/>\n        </div>\n      </div>\n    </Modal>\n  )\n};\n\nconst StyledFormInput = styled.textarea`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-height: 100px;\n  font-size: 16px;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst Comments = ({lc, setLc, comments, userType}) => {\n  const [modal, setModal] = useState(false);\n  const [response, setResponse] = useState(\"\");\n\n  const onRespond = () => {\n    makeAPIRequest(`/lc/${get(lc, 'id')}/`, 'PUT', {\n      lc: {},\n      comment: {action: \"responded to the issuer\", message: response}\n    }).then(data => setLc(data.updatedLc));\n    setModal(false);\n  };\n\n  // TODO this should be a backend thing\n  comments = comments.filter(comment => comment[userType + \"Viewable\"]);\n  return (\n    <Panel title={\"Comments\"}>\n      <Modal selectButton={\"Respond\"} show={modal} onCancel={() => setModal(false)}\n             title={\"Respond to Comment\"} onSelect={onRespond}>\n        <div>\n          On {moment(modal.date).format(\"dddd, MMMM Do YYYY [at] h:mm a\")}, {userType === modal.authorType ? \"you\"\n          : `the ${modal.authorType}`} {modal.action}:\n          <div style={{paddingTop: 5, fontStyle: \"italic\", color: \"#808080\"}}>\n            \"{modal.message}\"\n          </div>\n        </div>\n        <div style={{paddingTop: 40}}>Response:</div>\n        <StyledFormInput value={response} onChange={({target}) => setResponse(target.value)}/>\n      </Modal>\n      {comments?.length ?\n        comments.map((comment, commentIndex) =>\n          <div style={commentIndex > 0 ? {paddingTop: 40} : null} key={comment.id}>\n            On {moment(comment.date).format(\"dddd, MMMM Do YYYY [at] h:mm a\")}, {userType === comment.authorType ? \"you\"\n            : `the ${comment.authorType}`} {comment.action}:\n            <div style={{paddingTop: 5, fontStyle: \"italic\", color: \"#808080\"}}>\n              \"{comment.message}\"\n            </div>\n            {comment.respondable === userType &&\n            <div style={{textAlign: \"end\"}}>\n              <Button onClick={() => setModal(comment)}>Respond</Button>\n            </div>}\n          </div>\n        )\n        : \"No comments to show.\"}\n    </Panel>\n  )\n};\n\nconst LCViewPage = ({match}) => {\n  useAuthentication(`/bank/lcs/${match.params.lcid}`);\n  const [user] = useContext(UserContext);\n    const [modal, setModal] = useState(\"\");\n  const [lc, setLc] = useState(null);\n  const [totalCredit, setTotalCredit] = useState();\n  let userType = 'unknown';\n\n    if (get(user, 'bank')) {\n        if (get(user, 'bank.id') === get(lc, 'issuer.id')) {\n            userType = 'issuer';\n        } else if (get(user, 'bank.id') === get(lc, 'advisingBank.id')) {\n            userType = 'Beneficiary-Selected Advisor';\n        } else if (get(user, 'bank.id') === get(lc, 'type3AdvisingBank.id')) {\n            userType = 'Forwarding Bank';\n        }\n    }\n  else if (get(user, 'business')) {\n    if (get(user, 'business.id') === get(lc, 'client.id')) {\n      userType = 'client';\n    } else if (get(user, 'business.id') === get(lc, 'beneficiary.id')) {\n      userType = 'beneficiary';\n    }\n  }\n\n  const live = get(lc, 'beneficiaryApproved') && get(lc, 'clientApproved') && get(lc, 'issuerApproved');\n  // get state of order\n  const a = {\n    issuer: get(lc, 'issuerApproved'),\n    client: get(lc, 'clientApproved'),\n    beneficiary: get(lc, 'beneficiaryApproved'),\n    issuerRejected: get(lc, 'ofacBankApproval') === 'rejected' || get(lc, 'sanctionBankApproval') === 'rejected'\n  };\n  let stateName = 'all';\n  if (a.issuerRejected) {\n    stateName = 'issuerRejected';\n  } else if (a.issuer === true) {\n    if (a.client === true) {\n      stateName = 'clientIssuer';\n    } else if (a.beneficiary === true) {\n      stateName = 'issuerBene';\n    } else {\n      stateName = 'issuer';\n    }\n  } else if (a.client === true) {\n    if (!a.beneficiary && !a.issuer) {\n      stateName = 'client';\n    }\n  } else if (a.beneficiary === true) {\n    if (!a.client && !a.issuer) {\n      stateName = 'bene';\n    }\n  }\n\n  // TODO change API to just return the new LC after we update it\n  const refreshLc = () => {\n    makeAPIRequest(`/lc/${match.params.lcid}/`)\n    .then(json => userType === \"issuer\" ? makeAPIRequest(`/lc/total_credit/${json.client.id}/`).then(totalCredit => {\n      setTotalCredit(totalCredit);\n      setLc(json)\n    }) : setLc(json));\n  };\n\n  useEffect(() => {\n    if (user) {\n      refreshLc();\n    }\n  }, [match.params.lcid, user?.id]);\n\n  return (\n    <LCView lc={lc} userType = {userType}>\n      <TwoColumnHolder>\n        <LeftColumn>\n          <OrderStatus lc={lc} totalCredit={totalCredit} userType={userType} setLc={setLc} live={live}\n                       stateName={stateName} setModal={setModal}/>\n          {get(lc, 'latestVersionNotes') && <OrderNotes lc={lc}/>}\n          <ClientInformation lc={lc}/>\n          <AdvisingBank lc={lc} userType = {userType} refreshLc = {refreshLc} />\n          {userType === 'issuer' ? null : <IssuerBank lc={lc} />}\n          <Comments lc={lc} setLc={setLc} comments={lc?.comments} userType={userType}/>\n        </LeftColumn>\n        <RightColumn>\n          {userType === 'issuer' && <Financials lc={lc} totalCredit={totalCredit} setModal={setModal}/>}\n          <OrderDetails lc={lc} setLc={setLc} refreshLc={refreshLc} stateName={stateName}\n                        userType={userType} live={live} modal={modal} setModal={setModal} totalCredit={totalCredit}/>\n          {userType === 'issuer' && <ComplianceChecks lc={lc} userType={userType} live={live} setLc={setLc}/>}\n          <DocumentaryRequirements lc={lc} userType={userType} live={live} refreshLc={refreshLc}/>\n        </RightColumn>\n      </TwoColumnHolder>\n    </LCView>\n  )\n\n};\n\nexport default LCViewPage;\n","import React, {useContext, useState} from \"react\";\nimport styled from \"styled-components\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { UserContext } from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\nimport StatusMessage from \"../../components/ui/StatusMessage\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  margin-bottom: 10px;\n  \n  > :nth-child(1) {\n    grid-column-start: 2;\n    justify-self: center;\n  }\n  \n  > :nth-child(2) {\n    justify-self: end;\n  }\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n  name: string().required(requiredMsg),\n  title: string().required(requiredMsg),\n  email: string().email('Please enter a valid email address.').required(requiredMsg),\n  password: string().required(requiredMsg).matches(/^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string().required(requiredMsg)\n  .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BankEmployeeSignUpPage = ({ history, match }) => {\n  const setUser = useContext(UserContext)[1];\n  const [status, setStatus] = useState({status: null, message: \"\"});\n  return (\n    <BasicLayout\n      title=\"Welcome! 🎉\"\n      subtitle=\"Create your account for lightning-fast LC processing.\"\n    >\n      <Formik\n        initialValues={{\n          name: '', title: '', email: '', password: '', passwordConfirm: '',\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          setSubmitting(true);\n          makeAPIRequest(`/bank/${match.params.bankid}/register/`, \"POST\", values)\n          .then((json) => {\n            setUser({ ...json.userEmployee, bank: json.usersEmployer });\n            history.push(match.params.lcid ? `/lc/${match.params.lcid}` : \"/bank/invite\");\n          })\n          .then(() => setSubmitting(false))\n          .catch(e => {\n            if (e.status === 404) {\n              setStatus({status: \"error\", message: \"This link is invalid. Double-check your email.\"});\n              setSubmitting(false);\n            }\n            else {\n              e.text().then(message => {\n                setStatus({status: \"error\", message});\n                setSubmitting(false);\n              });\n            }\n          })\n        }}\n        validationSchema={signUpFormValidationSchema}\n      >\n        {({ isSubmitting }) => (\n          <SignUpForm>\n            <FormInput\n              title=\"Your Name\"\n              name=\"name\"\n              type=\"text\"\n            />\n            <FormInput\n              title=\"Your Title\"\n              name=\"title\"\n              type=\"text\"\n            />\n            <FormInput\n              title=\"Email\"\n              name=\"email\"\n              type=\"text\"\n            />\n            <FormInput\n              title=\"Password\"\n              name=\"password\"\n              type=\"password\"\n            />\n            <FormInput\n              title=\"Confirm Password\"\n              name=\"passwordConfirm\"\n              type=\"password\"\n            />\n            <FormFooter>\n              <StatusMessage style={{marginTop: 0, overflow: \"auto\"}} status={status.status}>{status.message}</StatusMessage>\n              <Button style={{height: \"fit-content\"}} showArrow disabled={isSubmitting}>\n                Sign Up\n              </Button>\n            </FormFooter>\n          </SignUpForm>\n        )}\n      </Formik>\n    </BasicLayout>\n  );\n};\n\nexport default BankEmployeeSignUpPage;\n","import React, {useEffect, useRef, useState} from \"react\";\n\nexport const ResizableScreenDiv = ({style, children, minTop}) => {\n  const containerRef = useRef(null);\n  const [top, setTop] = useState(0);\n\n  useEffect(() => {\n    setTop(containerRef.current.getBoundingClientRect().top);\n    const scrollHandler = () => setTop(containerRef.current.getBoundingClientRect().top);\n    window.addEventListener(\"scroll\", scrollHandler);\n    return () => window.removeEventListener(\"scroll\", scrollHandler);\n  }, []);\n\n  return (\n      <div ref={containerRef} style={{...style, height: `calc(100vh - ${Math.max(top, minTop === undefined ? 40 : minTop)}px)`}}>\n        {children}\n      </div>\n  )\n};\n","import React, { useEffect, useState } from 'react';\nimport { Prompt, useHistory } from 'react-router-dom';\nimport {Modal} from './Modal';\n\nexport const RouteBlockingModal = ({when}) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [lastLocation, setLastLocation] = useState(null);\n  const [confirmedNavigation, setConfirmedNavigation] = useState(false);\n  const history = useHistory();\n\n  const closeModal = () => {\n    setModalVisible(false);\n  };\n  const handleBlockedNavigation = (nextLocation) => {\n    if (!confirmedNavigation) {\n      setModalVisible(true);\n      setLastLocation(nextLocation);\n      return false;\n    }\n    return true;\n  };\n\n  const handleConfirmNavigationClick = () => {\n    setModalVisible(false);\n    setConfirmedNavigation(true);\n  };\n\n  useEffect(() => {\n    if (confirmedNavigation && lastLocation) {\n      // Navigate to the previous blocked location with your navigate function\n      history.push(lastLocation.pathname);\n    }\n  }, [confirmedNavigation, lastLocation]);\n\n  return (\n      <div>\n        <Prompt when={when} message={handleBlockedNavigation}/>\n        <Modal\n            show={modalVisible}\n            title=\"Exit without saving?\"\n            selectButton=\"Confirm\"\n            cancelButton={\"Dismiss\"}\n            onCancel={closeModal}\n            onSelect={handleConfirmNavigationClick}>\n          <div style={{paddingBottom: 15}}>You have unsaved changes. Are you sure you want to leave without saving?</div>\n        </Modal>\n      </div>\n  );\n};\n","import React, {useContext, useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components';\nimport _ from 'lodash'\nimport {Field, Form, Formik, useField, useFormikContext} from 'formik';\nimport {array, boolean, date, number, object, string} from 'yup';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCheckSquare, faTimes, faTrash} from \"@fortawesome/free-solid-svg-icons\";\n\nimport BasicLayout from '../../components/BasicLayout';\nimport {makeAPIRequest, objectToCamelCase, objectToSnakeCase} from '../../utils/api';\nimport Button from \"../../components/ui/Button\";\nimport StatusMessage from \"../../components/ui/StatusMessage\";\nimport {useAuthentication, UserContext} from '../../utils/auth';\n\nimport config from '../../config';\nimport {Dropdown, SearchableSelect, SearchableSelectHTS} from \"../../components/ui/Dropdown\";\nimport {Modal} from \"../../components/ui/Modal\";\nimport {ResizableScreenDiv} from \"../../components/ui/ResizableScreenDiv\";\nimport {RouteBlockingModal} from \"../../components/ui/RouteBlockingModal\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst disabledBackgroundColor = `#c3c1c3`;\nconst disabledColor = `black`;\n\nconst InputWrapper = styled.div`\n  max-width: 700px;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border-radius: 10px;\n  border: 1px solid #cdcdcd;\n  transition: border 0.3s;\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n\n  ${props => !props.disabled && `&:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n`;\n\nconst QuestionText = styled.h3`\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.25;\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst ClickableText = styled.span`\n  color: blue;\n  cursor: pointer;\n  &:hover {\n    color: #1772fb;\n  }\n`;\n\nconst Subtitle = styled.div`\n  margin-top: 15px;\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst SectionSubtitle = styled.div`\n  color: #555353;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 300;\n`;\n\nconst Asterisk = styled.span`\n  color: #dc3545;\n  font-size: 16px;\n`;\n\nconst StyledFormInput = styled(Field)`\n  margin-top: 10px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst StyledInput = styled.input`\n  padding: 10px 0 5px;\n  flex: 1;\n  font-size: 16px;\n  border: none;\n  border-bottom: ${props => props.disabled ? `0px` : `1px solid #cdcdcd`};\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst StyledDiv = styled.div`\n  padding: 10px 0 5px;\n  flex: 1;\n  height: 18px;\n  border: none;\n  background-color: ${props => props.disabled ? disabledBackgroundColor : `#fff`};\n  color: ${props => props.disabled ? disabledColor : `#000`};\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin-top: 15px;\n  flex-wrap: wrap;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst NestedButtonWrapper = styled.div`\n  padding-left: 10px;\n  flex: 1;\n  display: flex;\n\n  > :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\nconst ButtonVerticalWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 15px;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  width: 95%;\n  > :first-child {\n    border-top: thin solid ${config.accentColor};\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : props.disabled ? disabledBackgroundColor\n  : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : props.disabled ? disabledColor : config.accentColor};\n  border: 1px solid ${props => props.disabled ? disabledColor : config.accentColor};\n  font-size: 16px;\n  ${props => !props.disabled && `cursor: pointer;`}\n  margin: ${props => props.nested ? `0px` : `10px 0;`}\n  ${props => !props.fitWidth && `max-width: 45%;`}\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledSection = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 1px;\n  padding: 10px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  text-align: left;\n  width: 100%;\n  border-width: thin;\n  border-style: solid;\n  border-color: ${config.accentColor};\n  border-top: none;\n`;\n\nconst scrollToAndHighlight = (questionKey) => {\n  const selector = `[id=\"${questionKey}\"]`;\n  let parentElement = document.querySelector(selector);\n  const originalBackgroundColor = window.getComputedStyle(parentElement).backgroundColor;\n  const changeQuestionBackgroundTemp = () => {\n    parentElement.animate({backgroundColor: [\"lightblue\", originalBackgroundColor]}, 1000);\n  };\n\n  // if the element is on the screen\n  if (window.scrollY <= parentElement.offsetTop && window.scrollY + document.documentElement.clientHeight >=\n    parentElement.offsetTop + parentElement.offsetHeight) {\n    changeQuestionBackgroundTemp();\n  } else {\n    let scrollTimeout;\n    const scrollHandler = () => {\n      clearTimeout(scrollTimeout);\n      scrollTimeout = setTimeout(() => {\n        window.removeEventListener(\"scroll\", scrollHandler);\n        changeQuestionBackgroundTemp()\n      }, 20);\n    };\n    window.addEventListener(\"scroll\", scrollHandler);\n    parentElement.scrollIntoView({behavior: \"smooth\", block: \"nearest\"});\n  }\n};\n\nconst BasicInput = ({question, children, subtitle}) => {\n  const [, meta] = useField(question.key);\n  const {error, touched} = meta;\n  return (\n    <InputWrapper id={question.key} disabled={question.disabledTooltip}>\n      <QuestionText disabled={question.disabledTooltip}>{question.questionText}{question.required ? (\n        <Asterisk> *</Asterisk>) : null}</QuestionText>\n      {!question.disabledTooltip && subtitle && <Subtitle>{subtitle}</Subtitle>}\n      {question.disabledTooltip && <Subtitle onClick={() => scrollToAndHighlight(\n        question.disabledTooltip.parentKey)}>{question.disabledTooltip.text}</Subtitle>}\n      {error && touched && <Subtitle style={{color: '#dc3545'}}>{typeof error !== 'object' ? error : null}</Subtitle>}\n      {children}\n    </InputWrapper>\n  )\n};\n\nconst TextInput = ({question, status, setStatus, lcApp, setAppliedTemplate, appliedTemplate}) => {\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      <SuggestTemplates question={question} status={status} appliedTemplate={appliedTemplate} lcApp={lcApp}\n                        setStatus={setStatus} setAppliedTemplate={setAppliedTemplate}/>\n      {!question.disabledTooltip && <StyledFormInput type=\"text\" name={question.key}/>}\n    </BasicInput>\n  );\n};\n\nconst DropdownInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  return (\n    <BasicInput question={question}>\n      <Dropdown items={question.options} onChange={item => setValue(item)}\n                selectedIndex={question.options.indexOf(value)}/>\n    </BasicInput>\n  )\n};\n\nconst NumberInput = ({question}) => {\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <StyledFormInput type=\"number\" name={question.key}/>}\n    </BasicInput>\n  )\n};\n\nconst YesNoInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <ButtonWrapper style={{justifyContent: 'center'}}>\n        <StyledButton onClick={handleClick(true)} selected={value === true}>Yes</StyledButton>\n        <StyledButton onClick={handleClick(false)} selected={value === false}>No</StyledButton>\n      </ButtonWrapper>}\n    </BasicInput>\n  )\n};\n\nconst MultipleChoiceOtherInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {handleChange} = useFormikContext();\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const onSelect = (item) => {\n  };\n\n  const options = question.options.map((item, itemIndex) => ({id: itemIndex, name: item}))\n\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      <SearchableSelect questionKey={question.key} items={options}\n      handleChange={handleChange} onSelect={onSelect}/>\n    </BasicInput>\n  )\n};\n\nconst HTSInput = ({question}) => {\n  const {handleChange, setFieldValue} = useFormikContext();\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const [suggested, setSuggested] = useState([]);\n  const beneficiaryAutocompleteTimeout = useRef(null);\n  const [useSuggest, setUseSuggest] = useState(true);\n\n  useEffect(() => {\n    searchHTSCodes();\n  }, [value]);\n\n  async function searchHTSCodes() {\n    if (value && value.length > 1 && useSuggest === true) {\n      clearTimeout(beneficiaryAutocompleteTimeout.current);\n      const timeoutId = setTimeout(() =>\n        fetch(`https://peaceful-journey-01245.herokuapp.com/https://hts.usitc.gov/api/search?query=${value}`, {\n\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n          },\n        }).then((response) => {\n          return response.json()\n        }).then((json) => {\n          setSuggested(json.results);\n        }).catch(() => {\n          setSuggested([]);\n        }), 400);\n      beneficiaryAutocompleteTimeout.current = timeoutId;\n    }\n  }\n\n  const onSelect = async (hts, description) => {\n    await setFieldValue(\"hts_code\", hts);\n    await setValue(description);\n  };\n\n  const inputComponent =\n    <SearchableSelectHTS\n      onSelect={onSelect}\n      items={suggested}\n      questionKey={question.key}\n      handleChange={handleChange}\n    />;\n\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      <AllCheckboxesWrapper>\n        <Checkbox\n          style={{color: config.accentColor}}\n          checked={useSuggest}\n          onChange={() => {\n            setUseSuggest(!useSuggest);\n            searchHTSCodes();\n          }}\n          name=\"suggestCheck\"\n        />\n        <QuestionText style={{paddingTop: 10}}>Suggest an HTS classification</QuestionText>\n      </AllCheckboxesWrapper>\n      {useSuggest === true ? inputComponent : <StyledFormInput type=\"text\" name={question.key}/>}\n    </BasicInput>\n  );\n};\n\nconst AllRadiosWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst RadioInput = ({question}) => {\n  const options = question.options;\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    setValue(val);\n  };\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <AllRadiosWrapper>\n        <ButtonWrapper>\n          {options && options.map((opt) => (\n            <StyledButton onClick={handleClick(opt)} selected={value === opt} key={opt}>{opt}</StyledButton>\n          ))}\n        </ButtonWrapper>\n      </AllRadiosWrapper>}\n    </BasicInput>\n  )\n};\n\nconst DateInput = ({question}) => {\n  return (\n    <BasicInput question={question} disabled={question.disabledTooltip}>\n      {!question.disabledTooltip && <StyledFormInput type=\"date\" name={question.key}/>}\n    </BasicInput>\n  )\n};\n\nconst AllCheckboxesWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst CheckboxInput = ({question}) => {\n  const options = question.options;\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const handleClick = (val) => (e) => {\n    e.preventDefault();\n    const i = value.indexOf(val);\n    if (i !== -1) {\n      setValue(value.slice(0, i).concat(value.slice(i + 1)));\n    } else {\n      setValue(value.concat([val]));\n    }\n  };\n\n  return (\n    <BasicInput disabled={question.disabledTooltip} question={question} subtitle=\"Check all that apply.\">\n      {!question.disabledTooltip && <AllCheckboxesWrapper>\n        <ButtonWrapper>\n          {options && options.map((opt) => (\n            <StyledButton disabled={question.disabledTooltip} onClick={handleClick(opt)}\n                          selected={value.indexOf(opt) !== -1} key={opt}>\n              {value.indexOf(opt) !== -1 && <FontAwesomeIcon icon={faCheckSquare} style={{marginRight: '10px'}}/>}\n              {opt}\n            </StyledButton>\n          ))}\n        </ButtonWrapper>\n      </AllCheckboxesWrapper>}\n    </BasicInput>\n  )\n};\n\nconst DocReqFieldWrapper = styled.div`\n  padding-top: 10px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #cdcdcd;\n  ${props => props.disabled && `background-color: ${disabledBackgroundColor};`}\n  > :first-child {\n    width: 130px;\n    font-weight: 300;\n    border-right: 1px solid #cdcdcd;\n    padding: 10px 10px 5px;\n    text-align: right;\n  }\n`;\n\nconst StyledDocReqField = styled(Field)`\n  padding: 10px 10px 5px;\n  font-size: 16px;\n  border: none;\n  flex: 1;\n  width: calc(100% - 130px);\n  line-height: 1em;\n  color: #000;\n  background-color: ${props => props.disabled ? disabledBackgroundColor : '#fff'};\n`;\n\nconst StyledDocReqDiv = styled.div`\n  padding: 10px 10px 5px;\n  font-size: 16px;\n  border: none;\n  flex: 1;\n  width: calc(100% - 130px);\n  line-height: 1em;\n  color: #000;\n  background-color: #fff;\n  word-break: break-word;\n`;\n\nconst DocReqTitle = styled.h3`\n  text-transform: uppercase;\n  font-weight: 300;\n  letter-spacing: .1em;\n  ${props => props.disabled && `color: ${disabledColor};`}\n`;\n\nconst CommonNestedTypeComponent = ({question, keyName}) => {\n  const componentMap = {\n    text: <StyledDocReqField type={\"text\"} disabled={question.disabled === \"True\" || question.disabledTooltip}\n                             name={keyName}/>,\n    number: <StyledDocReqField type={\"number\"} disabled={question.disabled === \"True\" || question.disabledTooltip}\n                               name={keyName}/>,\n    decimal: <StyledDocReqField type={\"number\"} disabled={question.disabled === \"True\" || question.disabledTooltip}\n                                name={keyName}/>,\n    date: <StyledDocReqField type={\"date\"} disabled={question.disabled === \"True\" || question.disabledTooltip}\n                             name={keyName}/>,\n  };\n  return componentMap[question.type];\n};\n\nconst ObjectNestedTypeComponent = ({question, value, setValue}) => {\n  const componentMap = {\n    boolean: <NestedButtonWrapper>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue({...value, [question.key]: true})}\n                    selected={value[question.key] === true}>Yes</StyledButton>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue({...value, [question.key]: false})}\n                    selected={value[question.key] === false}>No</StyledButton>\n    </NestedButtonWrapper>,\n  };\n  return componentMap[question.type];\n};\n\nconst ObjectInput = ({question, status, setStatus, lcApp, setAppliedTemplate, appliedTemplate, bankId}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  return (\n    <BasicInput question={question}>\n      {!question.disabledTooltip && question.children.map(child => {\n        const keyName = `${question.key}.${child.key}`;\n        let inputComponent = CommonNestedTypeComponent({question: child, keyName}) ||\n          ObjectNestedTypeComponent({question: child, value, setValue});\n        if (keyName === \"beneficiary.name\") {\n          inputComponent =\n            <BeneficiaryNameInput parent={question} child={child} status={status} setStatus={setStatus} lcApp={lcApp}\n                                  setAppliedTemplate={setAppliedTemplate} appliedTemplate={appliedTemplate}/>;\n        } else if (keyName === \"advising_bank.name\") {\n          inputComponent = <AdvisingBankInput parent={question} child={child} bankId={bankId}/>;\n        }\n        return (\n          <DocReqFieldWrapper key={keyName} disabled={child.disabledTooltip}>\n            <span>{child.questionText}{child.required && !child.disabledTooltip ? <Asterisk> *</Asterisk> : null}</span>\n            {inputComponent}\n          </DocReqFieldWrapper>\n        )\n      })}\n    </BasicInput>\n  )\n};\n\nconst AdvisingBankInput = ({parent, child, bankId}) => {\n  const {handleChange} = useFormikContext();\n  const [, meta, helpers] = useField(parent.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n  const autocompleteTimeout = useRef(null);\n  const [suggested, setSuggested] = useState([]);\n\n  const keyName = `${parent.key}.${child.key}`;\n\n  useEffect(() => {\n    clearTimeout(autocompleteTimeout.current);\n    const timeoutId = setTimeout(() =>\n      makeAPIRequest(`/bank/autocomplete/?string=${value.name}&exclude_ids=[${bankId}]`)\n      .then(suggested => setSuggested(suggested)), 400);\n    autocompleteTimeout.current = timeoutId;\n  }, [value]);\n\n  return (\n    <SearchableSelect\n      onSelect={item => setValue(\n        {...value, name: item.name, address: item.address, country: item.country, email: item.email})}\n      items={suggested}\n      questionKey={keyName}\n      handleChange={handleChange}\n    />\n  )\n};\n\nconst BeneficiaryNameInput = ({parent, child, status, setStatus, lcApp, setAppliedTemplate, appliedTemplate}) => {\n  const autocompleteTimeout = useRef(null);\n  const [suggested, setSuggested] = useState([]);\n  const {handleChange} = useFormikContext();\n  const [, meta, helpers] = useField(parent.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const keyName = `${parent.key}.${child.key}`;\n\n  const onBeneficiarySelect = async item => {\n    setValue({name: item.name, address: item.address, country: item.country})\n  };\n\n  useEffect(() => {\n    clearTimeout(autocompleteTimeout.current);\n    const timeoutId = setTimeout(() =>\n      makeAPIRequest(`/business/autocomplete/?string=${value.name}`)\n      .then(suggested => setSuggested(suggested)), 400);\n    autocompleteTimeout.current = timeoutId;\n  }, [value.name]);\n\n  return (\n    <React.Fragment>\n      <SuggestTemplates question={parent} keyName={keyName} status={status} appliedTemplate={appliedTemplate}\n                        lcApp={lcApp} setStatus={setStatus} setAppliedTemplate={setAppliedTemplate}/>\n      <SearchableSelect\n        onSelect={onBeneficiarySelect}\n        items={suggested}\n        questionKey={keyName}\n        handleChange={handleChange}\n      />\n    </React.Fragment>\n  )\n};\n\nconst SuggestTemplates = ({question, keyName = question.key, status, setStatus, lcApp, setAppliedTemplate, appliedTemplate}) => {\n  const {values, setValues, initialValues} = useFormikContext();\n  const autofillTemplateTimeout = useRef();\n  const [, meta] = useField(question.key);\n  const {value} = meta;\n\n  useEffect(() => {\n    if (status.status !== \"success\" && !appliedTemplate && (keyName === \"beneficiary.name\" || keyName\n      === \"purchased_item\" || keyName === \"applicant.country\" || keyName === \"advising_bank\")) {\n      clearTimeout(autofillTemplateTimeout.current);\n      const timeoutId = setTimeout(() => {\n        const params = {};\n        if (values.beneficiary.name) {\n          params.beneficiary_name = values.beneficiary.name;\n        }\n        if (values.purchased_item) {\n          params.purchased_item = values.purchased_item;\n        }\n        const paramString = Object.entries(params).map(([key, value]) => `${key}=${value}`).join(\"&\");\n        if (paramString) {\n          makeAPIRequest(`/lc/digital_app_templates/?${paramString}`).then(result => {\n            if (result.length) {\n              const Component = (\n                <div>\n                  <div style={{display: \"flex\"}}>\n                    <span style={{flex: 1}}/>\n                    <StyledIcon onClick={() => setStatus({status: null, message: \"\"})}\n                                icon={faTimes} style={{color: \"black\"}}/>\n                  </div>\n                  <div style={{color: \"black\"}}>Load Template with Similar Answers:</div>\n                  <div style={{paddingTop: 10}}>\n                    {result.map(template => (\n                      <div key={template.id} style={{paddingTop: 5}}>\n                        <ClickableText onClick={async () => {\n                          setStatus({status: null, message: \"\"});\n                          await loadTemplateAnswers({\n                            lcApp,\n                            selectedTemplate: template,\n                            values,\n                            initialValues,\n                            setValues,\n                            setAppliedTemplate,\n                            setStatus\n                          });\n                        }}>\n                          {template.templateName}\n                        </ClickableText></div>\n                    ))}\n                  </div>\n                </div>\n              );\n              setStatus({status: \"info\", message: Component});\n            } else {\n              setStatus({status: null, message: \"\"});\n            }\n          });\n        }\n      }, 500);\n      autofillTemplateTimeout.current = timeoutId;\n    }\n  }, [value]);\n\n  return null;\n};\n\nconst ArrayNestedTypeComponent = ({question, parentQuestion, value, setValue, valueIndex, options}) => {\n  const keyName = `${parentQuestion.key}[${valueIndex}].${question.key}`;\n  const curVal = value[valueIndex][question.key];\n  const componentMap = {\n    boolean: <NestedButtonWrapper>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue(value.map((valObj, curInd) =>\n                      curInd === valueIndex ? {...valObj, [question.key]: true} : valObj))}\n                    selected={curVal}>Yes</StyledButton>\n      <StyledButton nested={true} type={\"button\"} disabled={question.disabled === \"True\"}\n                    onClick={() => setValue(value.map((valObj, curInd) =>\n                      curInd === valueIndex ? {...valObj, [question.key]: false} : valObj))}\n                    selected={curVal}>No</StyledButton>\n    </NestedButtonWrapper>,\n    radio: !question.options && (valueIndex < value.length - 1 || options.length === 1) ?\n      <StyledDocReqDiv>{curVal}</StyledDocReqDiv> :\n      <Dropdown selectedIndex={options.indexOf(curVal)} items={options}\n                onChange={selected => setValue(value.map((valObj, curInd) =>\n                  curInd === valueIndex ? {...valObj, [question.key]: selected} : valObj))}/>\n  };\n  return componentMap[question.type];\n};\n\nconst StyledIcon = styled(FontAwesomeIcon)`\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst DocReqInput = ({question}) => {\n  const [, meta, helpers] = useField(question.key);\n  const {value} = meta;\n  const {setValue} = helpers;\n\n  const addDocument = () => {\n    const addition = {};\n    question.children.forEach(child => {\n      addition[child.key] = TYPE_TO_DEFAULT[child.type];\n      if (child.type === \"radio\") {\n        addition[child.key] = getOptions(child, true)[0];\n      }\n    });\n    setValue([...value, addition]);\n  };\n\n  const removeDocument = indexToRemove => {\n    setValue(value.filter((valObj, curInd) => curInd !== indexToRemove));\n  };\n\n  const getOptions = (childQuestion, includeLast) => {\n    if (childQuestion.options) {\n      return childQuestion.options;\n    } else if (question.options) {\n      const valueOptionsSet = new Set(value.filter((valObj, curInd) => includeLast ||\n        curInd < value.length - 1).map(valObj => valObj[childQuestion.key]));\n      return question.options.filter(option => !valueOptionsSet.has(option));\n    } else {\n      return null;\n    }\n  };\n\n  const name = question.settings?.name;\n\n  return (\n    <BasicInput question={question}>\n      {!question.disabledTooltip && value.map((obj, i) => {\n        return (\n          <div style={{margin: \"20px\"}} key={i}>\n            <DocReqTitle>{name ? name : \"Documentary Requirement\"} #{i + 1} <StyledIcon icon={faTrash}\n                                                                                        onClick={() => removeDocument(\n                                                                                          i)}/></DocReqTitle>\n            {question.children.map(child => {\n              const keyName = `${question.key}[${i}].${child.key}`;\n              return (\n                <DocReqFieldWrapper key={keyName}>\n                  <span>{child.questionText}{child.required ? <Asterisk> *</Asterisk> : null}</span>\n                  {CommonNestedTypeComponent({question: child, keyName}) ||\n                  ArrayNestedTypeComponent({\n                    question: child,\n                    parentQuestion: question,\n                    value,\n                    setValue,\n                    valueIndex: i,\n                    options: getOptions(child)\n                  })}\n                </DocReqFieldWrapper>)\n            })}\n          </div>\n        )\n      })}\n      {!question.disabledTooltip && <center style={{marginTop: '25px'}}>\n        <StyledButton disabled={question.options && question.options.length === value.length} type={\"button\"}\n                      onClick={addDocument}>Add {name ? name : \"Documentary Requirement\"}</StyledButton>\n      </center>}\n    </BasicInput>\n  )\n};\n\nconst contains = (option, answer) => {\n  if (option === \"*\") {\n    return answer.length;\n  } else if (answer && Array.isArray(answer)) {\n    return answer.some(piece => _.isEqual(piece, option));\n  } else {\n    return option === answer;\n  }\n};\n\nconst markDisabled = async ({questions, values, setLCApp, validateForm}) => {\n  let changed = false;\n  const questionsCopy = questions.map(q => ({...q}));\n  questionsCopy.forEach(q => {\n    q.children.filter(childQ => childQ.disabled && childQ.disabled !== \"True\").forEach(childQ => {\n      const dependency = JSON.parse(childQ.disabled);\n      for (let option of dependency.answer) {\n        if (contains(option, values[q.key][dependency.key])) {\n          changed = changed || !childQ.disabledTooltip;\n          childQ.disabledTooltip = true;\n          return;\n        }\n      }\n      if (childQ.disabledTooltip) {\n        childQ.disabledTooltip = undefined;\n        changed = true;\n      }\n    });\n    if (q.disabled) {\n      const dependency = JSON.parse(q.disabled);\n      for (let option of dependency.answer) {\n        if (contains(option, values[dependency.key])) {\n          const parentQuestion = questions.find(potential => potential.key === dependency.key);\n          changed = changed || !q.disabledTooltip;\n          const message = (<span style={{color: \"#58595A\"}}>This question is redundant based on your earlier\n        answer to <ClickableText>'{parentQuestion.questionText}'</ClickableText></span>);\n          q.disabledTooltip = {text: message, parentKey: parentQuestion.key};\n          return;\n        }\n      }\n      if (q.disabledTooltip) {\n        q.disabledTooltip = undefined;\n        changed = true;\n      }\n    }\n  });\n  if (changed) {\n    await setLCApp([...questionsCopy]);\n    validateForm();\n  }\n};\n\nconst findAndSetSectionsError = ({questions, errors, touched, setSectionsError}) => {\n  const erroredQuestions = questions.filter(q => errors[q.key]);\n  const erroredAndTouchedSections = erroredQuestions.filter(q => touched[q.key]).map(q => q.section);\n  setSectionsError(new Set(erroredAndTouchedSections));\n};\n\nconst scrollToFirstErrorOnSection = ({questions, errors, selectedSection}) => {\n  const erroredQuestions = questions.filter(q => errors[q.key]);\n  const erroredQuestionsOnSelectedSection = erroredQuestions.filter(q => q.section === selectedSection?.text);\n  if (erroredQuestionsOnSelectedSection.length) {\n    const selector = `[id=\"${erroredQuestionsOnSelectedSection[0].key}\"]`;\n    let errorElement = document.querySelector(selector);\n    errorElement.scrollIntoView({behavior: \"smooth\"});\n  } else {\n    window.scrollTo({top: 0, behavior: \"smooth\"});\n  }\n};\n\nconst ErrorFocus = (props) => {\n  let {isSubmitting, errors, touched, questions, selectedSection, setTouched, values} = props;\n\n  const prevErrors = usePrevious(errors);\n  const prevTouched = usePrevious(touched);\n  const prevValues = usePrevious(values);\n  const prevSelectedSection = usePrevious(selectedSection);\n  const prevIsSubmitting = usePrevious(isSubmitting);\n\n  const keyToEffect = {\n    scroll: scrollToFirstErrorOnSection,\n    sectionsErrors: findAndSetSectionsError,\n    markDisabled: markDisabled\n  };\n\n  useEffect(() => {\n    const effects = new Set();\n    if (!_.isEqual(selectedSection, prevSelectedSection)) {\n      touched = {...touched};\n      questions.forEach(q => {\n        if (q.section === prevSelectedSection?.text) {\n          touched[q.key] = true;\n        }\n      });\n      setTouched(touched);\n      effects.add(\"scroll\");\n    }\n    if (!_.isEqual(errors, prevErrors) || !_.isEqual(touched, prevTouched)) {\n      effects.add(\"sectionsErrors\");\n    }\n    if (!_.isEqual(values, prevValues)) {\n      effects.add(\"markDisabled\");\n    }\n    if (isSubmitting && !prevIsSubmitting) {\n      effects.add(\"sectionsErrors\");\n      effects.add(\"scroll\");\n    }\n    effects.forEach(effect => keyToEffect[effect](props));\n  });\n\n  return null;\n};\n\nconst usePrevious = value => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nconst TYPE_TO_COMPONENT = {\n  text: TextInput,\n  decimal: NumberInput,\n  number: NumberInput,\n  boolean: YesNoInput,\n  hts: HTSInput,\n  radio: RadioInput,\n  date: DateInput,\n  checkbox: CheckboxInput,\n  object: ObjectInput,\n  array_of_objs: DocReqInput,\n  dropdown: DropdownInput,\n  multiple_choice_with_other: MultipleChoiceOtherInput\n};\n\nconst createDefault = question => {\n  let initial = question.initialValue;\n  if (question.type === \"object\") {\n    initial = initial || {};\n    question.children.forEach(child => {\n      initial[child.key] = child.initialValue || TYPE_TO_DEFAULT[child.type];\n    });\n  } else if (!initial) {\n    initial = TYPE_TO_DEFAULT[question.type];\n  }\n  return initial;\n};\n\nconst TYPE_TO_DEFAULT = {\n  text: \"\",\n  decimal: 0,\n  number: 0,\n  boolean: null,\n  hts: \"\",\n  radio: null,\n  date: (new Date()).toISOString().slice(0, 10),\n  checkbox: [],\n  object: {},\n  array_of_objs: [],\n  dropdown: \"\",\n  multiple_choice_with_other: \"\"\n};\n\nconst REQUIRED_FIELD_MSG = \"This field is required.\";\nconst REQUIRED_SECTION_MSG = \"Missing required fields\";\n\nconst TYPE_TO_VALIDATION_SCHEMA = {\n  text: string(),\n  decimal: number(),\n  number: number(),\n  boolean: boolean().nullable(),\n  hts: string(),\n  radio: string().nullable(),\n  date: date(),\n  checkbox: array().of(string()),\n  dropdown: string(),\n  multiple_choice_with_other: string()\n};\n\nconst createChildrenShape = question => {\n  const shape = {};\n  question.children.forEach(child => {\n    shape[child.key] = child.required && !child.disabledTooltip ?\n      TYPE_TO_VALIDATION_SCHEMA[child.type].required(REQUIRED_FIELD_MSG) :\n      TYPE_TO_VALIDATION_SCHEMA[child.type];\n  });\n  return shape;\n};\n\nconst createValidationSchema = question => {\n  let schema = TYPE_TO_VALIDATION_SCHEMA[question.type];\n  if (question.type === 'object') {\n    schema = object().shape(createChildrenShape(question));\n  } else if (question.type === 'array_of_objs') {\n    schema = array().of(object().shape(createChildrenShape(question)));\n  }\n  if (question.required && !question.disabledTooltip) {\n    schema = schema.required(REQUIRED_FIELD_MSG);\n  }\n  return schema;\n};\n\nconst loadTemplateAnswers = async ({lcApp, selectedTemplate, values, initialValues, setValues, setAppliedTemplate, setStatus}) => {\n  const questionType = {};\n  lcApp.forEach(q => questionType[q.key] = q.type);\n  const template = await makeAPIRequest(`/lc/digital_app_templates/${selectedTemplate.id}/`, \"GET\");\n  values = {...values};\n  for (let [key, value] of Object.entries(template)) {\n    const questionKey = _.snakeCase(key);\n    if (questionType[questionKey] === \"object\" ||\n      questionType[questionKey] === \"array_of_objs\" ||\n      questionType[questionKey] === \"checkbox\") {\n      value = JSON.parse(value);\n    }\n    if (initialValues[questionKey] !== undefined && !_.isEmpty(value)) {\n      values[questionKey] = value;\n    }\n    template[key] = value;\n  }\n  setStatus({status: \"success\", message: \"Successfully loaded application\"});\n  setTimeout(() => setStatus({status: null, message: \"\"}), 2500);\n  setValues(values);\n  setAppliedTemplate(template);\n};\n\nconst LoadTemplate = ({lcApp, setModal, initialValues, setAppliedTemplate, setStatus, setValues, values}) => {\n  const [selectedTemplate, setSelectedTemplate] = useState();\n  const [lcTemplates, setLCTemplates] = useState();\n\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      setLCTemplates(await makeAPIRequest(\"/lc/digital_app_templates/\", \"GET\"));\n    };\n    fetchTemplates();\n  }, []);\n\n  return (\n    <Modal show={true} title={\"Load Application Template\"} onCancel={() => setModal(null)}\n           onSelect={async () => {\n             setModal(null);\n             if (!selectedTemplate) {\n               return;\n             }\n             await loadTemplateAnswers(\n               {lcApp, selectedTemplate, values, initialValues, setValues, setAppliedTemplate, setStatus});\n           }}\n    >\n      {lcTemplates && !lcTemplates.length && <div style={{paddingBottom: 20, color: \"gray\", fontStyle: \"italic\"}}>No\n        Saved Templates</div>}\n      {lcTemplates && <div style={{\n        flex: 1,\n        display: \"grid\",\n        gridAutoRows: \"1fr\",\n        overflowY: \"auto\",\n        gridTemplateColumns: \"repeat(3, 1fr)\"\n      }}>\n        {lcTemplates.map(template => <StyledButton type={\"button\"} fitWidth={true}\n                                                   selected={template.id === selectedTemplate?.id}\n                                                   onClick={() => setSelectedTemplate(template)}\n                                                   key={template.id}\n                                                   style={{margin: \"10px\"}}>{template.templateName}</StyledButton>)}\n      </div>}\n    </Modal>\n  )\n};\n\nconst SaveTemplate = ({setModal, values, lcApp, appliedTemplate, setStatus, setAppliedTemplate}) => {\n  const [newTemplateValue, setNewTemplateValue] = useState(\"\");\n  const [selectedSaveButton, setSelectedSaveButton] = useState(0);\n  const [saveTemplateError, setSaveTemplateError] = useState(\"\");\n  const [submitCount, setSubmitCount] = useState(0);\n  const [templateNameSet, setTemplateNameSet] = useState();\n  const [integrityError, setIntegrityError] = useState(\"\");\n\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      setTemplateNameSet(\n        new Set((await makeAPIRequest(\"/lc/digital_app_templates/\", \"GET\")).map(template => template.templateName)));\n    };\n    fetchTemplates();\n  }, []);\n\n  useEffect(() => {\n    appliedTemplate && setSelectedSaveButton(1);\n  }, [appliedTemplate?.id]);\n\n  return (\n    <Modal show={true} title={\"Save Application Template\"} containerStyle={{width: \"60%\"}} selectButton={\"Save\"}\n           onCancel={() => setModal(null)} error={submitCount > 0 && saveTemplateError}\n           selectDisabled={submitCount && saveTemplateError}\n           onShow={() => {\n             const fields = [];\n             if (values.beneficiary?.name) {\n               fields.push(values.beneficiary.name.trim());\n             }\n             if (values[\"purchased_item\"]) {\n               fields.push(values[\"purchased_item\"].trim());\n             }\n             setNewTemplateValue(fields.join(\", \"));\n           }}\n           onSelect={async () => {\n             setSubmitCount(submitCount + 1);\n             const overwrite = selectedSaveButton === 1;\n             if (!overwrite && !newTemplateValue) {\n               setSaveTemplateError(\"Please input a valid template name\");\n               return;\n             }\n             const fields = {template_name: overwrite ? appliedTemplate.templateName : newTemplateValue.trim()};\n             lcApp.forEach(q => fields[q.key] =\n               (q.type === \"object\" || q.type === \"array_of_objs\" || q.type === \"checkbox\") ?\n                 JSON.stringify(values[q.key]) : values[q.key]);\n             const res = await makeAPIRequest(`/lc/digital_app_templates/${overwrite ? `${appliedTemplate.id}/` : \"\"}`,\n               overwrite ? \"PUT\" : \"POST\", fields, true);\n             let text = await res.text();\n             if (res.status !== 200) {\n               if (res.status >= 500) {\n                 text = \"Unknown server error. Please contact steve@bountium.org.\";\n               } else {\n                 setIntegrityError(text);\n               }\n               setSaveTemplateError(text);\n             } else {\n               setModal(null);\n               const questionType = {};\n               lcApp.forEach(q => questionType[q.key] = q.type);\n               const createdTemplate = JSON.parse(text)[overwrite ? \"updated_lc_template\" : \"created_lc_template\"];\n               for (let [key, value] of Object.entries(createdTemplate)) {\n                 if (questionType[key] === \"object\" ||\n                   questionType[key] === \"array_of_objs\" ||\n                   questionType[key] === \"checkbox\") {\n                   value = JSON.parse(value);\n                 }\n                 createdTemplate[key] = value;\n               }\n               setAppliedTemplate(objectToCamelCase(createdTemplate));\n               setStatus({status: \"success\", message: \"Successfully saved application\"});\n               setTimeout(() => setStatus({status: null, message: \"\"}), 2500);\n             }\n           }}\n    >\n      <div>\n        {appliedTemplate && <div style={{flexDirection: \"row\", display: \"flex\", paddingBottom: 20}}>\n          <StyledButton selected={selectedSaveButton === 1} nested type={\"button\"}\n                        onClick={() => {\n                          setSelectedSaveButton(1);\n                          setSaveTemplateError(\"\");\n                        }}\n                        style={{width: 160, justifyContent: \"center\"}}>\n            Overwrite</StyledButton>\n          <StyledDiv style={{flex: 1, marginLeft: 10, visibility: selectedSaveButton === 1 ? \"visible\" : \"hidden\"}}>\n            {appliedTemplate.templateName}</StyledDiv>\n        </div>}\n        <div style={{flexDirection: \"row\", display: \"flex\"}}>\n          <StyledButton selected={selectedSaveButton === 0} nested type={\"button\"}\n                        onClick={async () => {\n                          await setSelectedSaveButton(0);\n                          if (!newTemplateValue) {\n                            await setSaveTemplateError(\"Please input a valid template name\");\n                          } else if (templateNameSet.has(newTemplateValue)) {\n                            await setSaveTemplateError(integrityError);\n                          } else {\n                            await setSaveTemplateError(\"\");\n                          }\n                          document.querySelector(\"#newTemplateInput\").focus();\n                        }}\n                        style={{width: 160, justifyContent: \"center\"}}>\n            New</StyledButton>\n          <StyledInput style={{flex: 1, marginLeft: 10, visibility: selectedSaveButton === 0 ? \"visible\" : \"hidden\"}}\n                       type={\"text\"} value={newTemplateValue} id={\"newTemplateInput\"}\n                       onChange={({target}) => {\n                         let text = target.value;\n                         setNewTemplateValue(text);\n                         text = text.trim();\n                         if (!text) {\n                           setSaveTemplateError(\"Please input a valid template name\");\n                         } else if (templateNameSet.has(text)) {\n                           setSaveTemplateError(integrityError);\n                         } else {\n                           setSaveTemplateError(\"\");\n                         }\n                       }}/>\n        </div>\n      </div>\n    </Modal>\n  )\n};\n\nconst unsavedChanges = ({values, template, initialValues, submitCount}) => {\n  if (submitCount) {\n    return false;\n  }\n  if (!template) {\n    return !_.isEqual(values, initialValues);\n  }\n  for (let [templateField, templateValue] of Object.entries(template)) {\n    templateField = _.snakeCase(templateField);\n    templateValue = objectToSnakeCase(templateValue);\n    if (values[templateField] !== undefined && emptyAndChanged(values[templateField], templateValue) && !_.isEqual(\n      values[templateField], templateValue)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nconst emptyAndChanged = (currentValue, templateValue) => {\n  return currentValue || templateValue || currentValue === false || templateValue === false;\n};\n\nconst Refresh = ({appliedTemplate}) => {\n  const {values, initialValues, submitCount} = useFormikContext();\n  useEffect(() => {\n    if (unsavedChanges({values, template: appliedTemplate, initialValues, submitCount})) {\n      window.onbeforeunload = () => \"You have unsaved changes. Are you sure you want to leave without saving?\";\n    } else {\n      window.onbeforeunload = undefined;\n    }\n    return () => window.onbeforeunload = undefined;\n  });\n  return null;\n};\n\nconst BankLCAppPage = ({match}) => {\n  const persistedLcApp = JSON.parse(localStorage.getItem(`lc/${match.params.bankid}`));\n  const [user] = useContext(UserContext);\n  const [lcApp, setLCApp] = useState(null);\n  const [status, setStatus] = useState({status: null, message: \"\"});\n  const [selectedSectionIndex, setSelectedSectionIndex] = useState(null);\n  const [sections, setSections] = useState(null);\n  let [initialValues, setInitialValues] = useState({});\n  const [modal, setModal] = useState(null);\n  const [appliedTemplate, setAppliedTemplate] = useState(null);\n  useAuthentication(`/bank/${match.params.bankid}/application`);\n  useEffect(() => {\n    if (user && match.params.bankid) {\n      makeAPIRequest(`/bank/${match.params.bankid}/digital_app/`)\n      .then(json => {\n        const sectionSet = new Set();\n        json.forEach(q => {\n          sectionSet.add(q.section);\n          if (q.options) {\n            q.options = JSON.parse(q.options);\n          }\n          if (q.settings) {\n            q.settings = JSON.parse(q.settings);\n          }\n          q.children.forEach(child => {\n            if (child.options) {\n              child.options = JSON.parse(child.options);\n            }\n            if (child.settings) {\n              child.settings = JSON.parse(child.settings);\n            }\n          });\n        });\n        const sections = [];\n        if (persistedLcApp) {\n          initialValues = persistedLcApp;\n        } else {\n          json.forEach(q => {\n            if (user && q.key === 'applicant') {\n              initialValues[q.key] = {\n                name: user.business.name,\n                address: user.business.address,\n                country: user.business.country\n              };\n            } else {\n              initialValues[q.key] = createDefault(q);\n            }\n          });\n        }\n        sectionSet.forEach(\n          section => sections.push({text: section, error: false}));\n        setSections(sections);\n        setSelectedSectionIndex(0);\n        setInitialValues(initialValues);\n\n        setLCApp(json);\n      })\n    }\n  }, [match.params.bankid, user]);\n\n  let validationSchema = null;\n\n  if (lcApp) {\n    const schemaObj = {};\n    lcApp.forEach(q => {\n      schemaObj[q.key] = createValidationSchema(q);\n    });\n    validationSchema = object().shape(schemaObj);\n  }\n  console.log(lcApp);\n\n  return <BasicLayout\n    title={`LC Application ✏️`} isLoading={!lcApp} status={status} marginStyle={{marginBottom: 0, marginTop: 10}}>\n    {lcApp && lcApp.length === 0 && <p>This Bank is not set up yet to be an issuer</p>}\n    {lcApp && lcApp.length > 0 &&  (\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={(values, {setSubmitting}) => {\n          setSubmitting(true);\n          const app = {};\n          Object.entries(values).forEach((kv) => {\n            const [key, value] = kv;\n            if (value === null) {\n            } else {\n              app[key] = value;\n            }\n          });\n          makeAPIRequest(`/lc/by_bank/${match.params.bankid}/`, 'POST', app, true)\n          .then(async res => {\n            let text = await res.text();\n            if (res.status === 200) {\n              localStorage.removeItem(`lc/${match.params.bankid}`);\n              setStatus({\n                message:\n                  <div>\n                    <div style={{display: \"flex\"}}>\n                      <span style={{flex: 1}}/>\n                      <StyledIcon onClick={() => setStatus({status: null, message: \"\"})}\n                                  icon={faTimes} style={{color: \"black\"}}/>\n                    </div>\n                    <div>Your LC app has been sent in! The bank will get back to you ASAP.</div>\n                    <div style={{paddingTop: 25}}>\n                      <ClickableText onClick={() => {\n                        setStatus({status: null, message: \"\"});\n                        setModal(\"saveTemplate\");\n                      }}>\n                        Click here\n                      </ClickableText> to save your submitted application.\n                    </div>\n                  </div>,\n                status: \"success\"\n              });\n            } else {\n              if (text.length > 250) {\n                text = \"Unknown server error. Please contact steve@bountium.org.\";\n              }\n              localStorage.setItem(`lc/${match.params.bankid}`, JSON.stringify(values));\n              setStatus({status: \"error\", message: `Error submitting form: ${text}`});\n            }\n          });\n          setSubmitting(false);\n        }}\n      >\n        {({isSubmitting, errors, touched, setTouched, values, validateForm, setValues, handleSubmit, submitCount}) => (\n          <div style={{display: \"flex\", paddingBottom: 40}}>\n            <RouteBlockingModal when={unsavedChanges({values, template: appliedTemplate, initialValues, submitCount})}/>\n            <Refresh appliedTemplate={appliedTemplate}/>\n            {modal === \"loadTemplate\" && <LoadTemplate\n              initialValues={initialValues} lcApp={lcApp}\n              setAppliedTemplate={setAppliedTemplate} setModal={setModal}\n              setStatus={setStatus}\n              setValues={setValues} values={values}\n            />}\n            {modal === \"saveTemplate\" && <SaveTemplate\n              values={values} setStatus={setStatus} setAppliedTemplate={setAppliedTemplate}\n              setModal={setModal} lcApp={lcApp} appliedTemplate={appliedTemplate}\n            />}\n            <ErrorFocus\n              values={values} errors={errors} touched={touched} isSubmitting={isSubmitting} setLCApp={setLCApp}\n              setTouched={setTouched}\n              selectedSection={sections[selectedSectionIndex]} questions={lcApp} validateForm={validateForm}\n              setSectionsError={(erroredSectionSet => {\n                const sectionsErrors = sections.map(section => section.error);\n                sections.forEach(section => {\n                  section.error = erroredSectionSet.has(section.text)\n                });\n                !_.isEqual(sections.map(section => section.error), sectionsErrors) && setSections([...sections]);\n              })}/>\n            <ResizableScreenDiv\n              style={{width: \"30%\", position: \"sticky\", top: 0, display: \"flex\", flexDirection: \"column\"}}>\n              <div style={{flex: 1}}>\n                <div style={{display: \"flex\", flexDirection: \"row\"}}>\n                  <StyledButton type={\"button\"} style={{marginRight: \"10px\"}} fitWidth={true} onClick={() => {\n                    setModal(\"loadTemplate\");\n                  }}>Load Template</StyledButton>\n                  <StyledButton type={\"button\"} style={{marginLeft: 10, marginRight: 15}} fitWidth={true}\n                                onClick={() => setModal(\"saveTemplate\")}>\n                    Save As Template</StyledButton>\n                </div>\n                <ButtonVerticalWrapper>\n                  {sections.map((section, index) => (<StyledSection\n                    type=\"button\"\n                    onClick={() => setSelectedSectionIndex(index)}\n                    style={{whiteSpace: \"pre\"}}\n                    key={section.text}\n                    selected={index === selectedSectionIndex}>\n                    {section.text}\n                    {section.error && <SectionSubtitle\n                      style={{color: '#dc3545'}}>{REQUIRED_SECTION_MSG}</SectionSubtitle>}\n                  </StyledSection>))}\n                </ButtonVerticalWrapper>\n                <div style={{display: \"flex\", marginTop: \"20px\", width: \"95%\"}}>\n                  <Button disabled={isSubmitting} onClick={handleSubmit}>Submit LC App</Button>\n                </div>\n              </div>\n              <div style={{flex: 1}}/>\n              {status.status && <StatusMessage style={{overflowY: \"auto\", flexGrow: 0, marginTop: 20}}\n                                               status={status.status}>{status.message}</StatusMessage>}\n            </ResizableScreenDiv>\n            <Form style={{width: \"70%\"}}>\n              <div>\n                {lcApp && lcApp.filter(question => sections[selectedSectionIndex].text === question.section).map(\n                  question => {\n                    const Component = TYPE_TO_COMPONENT[question.type];\n                    return <Component\n                      key={question.id} question={question} status={status} setStatus={setStatus} lcApp={lcApp}\n                      setAppliedTemplate={setAppliedTemplate} appliedTemplate={appliedTemplate}\n                      bankId={match.params.bankid}/>;\n                  })}\n                <div style={{display: \"flex\", marginLeft: \"150px\", marginRight: \"150px\"}}>\n                  <Button\n                    style={{flex: 1, marginRight: \"50px\"}}\n                    disabled={selectedSectionIndex === 0}\n                    onClick={() => setSelectedSectionIndex(selectedSectionIndex - 1)}\n                    type=\"button\">Previous Section</Button>\n                  <Button\n                    style={{flex: 1, marginLeft: \"50px\"}}\n                    onClick={selectedSectionIndex < sections.length - 1 ? () => setSelectedSectionIndex(\n                      selectedSectionIndex + 1) : null}\n                    type={selectedSectionIndex === sections.length - 1 ? \"submit\" : \"button\"}>\n                    {selectedSectionIndex === sections.length - 1 ? \"Submit LC App\" : \"Next Section\"}\n                  </Button>\n                </div>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n\n    )}\n  </BasicLayout>\n};\n\nexport default BankLCAppPage;\n","import React, {useContext} from \"react\";\nimport styled from \"styled-components\";\nimport {Formik, Form, Field, ErrorMessage} from 'formik';\nimport {string, object, ref} from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport {makeAPIRequest} from '../../utils/api';\nimport {UserContext} from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\nimport {Link} from \"react-router-dom\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n    newBusinessName: string().required(requiredMsg),\n    newBusinessAddress: string().required(requiredMsg),\n    name: string().required(requiredMsg),\n    title: string().required(requiredMsg),\n    email: string().email('Please enter a valid email address.').required(requiredMsg),\n    password: string().required(requiredMsg).matches(\n        /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n        \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n        \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n    ), // wtf is this regex... idk but it works\n    // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n    // TODO update this to be more user friendly\n    passwordConfirm: string().required(requiredMsg)\n        .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({title, type, name}) => {\n    return (\n        <FormInputWrapper>\n            <FormInputTitle>{title}</FormInputTitle>\n            <StyledFormInput type={type} name={name}/>\n            <StyledErrorMessage name={name} component=\"div\"/>\n        </FormInputWrapper>\n    );\n};\n\nconst BusinessSignUpPage = ({history}) => {\n    const setUser = useContext(UserContext)[1];\n    return (\n        <BasicLayout\n            title=\"Welcome! 🎉\"\n            subtitle={\n                <>\n                    Get your team up & running with lightning-fast LC processing.\n                    <br/><br/>\n                    <span style={{fontStyle: 'italic'}}>Not a business? </span>\n                    <Link to=\"/bank/register\">Register as a bank</Link>\n                </>\n            }\n        >\n            <Formik\n                initialValues={{\n                    newBusinessName: '',\n                    newBusinessAddress: '',\n                    name: '',\n                    title: '',\n                    email: '',\n                    password: '',\n                    passwordConfirm: '',\n                }}\n                onSubmit={(values, {setSubmitting}) => {\n                    setSubmitting(true);\n                    makeAPIRequest(\"/business/\", \"POST\", values)\n                        .then((json) => {\n                            setUser({...json.userEmployee, business: json.usersEmployer});\n                            history.push(\"/business/invite\");\n                        })\n                        .then(() => setSubmitting(false));\n                }}\n                validationSchema={signUpFormValidationSchema}\n            >\n                {({isSubmitting}) => (\n                    <SignUpForm>\n                        <FormInput\n                            title=\"Business Name\"\n                            name=\"newBusinessName\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Business Address\"\n                            name=\"newBusinessAddress\"\n                            type=\"text\"\n                        />\n\n                        <FormInput\n                            title=\"Business Country\"\n                            name=\"newBusinessCountry\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Your Name\"\n                            name=\"name\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Your Title\"\n                            name=\"title\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Email\"\n                            name=\"email\"\n                            type=\"text\"\n                        />\n                        <FormInput\n                            title=\"Password\"\n                            name=\"password\"\n                            type=\"password\"\n                        />\n                        <FormInput\n                            title=\"Confirm Password\"\n                            name=\"passwordConfirm\"\n                            type=\"password\"\n                        />\n                        <FormFooter>\n                            <Button showArrow disabled={isSubmitting}>\n                                Sign Up\n                            </Button>\n                        </FormFooter>\n                    </SignUpForm>\n                )}\n            </Formik>\n        </BasicLayout>\n    );\n};\n\nexport default BusinessSignUpPage;\n","import React, { useContext } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { object, string } from 'yup';\n\nimport Button from '../../components/ui/Button';\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { useAuthentication, UserContext } from '../../utils/auth';\nimport { makeAPIRequest } from '../../utils/api';\nimport styled from 'styled-components';\nimport { useState } from 'react';\n\nconst StyledForm = styled(Form)`\n  display: flex;\n  max-width: 800px;\n  min-width: 400px;\n  margin: auto;\n  justify-content: center;\n  > :not(:last-child) {\n    margin-right: 10px;\n  }\n`;\n\nconst FormWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`\n\nconst validationSchema = object().shape({\n  email: string().email('Please enter a valid email address.').required('Please enter an email address.'),\n});\n\nconst StatusMessage = styled.div`\n  ${props => props.status && `\n    padding: 10px;\n  `}\n  border-radius: 5px;\n  max-width: 400px;\n  overflow: scroll;\n  margin: 40px auto auto;\n  background-color: ${props => props.status === `error` ? `#dc3545` : `#4bb759`};\n  color: #fff;\n`\n\nconst StyledField = styled(Field)`\n  border-radius: 5px;\n  border: 1px solid #cdcdcd;\n  font-size: 18px;\n  padding-left: 10px;\n`\n\nconst ErrorMessageWrapper = styled.div`\n  margin: auto;\n  max-width: 400px;\n  color: #dc3545;\n  margin-top: 10px;\n`\n\nconst ButtonHolder = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst BusinessInvitePage = ({ history }) => {\n  useAuthentication('/business/invite');\n  const [user] = useContext(UserContext);\n  const [status, setStatus] = useState({ status: null, message: \"\"});\n  return (\n    <BasicLayout\n      title={`Welcome${(user ? ', ' + user.name : '')} 🚀`}\n      subtitle=\"Enter your teammates' emails to invite them to the platform.\"\n    >\n      <Formik\n        initialValues={{ email: '' }}\n        onSubmit={(values, { setSubmitting }) => {\n          setSubmitting(true);\n          makeAPIRequest(`/business/${user.employer.id}/invite_teammate/`, \"POST\", { \"inviteeEmail\": values.email }, true)\n            .then((response) => {\n              if (response.status === 200) setStatus({\n                status: \"success\",\n                message: `Invite sent to ${values.email}!`\n              });\n              else setStatus({\n                status: \"error\",\n                message: `Error inviting ${values.email}.`\n              })\n            });\n          setSubmitting(false);\n        }}\n        validationSchema={validationSchema}\n      >\n      {({ isSubmitting }) => (\n        <FormWrapper>\n        <StyledForm>\n          <StyledField type=\"email\" name=\"email\"/>\n          <Button type=\"submit\">{isSubmitting ? 'Sending...' : 'Send'}</Button>\n        </StyledForm>\n        <ErrorMessageWrapper>\n          <ErrorMessage name=\"email\"/>\n        </ErrorMessageWrapper>\n        </FormWrapper>\n      )}\n      </Formik>\n        {status.status && (<StatusMessage status={status.status}>{status.message}</StatusMessage>)}\n\n    <ButtonHolder>\n      <Button showArrow onClick={() => history.push(\"/business/createApp\")}>\n        Next\n      </Button>\n    </ButtonHolder>\n    </BasicLayout>\n  );\n}\n\nexport default BusinessInvitePage;\n","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\nimport { get } from \"lodash\";\n\nimport Button from \"../../components/ui/Button\";\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { useAuthentication, UserContext } from \"../../utils/auth\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n`;\n\nconst signUpFormValidationSchema = object().shape({\n  newBusinessName: string(),\n  name: string(),\n  title: string(),\n  password: string().matches(\n    /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n  // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n  // TODO update this to be more user friendly\n  passwordConfirm: string()\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BusinessManageAccountPage = () => {\n  useAuthentication(\"/business/account\");\n  const [user, setUser] = useContext(UserContext);\n\n  return (\n    <BasicLayout title=\"My Account 🛠\" subtitle=\"View and edit your user settings.\" isLoading={!user}>\n    <Formik\n      initialValues={{\n        name: get(user, ['name']), title: get(user, ['title']), password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(`/business/${get(user, ['business', 'id'])}/${get(user, ['id'])}/`, \"PUT\", { name: values.name, title: values.title })\n          .then((json) => {\n            setUser({ ...json.userEmployee, business: json.usersEmployer });\n          })\n          .then(() => setSubmitting(false))\n          .catch((err) => console.error(err));\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"New Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm New Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n          <Button disabled={isSubmitting}>\n            Save Update\n          </Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n}\n\nexport default BusinessManageAccountPage;\n","import React, {useContext, useState} from \"react\";\nimport styled from \"styled-components\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { string, object, ref } from 'yup';\n\nimport BasicLayout from \"../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../utils/api';\nimport { UserContext } from \"../../utils/auth\";\nimport Button from \"../../components/ui/Button\";\nimport StatusMessage from \"../../components/ui/StatusMessage\";\n\nconst SignUpForm = styled(Form)`\n  background-color: #fff;\n  padding: 10px 20px;\n  border: 1px solid #e5e4e2;\n  border-radius: 25px;\n`;\n\nconst FormInputWrapper = styled.div`\n  margin: 20px 10px 40px;\n`;\n\nconst FormInputTitle = styled.h3`\n  font-size: 14px;\n  color: #555;\n`;\n\nconst StyledFormInput = styled(Field)`\n  font-size: 18px;\n  padding: 10px 0 5px;\n  min-width: 100%;\n  border: none;\n  border-bottom: 1px solid #cdcdcd;\n`;\n\nconst StyledErrorMessage = styled(ErrorMessage)`\n  font-size: 12px;\n  color: #f00;\n  margin-top: 5px;\n`;\n\nconst FormFooter = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  margin-bottom: 10px;\n  \n  > :nth-child(1) {\n    grid-column-start: 2;\n    justify-self: center;\n  }\n  \n  > :nth-child(2) {\n    justify-self: end;\n  }\n`;\n\nconst requiredMsg = 'This field is required.';\n\nconst signUpFormValidationSchema = object().shape({\n  name: string().required(requiredMsg),\n  title: string().required(requiredMsg),\n  email: string().email('Please enter a valid email address.').required(requiredMsg),\n  password: string().required(requiredMsg).matches(/^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\n    \"Password must have at least 8 characters, and have at least one of each of the following: \" +\n    \"uppercase letter, lowercase letter, number, other special character (@$!%*#?&).\"\n  ), // wtf is this regex... idk but it works\n    // source https://stackoverflow.com/questions/55451304/formik-yup-password-strength-validation-with-react\n    // TODO update this to be more user friendly\n  passwordConfirm: string().required(requiredMsg)\n    .oneOf([ref('password')], \"Passwords do not match.\"),\n});\n\nconst FormInput = ({ title, type, name }) => {\n  return (\n    <FormInputWrapper>\n      <FormInputTitle>{title}</FormInputTitle>\n      <StyledFormInput type={type} name={name}/>\n      <StyledErrorMessage name={name} component=\"div\"/>\n    </FormInputWrapper>\n  );\n};\n\nconst BusinessEmployeeSignUpPage = ({ history, match }) => {\n  const setUser = useContext(UserContext)[1];\n  const [status, setStatus] = useState({status: null, message: \"\"});\n  return (\n    <BasicLayout\n      title=\"Welcome! 🎉\"\n      subtitle=\"Create your account for lightning-fast LC processing.\"\n    >\n    <Formik\n      initialValues={{\n        name: '', title: '', email: '', password: '', passwordConfirm: '',\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        setSubmitting(true);\n        makeAPIRequest(`/business/${match.params.businessid}/register/`, \"POST\", values)\n          .then((json) => {\n            setUser({ ...json.userEmployee, business: json.usersEmployer });\n            history.push(match.params.lcid ? `/lc/${match.params.lcid}` : \"/business/invite\");\n          })\n          .then(() => setSubmitting(false))\n        .catch(e => {\n          if (e.status === 404) {\n            setStatus({status: \"error\", message: \"This link is invalid. Double-check your email.\"});\n            setSubmitting(false);\n          }\n          else {\n            e.text().then(message => {\n              setStatus({status: \"error\", message});\n              setSubmitting(false);\n            });\n          }\n        })\n      }}\n      validationSchema={signUpFormValidationSchema}\n    >\n    {({ isSubmitting }) => (\n      <SignUpForm>\n        <FormInput\n          title=\"Your Name\"\n          name=\"name\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Your Title\"\n          name=\"title\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Email\"\n          name=\"email\"\n          type=\"text\"\n        />\n        <FormInput\n          title=\"Password\"\n          name=\"password\"\n          type=\"password\"\n        />\n        <FormInput\n          title=\"Confirm Password\"\n          name=\"passwordConfirm\"\n          type=\"password\"\n        />\n        <FormFooter>\n          <StatusMessage style={{marginTop: 0, overflow: \"auto\"}} status={status.status}>{status.message}</StatusMessage>\n          <Button style={{height: \"fit-content\"}} showArrow disabled={isSubmitting}>\n            Sign Up\n          </Button>\n        </FormFooter>\n      </SignUpForm>\n    )}\n    </Formik>\n    </BasicLayout>\n  );\n};\n\nexport default BusinessEmployeeSignUpPage;\n","import React, { useEffect, useContext, useState } from 'react';\nimport { get } from 'lodash';\nimport styled from 'styled-components';\n\nimport BasicLayout from '../../../components/BasicLayout';\nimport { useAuthentication, UserContext } from '../../../utils/auth';\nimport { makeAPIRequest } from '../../../utils/api';\nimport Button from '../../../components/ui/Button';\nimport StatusMessage from '../../../components/ui/StatusMessage';\n\nconst ClaimMessage = styled.div`\n  font-weight: 300;\n  max-width: 600px;\n  text-align: center;\n  margin: auto auto 20px;\n  font-size: 18px;\n`\n\nconst useStatus = (init) => {\n  const [status, setStatus] = useState(init || {status: null, message: ''});\n  return {\n    status,\n    setSuccess: (msg) => setStatus({status: 'success', message: msg}),\n    setError: (msg) => setStatus({status: 'error', message: msg}),\n    clearStatus: () => setStatus({status: null, message: ''}),\n  }\n}\n\nconst ClaimBeneficiaryStatusPage = ({ match, history }) => {\n  const lcid = match.params.lcid;\n  useAuthentication(`/business/claimBeneficiary/${lcid}`);\n  const [lc, setLc] = useState(null);\n  const [user] = useContext(UserContext);\n  const { status, setError, setSuccess } = useStatus();\n\n  useEffect(() => {\n    makeAPIRequest(`/lc/${lcid}/`, 'GET')\n      .then(json => setLc(json));\n  }, [lcid])\n\n  const handleClick = () => {\n    makeAPIRequest(`/lc/${lcid}/claim_beneficiary/`, 'POST')\n      .then(() => setSuccess('Congratulations! You have claimed beneficiary status on this order.'))\n      .catch(async (res) => {\n        const a = await res.text();\n        if (a.length > 250) setError('There was an error claiming beneficiary status.')\n        else setError('There was an error claiming beneficiary status: ' + res.error)\n      })\n  }\n\n  return (\n    <BasicLayout\n      title=\"Claim Beneficiary Status\"\n      isLoading={!(user && lc)}\n    >\n      <ClaimMessage>\n        {`Are you a representative of ${get(user, 'business.name')}, selling ${lc && lc.purchasedItem ? `${get(lc, 'unitsPurchased')}\n         ${get(lc, 'unitOfMeasure')} of ${get(lc, 'purchasedItem')} ` : ''}to ${get(lc, 'client.name')}${lc && lc.dueDate ? \n         `, due by ${get(lc, 'dueDate')}` : ''}?`}\n      </ClaimMessage>\n      <center><Button onClick={handleClick}>Yes, Claim Beneficiary Status</Button></center>\n      {status.status && <StatusMessage status={status.status}>{status.message}</StatusMessage>}\n    </BasicLayout>\n  )\n}\n\nexport default ClaimBeneficiaryStatusPage;\n","import React, { useContext } from \"react\";\nimport BusinessLCFeed from \"./BusinessLCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { get } from \"lodash\";\n\nconst ClientLCFeedPage = ({ match }) => {\n  useAuthentication(`/business/lcs/client/`);\n  const [user] = useContext(UserContext);\n  const businessid = get(user, ['business', 'id']);\n  const businessname = get(user, ['business', 'name']);\n\n  const title = `All LCs ${businessname} has applied or been approved for`\n  return <BusinessLCFeed\n    title={title}\n    url={`/lc/by_client/${businessid}/`}\n    user={user}\n    hideSearch\n    currentlyOnClient\n    />\n}\n\nexport default ClientLCFeedPage\n","import React, { useContext } from \"react\";\nimport BusinessLCFeed from \"./BusinessLCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { get } from 'lodash'\n\nconst BeneficiaryLCFeedPage = ({ match }) => {\n  useAuthentication(`/business/lcs/beneficiary/`);\n  const [user] = useContext(UserContext);\n  const businessid = get(user, ['business', 'id']);\n  const businessname = get(user, ['business', 'name']);\n\n  const title = `All LCs for which ${businessname} is the named beneficiary`\n  return <BusinessLCFeed\n    title={title}\n    url={`/lc/by_beneficiary/${businessid}/`}\n    user={user}\n    hideSearch\n    />\n}\n\nexport default BeneficiaryLCFeedPage\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { get } from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport { makeAPIRequest } from '../../../utils/api';\nimport config from \"../../../config\";\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n\n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\nconst useDebouncedEffect = (callback, parameters, delay) => {\n  const currentTimeout = useRef(null);\n\n  useEffect(() => {\n    if (currentTimeout.current !== null) {\n      clearTimeout(currentTimeout.current);\n    }\n    currentTimeout.current = setTimeout(callback, delay);\n    /* eslint-disable-next-line */\n  }, parameters);\n};\n\nconst Search = styled.input`\n  font-size: 16px;\n  padding: 5px 10px 5px 0;\n  border: none;\n`\n\nconst SearchWrapper = styled.div`\n  background-color: #fff;\n  border: 1px solid #cdcdcd;\n`\n\nconst Filter = ({ banks, setShownBanks }) => {\n  const [filter, setFilter] = useState(null);\n  useDebouncedEffect(() => {\n    if (filter === null) return;\n    setShownBanks(banks.filter(bank => bank.name.toLowerCase().includes(filter.toLowerCase())));\n  }, [filter, banks], 200)\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n    <SearchWrapper>\n    <FontAwesomeIcon icon={faSearch}  style={{ padding: \"0 10px\"}} />\n      <Search type=\"text\" onChange={(e) => setFilter(e.target.value)} />\n    </SearchWrapper>\n      <span style={{ fontStyle: 'italic', marginLeft: '10px', fontWeight: 300, color: '#454545' }}>Start typing to filter by name</span>\n    </div>\n  )\n}\n\nconst BankListEntry = ({ bank }) => {\n  return (\n      <StyledLink to={`/bank/${bank.id}/application`}>\n      <ListEntryWrapper>\n        <ListEntryField>{bank.name}</ListEntryField>\n      </ListEntryWrapper>\n      </StyledLink>\n  )\n}\n\nconst BankDirectory = ({ title, user, url, hideSearch }) => {\n  const [banks, setBanks] = useState(null);\n  const [shownBanks, setShownBanks] = useState(null);\n\n  const businessid = get(user, ['business', 'id']);\n\n  useEffect(() => {\n    if (!businessid) return;\n    makeAPIRequest(url)\n      .then(json => {\n        setBanks(json);\n        setShownBanks(json);\n      });\n  }, [businessid, url]);\n\n  return (\n    <BasicLayout\n      title={title}\n      isLoading={!shownBanks}\n    >\n    {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n    <div>\n      {!hideSearch && <Filter banks={banks} setShownBanks={setShownBanks} />}\n      <ListEntryWrapper header>\n        <ListEntryField>Bank</ListEntryField>\n      </ListEntryWrapper>\n    </div>\n    {(shownBanks && (shownBanks.length > 0 ? (\n      <div>\n    {shownBanks.map(bank => <BankListEntry bank={bank} key={bank.id}/>)}\n    </div>\n    ) : (<center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>No banks found.</center>)))}\n    </BasicLayout>\n  )\n\n}\n\nconst BankDirectoryPage = ({ match }) => {\n  useAuthentication(`/banks/`);\n  const [user] = useContext(UserContext);\n\n  const title = `Find the perfect bank for your LC needs!`\n  return <BankDirectory\n    title={title}\n    url={`/bank/`}\n    user={user}\n    />\n}\n\nexport default BankDirectoryPage;\n","import React, {useState, useContext, useEffect, Fragment} from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport { makeAPIRequest } from \"../../../utils/api\";\nimport BasicLayout from \"../../../components/BasicLayout\";\nimport {get} from \"lodash\";\nimport {Modal} from \"../../../components/ui/Modal\";\nimport {faEdit, faSearch} from \"@fortawesome/free-solid-svg-icons\";\nimport Button from \"../../../components/ui/Button\";\nimport {Dropdown} from \"../../../components/ui/Dropdown\";\n\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport config from '../../../config';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #000;\n  line-height: 1.25;\n`\n\nconst StyledButton = styled.button`\n  background-color: ${(props) => props.selected ? config.accentColor : `#fff`};\n  border-radius: 5px;\n  padding: 5px 10px;\n  color: ${(props) => props.selected ? `#fff` : config.accentColor};\n  border: 1px solid ${config.accentColor};\n  font-size: 16px;\n  cursor: pointer;\n  margin: 10px 0;\n  display: flex;\n  align-items: center;\n`;\n\nconst ListEntryField = styled.li`\n  flex-grow: 1;\n  flex-basis: 20%;\n  padding-left: 10px;\n  padding-right: 10px;\n`\n\nconst ListEntryWrapper = styled.ul`\n  display: flex;\n  margin: 10px auto;\n  padding: 15px 25px;\n  border: 1px solid #cdcdcd;\n  font-weight: 500;\n  align-items: center;\n  \n  ${(props) => !props.header && `\n  font-weight: 400;\n  &:hover {\n    border: 1px solid ${config.accentColor};\n  }`}\n  transition: border 0.3s;\n  background-color: #fff;\n`\n\n\nexport const LCListEntry = ({setChange, toChange, employee, setEmployees, bank_id, edit}) => {\n    const options = ['Authorized', 'Unauthorized'];\n    const [index, setIndex] = useState(null);\n    const [modal, setModal] = useState(false);\n\n        useEffect(() => {\n        for (let changeItem of toChange) {\n            if (changeItem.id === employee.employee.id) {\n                setIndex(options.indexOf(changeItem.authField));\n                return;\n            }\n        }\n        // otherwise check the employee value that was already passed in\n        for (let authItem of employee.employee.authorizedBanks) {\n            if (authItem.bank.id === bank_id) {\n                setIndex(options.indexOf(authItem.status));\n                return;\n            }\n        }\n            setIndex(1);\n    }, [setIndex, toChange, index]);\n\n    const Reject = () => {\n        makeAPIRequest(`/business/${employee.employee.id}/${bank_id}/Unauthorized/`, 'PUT')\n            .then(json => {\n                setIndex(1);\n                window.location.reload(true);\n            }).catch((error) => {console.log(error)})\n    }\n\n    //  Authorize the employee submitting the LC\n    const Authorize = () => {\n        makeAPIRequest(`/business/${employee.employee.id}/${bank_id}/Authorized/`, 'PUT')\n            .then(json => {\n                setIndex(0);\n                window.location.reload(true);\n            }).catch((error) => {console.log(error)})\n    }\n\n    return (\n        <Fragment>\n            <ListEntryWrapper>\n                <ListEntryField>{employee.employee.name}</ListEntryField>\n                <ListEntryField>{employee.employee.email}</ListEntryField>\n                <ListEntryField>\n               <StyledButton style = {{float: \"left\"}} selected={options[index] === \"Authorized\"} onClick={Authorize}>Authorize</StyledButton>\n                    <StyledButton selected={options[index] === \"Unauthorized\"} onClick={() => {\n                        if (options[index] !== \"Unauthorized\"){\n                            setModal(true)\n                        }\n                    }}>Reject</StyledButton>\n                </ListEntryField>\n            </ListEntryWrapper>\n\n            <Modal containerStyle={{width: \"55%\"}} show={modal === true}\n                   title={\"Unauthorize Employee\"}\n                   onCancel={() => setModal(false)}\n                   onSelect={Reject}\n                   selectButton={\"Yes\"}>\n                <div>\n                    Are you sure you want to unauthorize {employee.employee.name}? This will affect every other Letter of Credit they have applied for.\n                </div>\n            </Modal>\n        </Fragment>\n    )\n}\n\n// const Financials = ({client}) => {\n//     const [cashFlow, setCashFlow] = useState(parseFloat(client.annualCashflow).toFixed(2));\n//    const  [balanceAvailable, setBalanceAvailable] = useState(parseFloat(client.balanceAvailable).toFixed(2));\n//\n//     console.log(client);\n//     return (\n//         <BasicLayout\n//             title={\"Financials\"}\n//             isLoading={!client}\n//             style = {{display: \"inline\"}}>\n//             {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n//\n//             <ListEntryWrapper>\n//                 <ListEntryField>Annual Cash Flow </ListEntryField>\n//                 <ListEntryField>${cashFlow}</ListEntryField>\n//             </ListEntryWrapper>\n//             <ListEntryWrapper>\n//                 <ListEntryField>Balance Avaialable</ListEntryField>\n//                 <ListEntryField>${balanceAvailable}</ListEntryField>\n//             </ListEntryWrapper>\n//\n//         </BasicLayout>\n//     )\n//\n// }\nconst AuthorizedEmployees = ({client, user}) => {\n    const [employees, setEmployees] = useState([]);\n    const [edit, setEdit] = useState(false);\n    const bank_id = get(user, ['bank', 'id']);\n    const [toChange, setChange] = useState([]);\n\n    useEffect(() => {\n        makeAPIRequest(`/business/${client.id}/${bank_id}/authorized_employees/`).then(json => {\n            setEmployees(json)\n        })\n    }, [client, bank_id])\n\n\n    return (\n        <BasicLayout\n            title={\"Authorized Employees\"}\n            isLoading={!employees}\n            style = {{display: \"inline\"}}\n            >\n            {/* \"Heading\" of the feed - delete if you think it unnecessary*/}\n            <div>\n                <ListEntryWrapper header>\n                    <ListEntryField>Employee</ListEntryField>\n                    <ListEntryField>Email</ListEntryField>\n                    <ListEntryField>Authorized</ListEntryField>\n                </ListEntryWrapper>\n            </div>\n                    {employees.map(employee => <LCListEntry toChange = {toChange} setChange={setChange} employee={employee} setEmployees = {setEmployees} bank_id={bank_id} key={employee.email} edit={edit}/>)}\n\n            {employees.length === 0 ? <center style={{ marginTop: '30px', fontStyle: 'italic', color: '#888' }}>This Business has no Employees</center> : null}\n        </BasicLayout>\n    )\n}\n\nconst AdvisorClientFeed = ({match}) => {\n    useAuthentication(`/bank/lcs/client/${match.params.clientid}`);\n    const [user] = useContext(UserContext);\n    const [client, setClient] = useState(null);\n    useEffect(() => {\n        makeAPIRequest(`/business/${match.params.clientid}/`)\n            .then(json => setClient(json))\n    }, [match.params.clientid])\n\n\n}\n\nconst ManageClientFeed = ({ match }) => {\n    useAuthentication(`/bank/lcs/client/${match.params.clientid}`);\n    const [user] = useContext(UserContext);\n    const [client, setClient] = useState(null);\n    useEffect(() => {\n        makeAPIRequest(`/business/${match.params.clientid}/`)\n            .then(json => setClient(json))\n    }, [match.params.clientid])\n    const title = client ? `All LCs for ${client.name}` : `All LCs for Client #${match.params.clientid}`;\n    return (\n    <Fragment>\n    <LCFeed\n        title={title}\n        url={`/lc/by_client/${match.params.clientid}/`}\n        user={user}\n        hideSearch\n        clientPage\n        currentlyOnIssuer\n        // switchLink={}\n    />\n        {client ?\n            <AuthorizedEmployees\n                client={client}\n                user={user}\n            /> : null}\n        {/*{client ? <Financials client = {client} /> : null}*/}\n\n    </Fragment>\n    )\n}\n\nexport default ManageClientFeed\n","import React, {useContext} from \"react\";\nimport BasicLayout from \"../../components/BasicLayout\";\nimport {useAuthentication, UserContext} from \"../../utils/auth\";\nimport styled from \"styled-components\";\n\nconst BankProfile = () => {\n    useAuthentication(\"/bank/account\");\n    const [user, setUser] = useContext(UserContext);\n\n    const Header = styled.h3`\n  padding: 30px 0;\n  font-size: 20px;\n`;\n\n\n    if (user) {\n        return (\n            <BasicLayout title={user.bank.name} isLoading={!user}>\n                <div style={{\n                    backgroundColor: \"#fff\",\n                    padding: \"10px 20px\",\n                    border: \"1px solid #e5e4e2\",\n                    borderRadius: \"25px\"\n                }}>\n                    {/*<Header>Bank : {user.bank.name}</Header>*/}\n                    <Header>Address : {user.bank.address}</Header>\n                    <Header>POC : {user.bank.email}</Header>\n                    {user.bank.website ? <Header>Website: <a href={user.bank.website}>{user.bank.website}</a> </Header> : null}\n\n                </div>\n            </BasicLayout>\n        )\n    }\n\n    // not done Loading\n    else {\n        return (\n            <div>\n\n            </div>\n        )\n    }\n}\nexport default BankProfile;\n","import React from \"react\";\n\nconst BusinessProfile = () => {\n    return (\n        <div>\n        </div>\n    )\n}\nexport default BusinessProfile;","import React, {useContext, useEffect, useState} from \"react\";\nimport BasicLayout from \"../../components/BasicLayout\";\nimport {useAuthentication, UserContext} from \"../../utils/auth\";\nimport styled from \"styled-components\";\nimport {makeAPIRequest} from \"../../utils/api\";\n\nconst BankViewProfile = ({match}) => {\n    const [bank, setBank] = useState(null);\n    const [user] = useContext(UserContext);\n    useAuthentication(\"/bank/account\");\n\n\n    const Header = styled.h3`\n  padding: 30px 0;\n  font-size: 20px;\n`;\n    // TODO change API to just return the new LC after we update it\n    const refreshLc = () => {\n        makeAPIRequest(`/bank/${match.params.bankid}/`)\n            .then(json => setBank(json))\n    };\n\n    useEffect(() => {\n        if (user) {\n            refreshLc();\n        }\n    }, [match.params.bankid, user?.id]);\n\n\n    if (bank && user) {\n        return (\n            <BasicLayout title={bank.name} isLoading={!user}>\n                <div style={{\n                    backgroundColor: \"#fff\",\n                    padding: \"10px 20px\",\n                    border: \"1px solid #e5e4e2\",\n                    borderRadius: \"25px\"\n                }}>\n                    {/*<Header>Bank : {user.bank.name}</Header>*/}\n                    <Header>Address : {bank.address}</Header>\n                    <Header>POC : {bank.email}</Header>\n                    {bank.website ? <Header>Website: <a href={bank.website}>{bank.website}</a> </Header> : null}\n\n                </div>\n            </BasicLayout>\n        )\n    }\n    // not done Loading return spinner\n    else {\n        return (\n            <div>\n            </div>\n        )\n    }\n}\nexport default BankViewProfile;\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\n\n\nconst BankLiveLCFeedPageAdvisor = () => {\n    useAuthentication('/bank/lcs/live');\n    const [user] = useContext(UserContext);\n    const bankid = get(user, ['bank', 'id']);\n    return <LCFeed\n        title=\"All Live LCs (Advising) 📄\"\n        url={`/lc/by_bank_advisor/${bankid}/live/`}\n        user={user}\n        switchLink={\"/bank/lcs/live/issuer\"}\n        currentlyOnAdvising\n    />\n}\n\nexport default BankLiveLCFeedPageAdvisor;\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\nimport BusinessLCFeed from \"../../business/feeds/BusinessLCFeed\";\n\nconst BankLCAppFeedPage = ({ match }) => {\n    useAuthentication('/bank/lcs');\n    const [user] = useContext(UserContext);\n    const bankid = get(user, ['bank', 'id']);\n    return <LCFeed\n        title=\"All LC Applications and Live LCs (Advising) 📝📄\"\n        url={`/lc/by_bank_advisor/${bankid}/`}\n        user={user}\n        switchLink={\"/bank/lcs/issuer\"}\n    />\n}\n\nexport default BankLCAppFeedPage;\n","import React, { useContext } from \"react\";\nimport LCFeed from \"./LCFeed\";\nimport { get } from \"lodash\";\nimport { useAuthentication, UserContext } from \"../../../utils/auth\";\n\nconst BankLCAppFeedPage = () => {\n    useAuthentication('/bank/lcs/apps');\n    const [user] = useContext(UserContext);\n    const bankid = get(user, ['bank', 'id']);\n    return <LCFeed\n        title=\"All LC Applications (Advising) 📝\"\n        url={`/lc/by_bank_advisor/${bankid}/awaiting_issuer_approval/`}\n        user={user}\n        switchLink={\"/bank/lcs/apps/issuer\"}\n    />\n}\n\nexport default BankLCAppFeedPage\n","import React, {useState} from 'react';\nimport {BrowserRouter as Router, Route, Switch, Redirect} from 'react-router-dom';\n\nimport GlobalStyle, {CSSReset} from './GlobalStyle'\nimport HomePage from './pages/HomePage/HomePage';\nimport LoginPage from './pages/LoginPage/LoginPage';\nimport Nav from './components/Nav';\nimport {UserContext} from './utils/auth';\nimport BankSignUpPage from './pages/bank/BankSignUpPage';\nimport BankInvitePage from './pages/bank/BankInvitePage';\nimport BankManageAccountPage from './pages/bank/BankManageAccountPage';\nimport BankLCAppFeedPage from './pages/bank/feeds/BankLCAppFeedPage';\nimport BankLiveLCFeedPage from './pages/bank/feeds/BankLiveLCFeedPage';\nimport BankClientFeedPage from './pages/bank/feeds/BankClientFeedPage';\nimport BankLCFeedPage from './pages/bank/feeds/BankLCFeedPage';\nimport BankLCFeedPageByClient from './pages/bank/feeds/BankLCFeedPageByClient';\nimport LCViewPage from './pages/LCViewPage/LCViewPage';\nimport BankEmployeeSignUpPage from './pages/bank/BankEmployeeSignUpPage';\nimport BankLCAppPage from './pages/bank/BankLCAppPage';\nimport BusinessSignUpPage from './pages/business/BusinessSignUpPage';\nimport BusinessInvitePage from './pages/business/BusinessInvitePage';\nimport BusinessManageAccountPage from './pages/business/BusinessManageAccountPage';\nimport BusinessEmployeeSignUpPage from './pages/business/BusinessEmployeeSignUpPage';\nimport ClaimBeneficiaryStatusPage from './pages/business/beneficiary/ClaimBeneficiaryStatusPage';\nimport ClientLCFeedPage from './pages/business/feeds/ClientLCFeedPage';\nimport BeneficiaryLCFeedPage from './pages/business/feeds/BeneficiaryLCFeedPage';\nimport BankDirectoryPage from './pages/business/feeds/BankDirectoryPage';\nimport AdvisorLCFeedPage from './pages/bank/feeds/AdvisorLCFeedPage';\nimport ManageClientFeed from \"./pages/bank/feeds/ManageClientFeed\";\nimport BankProfile from \"./pages/ProfilePage/BankProfile\";\nimport BusinessProfile from \"./pages/ProfilePage/BusinessProfile\";\nimport BankViewProfile from \"./pages/ProfilePage/BankViewProfile\";\nimport BankLiveLCFeedPageAdvisor from \"./pages/bank/feeds/BankLiveLCFeedPageAdvisor\";\nimport BankLCFeedPageAdvisor from \"./pages/bank/feeds/BankLCFeedPageAdvisor\";\nimport BankLCAppFeedPageAdvisor from \"./pages/bank/feeds/BankLCAppFeedPageAdvisor\";\n\n// TODO It seems like having the presentational nav in this mostly-container\n//      component is poor separation of concerns. Look into this.\nfunction App() {\n  const [user, setUser] = useState(null);\n  // const [user, setUser] = useState(null);\n  // TODO:\n  //<Route path=\"/business/lcs/:lcid\" component={BusinessLCViewPage} />\n  //<Route path=\"/business/lcs\" component={BusinessLCFeedPage} />\n\n  return (\n    <UserContext.Provider value={[user, setUser]}>\n      <Router>\n        <CSSReset/>\n        <GlobalStyle/>\n        <Nav user={user} setUser={setUser}/>\n        <Switch>\n          <Route path=\"/create\"/>\n          <Route path=\"/manage\"/>\n          <Route path=\"/bank/register/:bankid/:lcid\" component={BankEmployeeSignUpPage}/>\n          <Route path=\"/bank/register/:bankid\" component={BankEmployeeSignUpPage}/>\n          <Route path=\"/bank/register\" component={BankSignUpPage}/>\n          <Route path=\"/bank/invite\" render={props => user && user.business ? <Redirect to={\"/business/invite\"}/> :\n            <BankInvitePage {...props}/>}/>\n          <Route path=\"/bank/account\" render={props => user && user.business ? <Redirect to={\"/business/account\"}/> :\n            <BankManageAccountPage {...props}/>}/>\n          <Route path=\"/bank/profile/:bankid\" component={BankViewProfile}/>\n          <Route path=\"/bank/profile\" render={props => user && user.business ? <Redirect to={\"/business/profile\"}/> :\n              <BankProfile {...props}/>}/>\n          <Route path=\"/lc/:lcid\" component={LCViewPage}/>\n            <Route path=\"/bank/lcs/clients\" render ={props => user && user.business ? <Redirect to={\"/\"}/> :\n                <BankClientFeedPage {...props}/>} />\n          <Route path=\"/bank/lcs/client/:clientid\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n            <BankLCFeedPageByClient {...props}/>}/>\n          <Route path=\"/bank/lcs/live/advisor\" render ={props => user && user.business ? <Redirect to={\"/\"}/> :\n          <BankLiveLCFeedPageAdvisor {...props}/>}/>\n          <Route path=\"/bank/lcs/live/issuer\" render ={props => user && user.business ? <Redirect to={\"/\"}/> :\n              <BankLiveLCFeedPage {...props}/>}/>\n          <Route path=\"/bank/lcs/live\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n            <BankLiveLCFeedPage {...props}/>}/>\n          <Route path=\"/bank/lcs/apps/issuer\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n              <BankLCAppFeedPage {...props}/>}/>\n          <Route path=\"/bank/lcs/apps/advisor\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n              <BankLCAppFeedPageAdvisor {...props}/>}/>\n          <Route path=\"/bank/lcs/apps\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n            <BankLCAppFeedPage {...props}/>}/>\n          <Route path=\"/bank/lcs/advisor\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n              <BankLCFeedPageAdvisor {...props}/>}/>\n          <Route path=\"/bank/lcs/issuer\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n              <BankLCFeedPage {...props}/>}/>\n          <Route path=\"/bank/lcs\" render={props => user && user.business ? <Redirect to={\"/\"}/> :\n              <BankLCFeedPage {...props}/>}/>\n          <Route path=\"/bank/:bankid/application\"\n                 render={props => user && user.bank ? <Redirect to={\"/\"}/> : <BankLCAppPage {...props}/>}/>\n          <Route path = \"/bank/client/:clientid\" render ={props => user && user.business ? <Redirect to={\"/\"}/> :\n             <ManageClientFeed {...props}/>} />\n          <Route path=\"/business/register/:businessid/:lcid\" component={BusinessEmployeeSignUpPage}/>\n          <Route path=\"/business/register/:businessid\" component={BusinessEmployeeSignUpPage}/>\n          <Route path=\"/business/profile\" render={props => user && user.bank ? <Redirect to={\"/bank/profile\"}/> :\n              <BusinessProfile {...props}/>}/>\n          <Route path=\"/business/register\" component={BusinessSignUpPage}/>\n          <Route path=\"/business/invite\" render={props => user && user.bank ? <Redirect to={\"/bank/invite\"}/> :\n            <BusinessInvitePage {...props}/>}/>\n\n          <Route path=\"/business/account\" render={props => user && user.bank ? <Redirect to={\"/bank/account\"}/> :\n            <BusinessManageAccountPage {...props}/>}/>\n          <Route path=\"/business/claimBeneficiary/:lcid\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <ClaimBeneficiaryStatusPage {...props}/>}/>\n          <Route path=\"/business/lcs/client/\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <ClientLCFeedPage {...props}/>}/>\n          <Route path=\"/business/lcs/beneficiary/\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <BeneficiaryLCFeedPage {...props}/>}/>\n          <Route path=\"/business/lcs/\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <ClientLCFeedPage {...props}/>}/>\n          <Route path=\"/banks\" render={props => user && user.bank ? <Redirect to={\"/\"}/> :\n            <BankDirectoryPage {...props}/>}/>\n          <Route path=\"/login\" component={LoginPage}/>\n          <Route path=\"/\" component={HomePage}/>\n        </Switch>\n      </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/logo.980300c8.png\";"],"sourceRoot":""}